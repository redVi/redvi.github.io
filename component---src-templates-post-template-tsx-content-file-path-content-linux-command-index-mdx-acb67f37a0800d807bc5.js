"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[48],{2368:function(e,l,n){n.r(l),n.d(l,{Head:function(){return m.Ss},default:function(){return d}});var t=n(8876),a=n(4424);function r(e){const l=Object.assign({p:"p",code:"code",h2:"h2",a:"a",span:"span",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",pre:"pre",em:"em",blockquote:"blockquote",strong:"strong"},(0,t.MN)(),e.components);return a.createElement(a.Fragment,null,a.createElement(l.p,null,"В данной статье читателю предлагается окунуться в бескрайнее море возможностей,\nчто предоставляют unix-like системы. Здесь собраны воедино многие понятия и\nкоманды, которые полезно было бы знать для повседневной работы с командной\nстрокой. Разумеется, автор отдаёт себе отчёт в том, что охватить всё в одной\nзаметке невозможно. Тем не менее, было принято решение объединить в ней наиболее\nупотребительные термины и решение некоторых распространённых задач. Сделано это\nпо соображениям удобства поиска, дабы материал не приходилось\nискать на разных страницах."),"\n",a.createElement(l.p,null,"Приведёные ниже команды можно вводить как раздельно, так и в одну\nстроку. Во втором случае следует разделять команды знаком ",a.createElement(l.code,null,";"),". Каждый из\nразделов только коротко описывает назначение и употребление команд. Для\nполучения более подробной информации по каждой из них предлагается\nобратиться к справочным руководствам."),"\n",a.createElement(l.h2,{id:"содержание",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5","aria-label":"содержание permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Содержание"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#base"},"Базовые команды")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#search"},"Поиск по шаблону")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#sort"},"Сортировка и замена строк")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#compare"},"Сравнение файлов")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#metasymbols"},"Метасимволы")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#pipeline"},"Конвейеры")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#daemons"},"Процессы")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#environment"},"Настройка окружения")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#rwx"},"Права доступа и файлы")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#beep-disable"},"Отключение системного звукового сигнала")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#archive"},"Работа с архивами")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#full-backup"},"Полный backup и восстановление")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#incremental-backup"},"Инкременальный backup")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#download"},"Скачивание файлов/сайтов по сети")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#usb"},"Создание загрузочного usb-flash")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#who"},"Кто в системе")),"\n",a.createElement(l.li,null,a.createElement(l.a,{href:"#date-and-time"},"Установка даты и времени")),"\n"),"\n",a.createElement(l.h2,{id:"-базовые-команды",style:{position:"relative"}},a.createElement(l.a,{href:"#-%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B","aria-label":" базовые команды permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"base"})," Базовые команды"),"\n",a.createElement(l.p,null,"Список команд для ежедневного использования."),"\n",a.createElement(l.table,null,a.createElement(l.thead,null,a.createElement(l.tr,null,a.createElement(l.th,null,"команда"),a.createElement(l.th,null,"описание"))),a.createElement(l.tbody,null,a.createElement(l.tr,null,a.createElement(l.td,null,"mv file1 file2"),a.createElement(l.td,null,"переместить/переименовать файл")),a.createElement(l.tr,null,a.createElement(l.td,null,"rm file1"),a.createElement(l.td,null,"удалить файл")),a.createElement(l.tr,null,a.createElement(l.td,null,"rm -rf dir"),a.createElement(l.td,null,"удалить директорию")),a.createElement(l.tr,null,a.createElement(l.td,null,"rm -rf dir/*"),a.createElement(l.td,null,"удалить содержимое директории")),a.createElement(l.tr,null,a.createElement(l.td,null,"rmdir dir"),a.createElement(l.td,null,"удалить пустой каталог dir")),a.createElement(l.tr,null,a.createElement(l.td,null,"touch file1 file2"),a.createElement(l.td,null,"создать два файла")),a.createElement(l.tr,null,a.createElement(l.td,null,"cp file1 file2"),a.createElement(l.td,null,"копировать файл")),a.createElement(l.tr,null,a.createElement(l.td,null,"pwd"),a.createElement(l.td,null,"отобразить текущий каталог")),a.createElement(l.tr,null,a.createElement(l.td,null,"cd /home/user/work"),a.createElement(l.td,null,"перейти в каталог work пользователя user")),a.createElement(l.tr,null,a.createElement(l.td,null,'echo "hello" > file1'),a.createElement(l.td,null,'записать "hello" в файл (сотрёт всё остальное)')),a.createElement(l.tr,null,a.createElement(l.td,null,'echo "hello" >> file1'),a.createElement(l.td,null,'дописать "hello" в конец файла')),a.createElement(l.tr,null,a.createElement(l.td,null,"ctrl-s"),a.createElement(l.td,null,"приостановить вывод команды")),a.createElement(l.tr,null,a.createElement(l.td,null,"ctrl-q"),a.createElement(l.td,null,"возобновить вывод команды")),a.createElement(l.tr,null,a.createElement(l.td,null,"ctrl-d"),a.createElement(l.td,null,"выйти из оболочки")),a.createElement(l.tr,null,a.createElement(l.td,null,"ctrl-c"),a.createElement(l.td,null,"прервать выполнение")),a.createElement(l.tr,null,a.createElement(l.td,null,"ls -lt ~/work"),a.createElement(l.td,null,"сортировать вывод по дате последнего изменения")),a.createElement(l.tr,null,a.createElement(l.td,null,"ls -lu"),a.createElement(l.td,null,"по времени последнего использования")),a.createElement(l.tr,null,a.createElement(l.td,null,"cat hello.c"),a.createElement(l.td,null,"вывести на экран содержимое файла hello.c")),a.createElement(l.tr,null,a.createElement(l.td,null,"wc hello.c"),a.createElement(l.td,null,"подсчитать строки(-l), слова(-w), символы(-m) в файле hello.c")),a.createElement(l.tr,null,a.createElement(l.td,null,"wc -L hello.c"),a.createElement(l.td,null,"узнать максимальную длину строки")),a.createElement(l.tr,null,a.createElement(l.td,null,"df -h"),a.createElement(l.td,null,"информация о свободном месте на смонтированных устройствах")),a.createElement(l.tr,null,a.createElement(l.td,null,"du -h"),a.createElement(l.td,null,"сколько места занимают файлы каталога и подкаталогов")),a.createElement(l.tr,null,a.createElement(l.td,null,"free -m"),a.createElement(l.td,null,"использование оперативной памяти (-m мегабайт, -g гигабайт)")),a.createElement(l.tr,null,a.createElement(l.td,null,"ps -aux"),a.createElement(l.td,null,"информация о запущенных процессах")),a.createElement(l.tr,null,a.createElement(l.td,null,"killall PID"),a.createElement(l.td,null,"снять задачу по её PID (или по имени)")),a.createElement(l.tr,null,a.createElement(l.td,null,'sleep 1; echo "hello"'),a.createElement(l.td,null,"вывести 'hello' через секунду")),a.createElement(l.tr,null,a.createElement(l.td,null,"whereis emacs"),a.createElement(l.td,null,"найти местоположение emacs")),a.createElement(l.tr,null,a.createElement(l.td,null,"file file.pdf"),a.createElement(l.td,null,"вывод информации о типе файла")))),"\n",a.createElement(l.h2,{id:"поиск-по-шаблону",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D0%BF%D0%BE-%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D1%83","aria-label":"поиск по шаблону permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"search"}),"Поиск по шаблону"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Grep")," просматривает файл в поиске строк, соответствующих шаблону. Можно указать\nнесколько файлов сразу."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ grep Hello hello.c           # найти слово 'Hello' в файле hello.c\n$ grep Hello hello.c hello.cpp # найти файлах hello.c, hello.cpp\n")),"\n",a.createElement(l.p,null,"При указании ключа ",a.createElement(l.code,null,"-v")," ищет строки, ",a.createElement(l.em,null,"не соответствующие")," шаблону, ",a.createElement(l.code,null,"-n")," выводит\nномера строк:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ grep -v Hello hello.c\n")),"\n",a.createElement(l.p,null,"Также ",a.createElement(l.code,null,"grep")," (и ",a.createElement(l.code,null,"egrep"),") может работать с ",a.createElement(l.em,null,"регулярными выражениями"),". К\nсожалению, метасимволы, используемые этими программами, не всегда совпадают."),"\n",a.createElement(l.table,null,a.createElement(l.thead,null,a.createElement(l.tr,null,a.createElement(l.th,null,"метасимвол"),a.createElement(l.th,null,"описание"))),a.createElement(l.tbody,null,a.createElement(l.tr,null,a.createElement(l.td,null,"^"),a.createElement(l.td,null,"начало строки")),a.createElement(l.tr,null,a.createElement(l.td,null,"$"),a.createElement(l.td,null,"конец строки")),a.createElement(l.tr,null,a.createElement(l.td,null,"."),a.createElement(l.td,null,"одиночный символ")),a.createElement(l.tr,null,a.createElement(l.td,null,"[...]"),a.createElement(l.td,null,"любой из символов множества")),a.createElement(l.tr,null,a.createElement(l.td,null,"r*"),a.createElement(l.td,null,"0 или больше вхождений r")),a.createElement(l.tr,null,a.createElement(l.td,null,"r+"),a.createElement(l.td,null,"1 или больше вхождений r (egrep)")),a.createElement(l.tr,null,a.createElement(l.td,null,"r?"),a.createElement(l.td,null,"0 или одно вхождение r (egrep)")))),"\n",a.createElement(l.h2,{id:"сортировка-и-замена-строк",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0-%D1%81%D1%82%D1%80%D0%BE%D0%BA","aria-label":"сортировка и замена строк permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"sort"}),"Сортировка и замена строк"),"\n",a.createElement(l.p,null,"Команда ",a.createElement(l.code,null,"sort")," применяется для сортировки данных по алфавиту: сначала пробелы,\nзатем буквы в верхнем регистре, затем буквы в нижнем регистре."),"\n",a.createElement(l.p,null,"Вывести последние 10 строк файла может команда ",a.createElement(l.code,null,"tail"),". Если необходимо изменить\nколичество выводимых строк, нужно сказать ",a.createElement(l.code,null,"tail")," об этом. Например, затребуем\nпоследние 12 строк файла ",a.createElement(l.code,null,"english-alphabet.cpp"),":"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ tail -12 english-alphabet.cpp\n")),"\n",a.createElement(l.p,null,"Во многих случаях имеет смысл применить команду ",a.createElement(l.code,null,"sed"),", которая построчно читает\nвходной файл и поочерёдно выполняет команды над каждой его строкой."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ sed -n '10,50p'     # вывести строки с 10 по 50\n$ sed '1,10d'         # удалить строки с 1 по 10\n$ sed '$d'            # удалить последнюю строку\n$ sed 's/UNIX/LINUX/g' unix > linux\n$ cat unix linux\nUNIX\nLINUX\n")),"\n",a.createElement(l.p,null,"В последнем примере мы заменили слово ",a.createElement(l.code,null,"UNIX")," на слово ",a.createElement(l.code,null,"LINUX")," в одноимённом\nфайле. Исходный файл остался неизменённым."),"\n",a.createElement(l.p,null,"А теперь совместим работу ",a.createElement(l.code,null,"sed")," и ",a.createElement(l.code,null,"wc")," для выполнения часто встречающейся\nзадачи — ",a.createElement(l.em,null,"подсчёта слов без пробелов"),":"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ cat $1 | sed 's/ //g' | sed 's/.$//;N;s/\\n/ /g' | wc -m\n")),"\n",a.createElement(l.p,null,"Здесь ",a.createElement(l.code,null,"cat")," принимает на вход пользовательский аргумент (файл), ",a.createElement(l.code,null,"sed")," очищает\nфайл от лишних для нашей задачи символов, ",a.createElement(l.code,null,"wc")," подсчитывает количество оставшихся символов."),"\n",a.createElement(l.p,null,"Хорошую службу может сослужить ",a.createElement(l.code,null,"awk"),". Это язык сканирования и обработки\nшаблонов. На вход принимает аргумент  вида ",a.createElement(l.code,null,"шаблон {действие}")," и имена\nфайлов. К примеру, нужно выбрать третье поле из вывода ",a.createElement(l.code,null,"df"),":"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ df -ah /home\nФайловая система Размер Использовано  Дост Использовано% Cмонтировано в\n/dev/sda6          104G          55G   45G           56% /home\n$ df -ah /home | awk '{print $3}'\nРазмер\n55G\n")),"\n",a.createElement(l.h2,{id:"сравнение-файлов",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2","aria-label":"сравнение файлов permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"compare"}),"Сравнение файлов"),"\n",a.createElement(l.p,null,"Иногда мы имеем несколько незначительно отличающихся файлов. Искать различия вручную,\nможет быть, и увлекательно, но не тогда, когда время ограничено. На помощь может\nприйти программа ",a.createElement(l.code,null,"diff"),"."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ diff english-alphabet.cpp reverse-alphabet.cpp\n")),"\n",a.createElement(l.p,null,"В примере ",a.createElement(l.code,null,"diff")," отображает имеющиеся различия между двумя файлами и указывает\nразличающиеся строки. В данном примере оба файла имеют лишь одно отличие и\nнаходится оно на седьмой строке."),"\n",a.createElement(l.h2,{id:"метасимволы",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BC%D0%B5%D1%82%D0%B0%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D1%8B","aria-label":"метасимволы permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"metasymbols"}),"Метасимволы"),"\n",a.createElement(l.p,null,"Весьма удобны в использовании шаблонные символы или метасимволы."),"\n",a.createElement(l.table,null,a.createElement(l.thead,null,a.createElement(l.tr,null,a.createElement(l.th,null,"символ"),a.createElement(l.th,null,"описание")))),"\n",a.createElement(l.blockquote,null,"\n",a.createElement(l.p,null,"| направить стандартный вывод в файл"),"\n",a.createElement(l.blockquote,null,"\n",a.createElement(l.p,null,"| добавить вывод в конец файла\n<        | взять стандартный вывод из файла"),"\n"),"\n"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"| любая строка символов\n[...]    | любой из символов в скобках\n?        | любой отдельный символ\n;        | разделитель команд\n(...)    | выполнить команду в дочерней оболочке\n'...'    | выполнить без интерпретации метасимволов\n\"...\"    | интерпретировать метасимволы внутри\n&        | выполнение последующей команды, не дожидаясь завершения предыдущей\n&&       | выполнение последующей команды только при завершении предыдущей"),"\n"),"\n",a.createElement(l.p,null,"Чтобы экранировать шаблонный символ возьмите его в одинарные кавычки ",a.createElement(l.code,null,"'*'")," или\nиспользуйте знак экранирования ",a.createElement(l.code,null,"\\")," (обратная косая черта)."),"\n",a.createElement(l.h2,{id:"конвейеры",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D0%B9%D0%B5%D1%80%D1%8B","aria-label":"конвейеры permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"pipeline"}),"Конвейеры"),"\n",a.createElement(l.p,null,"Здесь следовало бы начать с определения канала как такового, что и мы и\nсделаем. ",a.createElement(l.strong,null,"Канал")," (pipe) — способ подключения вывода одной программы на вход\nдругой без использования временных файлов."),"\n",a.createElement(l.p,null,a.createElement(l.strong,null,"Конвейер")," (pipeline) — соединение двух и более программ посредством таких\nканалов."),"\n",a.createElement(l.p,null,"Символ вертикальной черты ",a.createElement(l.code,null,"|")," сообщит оболочке, что нужно задействовать\nконвейер. В конвейер можно включить любое количество программ и все они будут\nвыполняться одновременно (ядро следит за правильностью синхронизации). Создание\nканалов лежит на плечах оболочки."),"\n",a.createElement(l.p,null,"В случае, когда имена файлов не указаны, команда читает свой стандартный ввод\n(по-умолчанию терминал), перенаправляет ответ на стандартный вывод (который\nтакже связан с терминалом)."),"\n",a.createElement(l.p,null,"Например:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ who | wc -l # подсчитать кол-во пользователей\n")),"\n",a.createElement(l.p,null,"Если хочется создать конвейер, который выполнит сразу несколько команд, их надо\nразделить знаком точки с запятой и взять в круглые скобки."),"\n",a.createElement(l.h2,{id:"процессы",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%8B","aria-label":"процессы permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"daemons"}),"Процессы"),"\n",a.createElement(l.p,null,"Упоминая UNIX, нельзя не сказать несколько слов об управлении процессами."),"\n",a.createElement(l.p,null,a.createElement(l.strong,null,"Процесс")," — экземпляр выполняющейся программы. Важно различать программы\nи процессы: ",a.createElement(l.code,null,"wc")," — это программа; каждый раз, когда она запускается,\nсоздаётс новый процесс."),"\n",a.createElement(l.p,null,"Как уже неоднократно упоминалось ранее, команды могут быть введены в одну\nстроку, если они разделены между собой знаком точки с запятой."),"\n",a.createElement(l.p,null,"В случае, когда процесс занимает слишком много ресурсов, следует понизить его\nприоритет перед другими процессами, чему способствует запуск процесса,\nпредваряемый командой ",a.createElement(l.code,null,"nice"),":"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# nice emerge-webrsync && sudo emerge -auvDN world\n")),"\n",a.createElement(l.p,null,"Если выполнение программы обещает быть очень долгим, а ждать времени нет, можно\nвоспользоваться услугами программы ",a.createElement(l.code,null,"nohup"),". Её формат ",a.createElement(l.code,null,"nohup command &"),". При этом\nесть возможность спокойно выйти из оболочки, не опасаясь того, что выполнение\nпрограммы завершится, а вывод прочесть в специально созданном ",a.createElement(l.code,null,"nohup")," файле\n",a.createElement(l.code,null,"nohup.out"),". ",a.createElement(l.code,null,"Nohup")," использует ",a.createElement(l.code,null,"nice"),", поэтому указывать приоритет дополнительно нет необходимости."),"\n",a.createElement("div",{class:"warning"},a.createElement("p",null,a.createElement(l.p,null,"При использовании конвейера совместно со знаком амперсанда (&) идентификатор\nпроцесса тлько один, не смотря на то, что в конвейере запущено несколько команд."))),"\n",a.createElement(l.p,null,"Наконец, у вас всегда есть возможность реализовать отложенный запуск\nпрограмм. Для этого нехитрого действа рекомендуется обратиться к таким командам\nкак ",a.createElement(l.code,null,"at")," или ранее упомянутый ",a.createElement(l.code,null,"sleep"),". Первая из них изначально недоступна, требует\nпредварительной установки из репозитория."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},'# emerge -av sys-process/at  # установить at в gentoo\n# atd                        # запуск демона at\n$ at 00:27                   # установить время\n$ at> emerge-webrsync        # дать команду\n$ Ctrl-D                     # выйти\n$ sleep 5; echo "Good bye"   # запуск после пяти секунд\n')),"\n",a.createElement(l.h2,{id:"настройка-окружения",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F","aria-label":"настройка окружения permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"environment"}),"Настройка окружения"),"\n",a.createElement(l.p,null,"Если в домашнем каталоге имеется файл ",a.createElement(l.code,null,".bash_profile"),", ",a.createElement(l.code,null,".zshenv")," или\nподобный им (зависит от используемой оболочки), при входе в систему будут\nвыполняться прописанные в нём команды. Например:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-bash"},'export DISPLAY=:0.0\necho "Hello, $USER!\\nToday `date`"\nexport EDITOR=/usr/bin/emacs\n')),"\n",a.createElement(l.p,null,"Последняя запись определяет встроенную переменную ",a.createElement(l.code,null,"$EDITOR"),", тем самым\nустанавливая в качество текстового редактора по-умолчанию emacs. Для просмотра\nвсех имеющихся переменных введите команду ",a.createElement(l.code,null,"set"),"."),"\n",a.createElement(l.p,null,"Чтобы изменения вступили в силу «перечитайте» соответствующий файл\n(в нашем случае используется Z Shell):"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ source .zshenv\n")),"\n",a.createElement(l.p,null,"Часто может возникнуть потребность указания ",a.createElement(l.em,null,"путей поиска"),", которые хранятся в\nпеременной ",a.createElement(l.code,null,"PATH"),". Чтобы узнать в каких каталогах происходит поиск, нужно вывести\nзначение этой переменной на экран. В случае, если этих значений недостаточно,\nдобавить нужные в ",a.createElement(l.code,null,".zshenv"),". Пути разделены двоеточием, точка обозначает\nтекущий каталог и не является обязательной:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ echo $PATH                           # вывести содержимое на экран\n$ cat .zshenv\nexport PATH=.:/bin:/usr/local/bin      # переопределение всех путей\nexport PATH=$PATH:/home/redvi/.rvm/bin # добавление пути к уже существующим\n")),"\n",a.createElement(l.p,null,"Также бывает удобно ",a.createElement(l.em,null,"создавать свои команды"),". Самый простой пример: комбинация уже\nсуществующих команд в одну."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ echo '#!/bin/sh\\nls $1 && cat $1' > lc\n$ chmod +x lc\n$ sh lc file.txt\n")),"\n",a.createElement(l.p,null,"Здесь нужные строки записываются в файл ",a.createElement(l.code,null,"lc"),", которому даются права на\nисполнение. Впоследующем файл запускается при помощи оболочки. Если поместить\nкаталог, где находится ",a.createElement(l.code,null,"lc")," в переменную ",a.createElement(l.code,null,"PATH"),", можно будет опустить ",a.createElement(l.code,null,"sh"),"."),"\n",a.createElement(l.p,null,"Если подытожить: команда создаётся в пользовательском каталоге. Например,\n",a.createElement(l.code,null,"/home/user/usr/bin/mycommand"),". После чего в файл, который читается оболочкой,\nдобавляется соответствующий путь поиска команд."),"\n",a.createElement(l.p,null,"Также нужно пояснить значение ",a.createElement(l.em,null,"позиционного параметра")," ",a.createElement(l.code,null,"$1"),". Он служит переменной,\nпередающей первый аргумент при вызове команды ",a.createElement(l.code,null,"lc"),". В нашем случае на это\nместо ставится имя файла. Само имя программы — это ",a.createElement(l.code,null,"$0"),".\nЕсли количество аргументов заранее неизвестно, подставляется шаблонное выражение\n",a.createElement(l.code,null,"$*"),"."),"\n",a.createElement(l.p,null,"Если переменные, содержащиеся в ",a.createElement(l.code,null,".profile")," должны быть глобальными,\nрекомендуется задать их в ",a.createElement(l.code,null,"/etc/profile"),"."),"\n",a.createElement(l.h2,{id:"права-доступа-и-файлы",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BF%D1%80%D0%B0%D0%B2%D0%B0-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%B8-%D1%84%D0%B0%D0%B9%D0%BB%D1%8B","aria-label":"права доступа и файлы permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"rwx"}),"Права доступа и файлы"),"\n",a.createElement(l.p,null,"Запомнить обозначения прав доступа не составит большого труда. По большому счёту\nони сводятся к чтению (read), записи (write) и исполнению (execute)."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ ls -l sort.py\n-rwxr-xr-x 1 mark users 388 ноя 26  2013 sort.py*\n")),"\n",a.createElement(l.p,null,"Из приведённой выше записи можно понять следующее:"),"\n",a.createElement(l.p,null,"это файл, а не каталог (-); владельцу (пользователю mark) он доступен на\nзапись, чтение и исполнение; группе владельца users и всем остальным на чтение и выполнение."),"\n",a.createElement(l.p,null,"Весьма демократично, не так ли? Для изменения прав используются две команды:\n",a.createElement(l.code,null,"chmod")," и ",a.createElement(l.code,null,"chown"),", первая из которых меняет права доступа к файлу, вторая —\nменяет владельца и/или группу файла."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ chmod 644               # изменить права доступа\n# chown root:adm sort.py  # теперь владелец root, группа adm\n")),"\n",a.createElement(l.p,null,"Как видно из примера, права можно задавать лишь числами. Но разобраться с ними\nничуть не сложнее: их тоже три."),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,a.createElement(l.strong,null,"4")," read"),"\n",a.createElement(l.li,null,a.createElement(l.strong,null,"2")," write"),"\n",a.createElement(l.li,null,a.createElement(l.strong,null,"1")," execute"),"\n"),"\n",a.createElement(l.p,null,"Так, чтобы назначить права только на чтение и запись (read - 4, write - 2),\nнужно к 4 прибавить 2. В итоге мы получаем заветную шестёрку, которая и\nфигурирует в примере."),"\n",a.createElement(l.p,null,"Что касается ",a.createElement(l.code,null,"chmod"),", при необходимости добавить или запретить права доступа,\nможно использовать ",a.createElement(l.code,null,"+")," и ",a.createElement(l.code,null,"-")," соответственно:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ chmod +x sort.py  # дать всем права на выполнение\n")),"\n",a.createElement(l.p,null,"Помимо этого существует бит SUID, но в данной статье он не рассматривается, ибо\nприменяется достаточно редко и теоретически небезопасен."),"\n",a.createElement("div",{class:"warning"},a.createElement("p",null,a.createElement(l.p,null,"если для записи доступен каталог, пользователи могут удалять из него файлы\nнезависимо от прав доступа к этим файлам"))),"\n",a.createElement(l.p,null,"Дабы проиллюстрировать сказанное выше, создадим каталог и поиграем с правами\nдоступа к нему:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ mkdir catalog && ls -ld catalog\ndrwxr-xr-x 2 redvi users\n$ chmod 644 catalog && ls -ld catalog\ndrw-r--r-- 2 redvi users\n$ touch catalog/sc.css\ntouch: невозможно выполнить touch для «catalog/sc.css»: Отказано в доступе\n$ chmod 744 catalog\n$ touch catalog/sc.css\n")),"\n",a.createElement(l.p,null,"Также у каждого файла имеется служебная информация (время модификации,\nпоследнего доступа), которая хранится ",a.createElement(l.em,null,"в индексном дескрипторе"),"\n(inode). Интересно, что сам файл скорее представляет собой ссылку —\nуказание на индексный дескриптор: например, при\nудалении командой ",a.createElement(l.code,null,"rm")," происходит удаление ссылки, и только если нигде больше не\nосталось других ссылок на файл удаляется сам индексный дескриптор, а значит и\nсам файл. Возможно, это звучит немного запутанно, но я не знаю как объяснить\nлучше."),"\n",a.createElement(l.p,null,"Создание ",a.createElement(l.em,null,"жёсткой ссылки")," на файл возможно при использовании команды ",a.createElement(l.code,null,"ln"),", просмотр всех\nимеющихся ссылок — ",a.createElement(l.code,null,"ls -li"),":"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ ln link link2\n$ ls -li\n5519273 -rw-r--r-- 2 link\n5519273 -rw-r--r-- 2 link2\n5256834 -rwxr-xr-x 1 sort.py*\n")),"\n",a.createElement(l.p,null,"Так, оба файла имеют один и тот же индексный дескриптор (5519273), и по выводу\nкоманды ",a.createElement(l.code,null,"ls")," видно, что у него два счётчика (2). При удалении одного из них,\nиндексный дескриптор (и содержимое файла) никуда не исчезнет."),"\n",a.createElement(l.p,null,"У читателя может возникнуть вопрос: чем же тогда создание жёсткой ссылки\nотличается от простого копирования файла? Всё просто: при копировании создаются\nдва разных файла, если внести изменения в один, то они никак не повлияют на\nдругой. Жёсткая ссылка обеспечивает полную идентичность содержимого: при\nредактировании первого файла все изменения отражаются и во втором."),"\n",a.createElement(l.p,null,"С другой стороны мы можем создать ",a.createElement(l.em,null,"символическую ссылку"),", которая всего лишь указывает на местонахождение\nфайла. Если хотите, можете сравнить это с программой и её ярлыком в OS Windows."),"\n",a.createElement(l.p,null,"При удалении или перемещении файла, символическая ссыка перестаёт работать, ибо ведёт к несуществующему файлу."),"\n",a.createElement(l.h2,{id:"отключение-системного-звукового-сигнала",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE-%D0%B7%D0%B2%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE-%D1%81%D0%B8%D0%B3%D0%BD%D0%B0%D0%BB%D0%B0","aria-label":"отключение системного звукового сигнала permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"beep-disable"}),"Отключение системного звукового сигнала"),"\n",a.createElement(l.p,null,"Если вы не в силах выносить системный звуковой сигнал в linux, что с вероятностью в 100% возникает\nпри неверном вводе, можно воспользоваться нижеизложенными командами."),"\n",a.createElement(l.p,null,"Консоль:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ echo 'set bell-style none' >> .inputrc\n")),"\n",a.createElement(l.p,null,"X11:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ echo 'xset b off' >> .xinitrc\n")),"\n",a.createElement(l.p,null,"Те, кто пользуется самосборным ядром, могут отключить досадную особенность в\nсамом ядре:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,null,"Device Drivers → Input device support → Miscellaneous devices → PC Speaker support\n")),"\n",a.createElement(l.h2,{id:"-работа-с-архивами",style:{position:"relative"}},a.createElement(l.a,{href:"#-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%B0%D1%80%D1%85%D0%B8%D0%B2%D0%B0%D0%BC%D0%B8","aria-label":" работа с архивами permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"archive"})," Работа с архивами"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ tar -zxvf archive.gz         # распаковать .gz\n$ tar -cf archive.tar folder/  # создать tar-архив\n$ unzip archive.zip            # распаковать zip-архив\n$ zip -r archive folder        # создать zip-архив из каталога folder\n$ unrar -x                     # распаковать rar-архив\n")),"\n",a.createElement(l.p,null,"Возможно, соответствующие программы для работы с архивами придётся\nпредварительно установить."),"\n",a.createElement(l.h2,{id:"полный-backup-и-восстановление-tar",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BF%D0%BE%D0%BB%D0%BD%D1%8B%D0%B9-backup-%D0%B8-%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-tar","aria-label":"полный backup и восстановление tar permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"full-backup"}),"Полный backup и восстановление (tar)"),"\n",a.createElement(l.p,null,"Полная копия linux-машины, за исключением каталога ",a.createElement(l.code,null,"/backup")," и служебных каталогов\nс сохранением прав доступа. Для создания таковой понадобится LiveCD диск,\nзагрузившись с которого можно приступать к задаче."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# tar -cvpf /backup/mybackup.tar --directory=/ --exclude=proc --exclude=dev/pts --exclude=backup --exclude=dev\n")),"\n",a.createElement(l.p,null,"Копия системы будет создана под именем ",a.createElement(l.code,null,"backup/mybackup.tar"),". Для сжатия (и\nэкономия места на носителе-приёмнике) к указанной команде можно добавить ключ\n",a.createElement(l.code,null,"-z"),"."),"\n",a.createElement(l.p,null,"Восстановление копии на ту же машину (в случае использования другой машины\nследует поправить соответствующие строки в ",a.createElement(l.code,null,"/etc/fstab")," и установить загрузчик):"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# tar -xvpf /mybackup.tar\n")),"\n",a.createElement(l.p,null,"В случае восстановления сжатого архива также добавляется ключ ",a.createElement(l.code,null,"-z"),"."),"\n",a.createElement(l.h2,{id:"инкременальный-backup-rsync",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-backup-rsync","aria-label":"инкременальный backup rsync permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"incremental-backup"}),"Инкременальный backup (rsync)"),"\n",a.createElement(l.p,null,"Идеально подходит для периодического создания копии домашнего каталога."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# rsync -PavHx --delete-after /home/* /mnt/backup/\n")),"\n",a.createElement(l.h2,{id:"скачивание-файловсайтов-по-сети",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2-%D0%BF%D0%BE-%D1%81%D0%B5%D1%82%D0%B8","aria-label":"скачивание файловсайтов по сети permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"download"}),"Скачивание файлов/сайтов по сети"),"\n",a.createElement(l.p,null,"Делается это при помощи программы ",a.createElement(l.code,null,"wget"),", где ключ ",a.createElement(l.code,null,"-c")," позволит докачать файл при\nобрыве соединения, а ключ ",a.createElement(l.code,null,"-r")," используется в случае, если необходимо\nрекурсивное скачивание:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ wget -c http://distfiles.gentoo.org/*/install-amd64-minimal-*.iso\n")),"\n",a.createElement(l.h2,{id:"создание-загрузочного-usb-flash",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D0%BE%D0%B3%D0%BE-usb-flash","aria-label":"создание загрузочного usb flash permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"usb"}),"Создание загрузочного usb-flash"),"\n",a.createElement(l.p,null,"Предполагается, что лучший способ для этого — использование ",a.createElement(l.code,null,"dd"),". Если есть\nнеобходимость разметить usb-flash, запустите команду ",a.createElement(l.code,null,"fdisk"),", вот её флаги:"),"\n",a.createElement(l.table,null,a.createElement(l.thead,null,a.createElement(l.tr,null,a.createElement(l.th,null,"ключ"),a.createElement(l.th,null,"описание"))),a.createElement(l.tbody,null,a.createElement(l.tr,null,a.createElement(l.td,null,"a"),a.createElement(l.td,null,"установить/снять флаг загрузочного раздела")),a.createElement(l.tr,null,a.createElement(l.td,null,"c"),a.createElement(l.td,null,"переключить флаг совместности с dos")),a.createElement(l.tr,null,a.createElement(l.td,null,"d"),a.createElement(l.td,null,"удалить раздел")),a.createElement(l.tr,null,a.createElement(l.td,null,"l"),a.createElement(l.td,null,"вывести список известных типов разделов")),a.createElement(l.tr,null,a.createElement(l.td,null,"m"),a.createElement(l.td,null,"показать меню")),a.createElement(l.tr,null,a.createElement(l.td,null,"n"),a.createElement(l.td,null,"добавить новый раздел")),a.createElement(l.tr,null,a.createElement(l.td,null,"o"),a.createElement(l.td,null,"создать новую пустую таблицу разделов в стиле DOS")),a.createElement(l.tr,null,a.createElement(l.td,null,"p"),a.createElement(l.td,null,"показать существующею таблицу разделов")),a.createElement(l.tr,null,a.createElement(l.td,null,"q"),a.createElement(l.td,null,"выйти без сохранения изменений")),a.createElement(l.tr,null,a.createElement(l.td,null,"t"),a.createElement(l.td,null,"изменить метку типа раздела")),a.createElement(l.tr,null,a.createElement(l.td,null,"v"),a.createElement(l.td,null,"проверить таблицу разделов")),a.createElement(l.tr,null,a.createElement(l.td,null,"w"),a.createElement(l.td,null,"сохранить изменения и выйти")),a.createElement(l.tr,null,a.createElement(l.td,null,"x"),a.createElement(l.td,null,"дополнительные возможности (только для экспертов)")))),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# fdisk -l\nУстр-во   Загрузочный     Start Конец    Blocks  Id System\n/dev/sda1*            1xxx 4xxx 10xxx+ 83 Linux\n/dev/sda2             1xxx 1xxx 5xxx  82 Linux swap / Solaris\n/dev/sda5             4xxx 6xxx 11xxx+ 83 Linux\n\nУстр-во   Start   Конец   Size Тип\n/dev/sdb1  2048     15644671   7,5G Microsoft basic data\n\n# fdisk /dev/dsb\n# dd if=/home/user/ISO/linux.iso of=/dev/sdb\n")),"\n",a.createElement(l.h2,{id:"кто-в-системе",style:{position:"relative"}},a.createElement(l.a,{href:"#%D0%BA%D1%82%D0%BE-%D0%B2-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B5","aria-label":"кто в системе permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"who"}),"Кто в системе"),"\n",a.createElement(l.p,null,"Кто сейчас находится в системе, когда и кем был выполнен последний вход и\nпрочее. Для получения более подробных сведений используйте ключ ",a.createElement(l.code,null,"-a"),"."),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ who\nredvi ~  who\nroot     tty3         2014-07-30 20:43\nredvi    :0.0         2014-07-30 18:22\n")),"\n",a.createElement(l.h2,{id:"установка-даты-и-времени",style:{position:"relative"}},a.createElement(l.a,{href:"#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B4%D0%B0%D1%82%D1%8B-%D0%B8-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8","aria-label":"установка даты и времени permalink",className:"anchor before"},a.createElement(l.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),a.createElement("a",{id:"date-and-time"}),"Установка даты и времени"),"\n",a.createElement(l.p,null,"Первая из приведённых ниже программ отобразит текущие дату и время. Вторая\nустановит нужные параметры (формат MMDDhhmmCCYY/месяц-день-часы-минуты-год)"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"$ date\n# date 073021502014\n")))}var c=function(e){void 0===e&&(e={});const{wrapper:l}=Object.assign({},(0,t.MN)(),e.components);return l?a.createElement(l,e,a.createElement(r,e)):r(e)},m=n(7792),u=n(7619);function E(e){var l,n;let{data:{mdx:t},children:r,pageContext:{prev:c,next:E}}=e;const{h1:d,title:s,description:o,image:h,table_of_contents:i}=t.frontmatter;return(0,a.useEffect)((()=>{(0,u.K)()}),[]),a.createElement(a.Fragment,null,a.createElement(m._W,{h1:d,title:s,description:o,image:null===(l=t.frontmatter.image)||void 0===l?void 0:l.publicURL},a.createElement(m.MV,{post:t.frontmatter,imageData:null==h||null===(n=h.childImageSharp)||void 0===n?void 0:n.gatsbyImageData},i?a.createElement(m.G8,{headings:t.tableOfContents}):null,a.createElement("div",{className:"page__content"},r,a.createElement(m.Mf,{prev:c,next:E})),a.createElement(m.QZ,null))))}function d(e){return a.createElement(E,e,a.createElement(c,e))}},8876:function(e,l,n){n.d(l,{MN:function(){return r}});var t=n(4424);const a=t.createContext({});function r(e){const l=t.useContext(a);return t.useMemo((()=>"function"==typeof e?e(l):{...l,...e}),[l,e])}}}]);