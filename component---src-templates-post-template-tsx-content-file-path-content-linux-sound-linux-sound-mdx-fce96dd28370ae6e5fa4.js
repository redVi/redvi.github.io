"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[4024],{1316:function(e,a,n){n.r(a),n.d(a,{Head:function(){return r.Ss},default:function(){return o}});var t=n(8876),s=n(4424);function l(e){const a=Object.assign({p:"p",h3:"h3",a:"a",span:"span"},(0,t.MN)(),e.components);return s.createElement(s.Fragment,null,s.createElement(a.p,null,"Не сказать, чтобы звук в Linux изначально был навысоте. Некоторые пользователи\nзачастую встречаются с теми или иными проблемами, часть которых рассмотрена в этой небольшой заметке.\nНадеюсь, представленные здесь рецепты помогут кому-то выйти из затруднительной ситуации."),"\n",s.createElement(a.h3,{id:"нет-звука",style:{position:"relative"}},s.createElement(a.a,{href:"#%D0%BD%D0%B5%D1%82-%D0%B7%D0%B2%D1%83%D0%BA%D0%B0","aria-label":"нет звука permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Нет звука"),"\n",s.createElement(a.p,null,"Вообще нет. Это может свидетельствовать в пользу того, что ваша звуковая карта не настроена должным образом.\nУбедитесь, что в системе установлены пакеты ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">alsa-lib</code>'}})," и ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">alsa-utils</code>'}}),", а в ядре\nвключена поддержка необходимого вам драйвера."),"\n",s.createElement(a.p,null,"Пример:"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># lspci | grep -i audio</span>\n00:1b.0 Audio device: Intel Corporation <span class="token number">6</span> Series/C200<span class="token punctuation">..</span>.</code></pre></div>'}}),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 648px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50.33333333333333%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/1df2446d4c12fc3442794687d3b4c0e4/e93cc/intel-module.webp 300w,\n/static/1df2446d4c12fc3442794687d3b4c0e4/b0544/intel-module.webp 600w,\n/static/1df2446d4c12fc3442794687d3b4c0e4/6d369/intel-module.webp 648w"\n              sizes="(max-width: 648px) 100vw, 648px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/1df2446d4c12fc3442794687d3b4c0e4/eed55/intel-module.png 300w,\n/static/1df2446d4c12fc3442794687d3b4c0e4/7491f/intel-module.png 600w,\n/static/1df2446d4c12fc3442794687d3b4c0e4/0ae27/intel-module.png 648w"\n            sizes="(max-width: 648px) 100vw, 648px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/1df2446d4c12fc3442794687d3b4c0e4/0ae27/intel-module.png"\n            alt="include intel in kernel"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Device Drivers →\n  Sound card support →\n    Advanced Linux Sound Architecture →\n      PCI sound devices →\n        &lt;*> Intel HD Audio  ---\x3e</code></pre></div>'}}),"\n",s.createElement(a.p,null,"После этого необходимо настроить звук при помощи ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">alsamixer</code>'}}),": включение/выключение того или\nиного микшера осуществляется нажатием кнопки ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">m</code>'}}),". Альтернативным методом могут\nслужить консольные команды:"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># amixer set Master 90% unmute</span>\n<span class="token comment"># amixer set PCM 85% unmute</span></code></pre></div>'}}),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 949px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 48.666666666666664%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/aded862e21cedf7702d7509fbf713371/e93cc/alsamixer.webp 300w,\n/static/aded862e21cedf7702d7509fbf713371/b0544/alsamixer.webp 600w,\n/static/aded862e21cedf7702d7509fbf713371/51160/alsamixer.webp 949w"\n              sizes="(max-width: 949px) 100vw, 949px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/aded862e21cedf7702d7509fbf713371/eed55/alsamixer.png 300w,\n/static/aded862e21cedf7702d7509fbf713371/7491f/alsamixer.png 600w,\n/static/aded862e21cedf7702d7509fbf713371/60eb2/alsamixer.png 949w"\n            sizes="(max-width: 949px) 100vw, 949px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/aded862e21cedf7702d7509fbf713371/60eb2/alsamixer.png"\n            alt="alsamixer"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(a.p,null,"Теперь воспроизведите какой-нибудь звуковой файл, дабы убедиться в\nработоспособности звука."),"\n",s.createElement(a.h3,{id:"микрофон",style:{position:"relative"}},s.createElement(a.a,{href:"#%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%84%D0%BE%D0%BD","aria-label":"микрофон permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Микрофон"),"\n",s.createElement(a.p,null,"Чтобы проверить работу микрофона, включите Capture, запишите и прослушайте тестовый файл. Пример:"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ amixer <span class="token builtin class-name">set</span> Capture cap\n$ arecord /tmp/test.wav   <span class="token comment"># запись</span>\n$ aplay /tmp/test.wav     <span class="token comment"># воспроизведение</span>\n$ arecord <span class="token parameter variable">-f</span> dat <span class="token parameter variable">-D</span> hw:0,0 - <span class="token operator">|</span> aplay <span class="token parameter variable">-f</span> dat -   <span class="token comment"># или всё и сразу</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"Собственно, микрофон и доставляет большинство хлопот, так что приходится играть\nс ползунками в alsamixer. Передвигать левый и правый ползунки можно при помощи\nнажатия клавиш [Q | W | E ] — вверх, [Z | X | C ] — вниз."),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 936px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 47.333333333333336%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/3f2666ad549a2b04ddf7242a7884a9cd/e93cc/capture.webp 300w,\n/static/3f2666ad549a2b04ddf7242a7884a9cd/b0544/capture.webp 600w,\n/static/3f2666ad549a2b04ddf7242a7884a9cd/51bb6/capture.webp 936w"\n              sizes="(max-width: 936px) 100vw, 936px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/3f2666ad549a2b04ddf7242a7884a9cd/eed55/capture.png 300w,\n/static/3f2666ad549a2b04ddf7242a7884a9cd/7491f/capture.png 600w,\n/static/3f2666ad549a2b04ddf7242a7884a9cd/c7f29/capture.png 936w"\n            sizes="(max-width: 936px) 100vw, 936px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/3f2666ad549a2b04ddf7242a7884a9cd/c7f29/capture.png"\n            alt="capture"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(a.p,null,"После такой настройки существенно снижается уровень шума микрофона. Но как\nпобедить данное явление полностью автору пока неизвестно."),"\n",s.createElement(a.h3,{id:"тихий-звук-при-просмотре-видео",style:{position:"relative"}},s.createElement(a.a,{href:"#%D1%82%D0%B8%D1%85%D0%B8%D0%B9-%D0%B7%D0%B2%D1%83%D0%BA-%D0%BF%D1%80%D0%B8-%D0%BF%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80%D0%B5-%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE","aria-label":"тихий звук при просмотре видео permalink",className:"anchor before"},s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Тихий звук при просмотре видео"),"\n",s.createElement(a.p,null,"Если системные события и прогирывание музыкальных файлов звучат достаточно\nгромко, а просмотр видеофильмов оставляет желать лучшего, можно обратить\nвнимание на специальный микшер, служащий для усиления громкости. Это Pre-Amp."),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/asound.conf</span>\n\npcm.<span class="token operator">!</span>default <span class="token punctuation">{</span>\n  <span class="token builtin class-name">type</span> plug\n  slave.pcm <span class="token string">"softvol"</span>\n<span class="token punctuation">}</span>\n\npcm.softvol <span class="token punctuation">{</span>\n  <span class="token builtin class-name">type</span> softvol\n  slave <span class="token punctuation">{</span>\n    pcm <span class="token string">"dmix"</span>\n  <span class="token punctuation">}</span>\n  control <span class="token punctuation">{</span>\n    name <span class="token string">"Pre-Amp"</span>\n    card <span class="token number">0</span>\n  <span class="token punctuation">}</span>\n  min_dB <span class="token parameter variable">-5.0</span>\n  max_dB <span class="token number">20.0</span>\n  resolution <span class="token number">6</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"После чего перезапустить alsa:"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> /etc/init.d/alsasound restart</code></pre></div>'}}),"\n",s.createElement(a.p,null,"Не будем забывать, что в Linux для проигрывания видеофайлов используется mplayer, а все\nимеющиеся графические программы по сути являются лишь обёртками к нему.\nПоэтому, как уже ",s.createElement(a.a,{href:"/posts/mplayer/"},"упоминалось ранее"),", надо лишь включить\nпринудительную настройку уровня громкости в файле ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">~/.mplayer/config</code>'}}),":"),"\n",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># ~/.mplayer/config</span>\n<span class="token assign-left variable">softvol</span><span class="token operator">=</span><span class="token number">1</span>\nsoftvol-max<span class="token operator">=</span><span class="token number">3000</span></code></pre></div>'}}),"\n",s.createElement(a.p,null,"Параметр ",s.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">softvol-max</code>'}})," принимает значения от 10 до 10000 и при желании можно\nпоэкспериментировать со значениями."))}var c=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,t.MN)(),e.components);return a?s.createElement(a,e,s.createElement(l,e)):l(e)},r=n(7792),p=n(7619);function i(e){var a,n;let{data:{mdx:t},children:l,pageContext:{prev:c,next:i}}=e;const{h1:o,title:d,description:m,image:g,table_of_contents:u}=t.frontmatter;return(0,s.useEffect)((()=>{(0,p.K)()}),[]),s.createElement(s.Fragment,null,s.createElement(r._W,{h1:o,title:d,description:m,image:null===(a=t.frontmatter.image)||void 0===a?void 0:a.publicURL},s.createElement(r.MV,{post:t.frontmatter,imageData:null==g||null===(n=g.childImageSharp)||void 0===n?void 0:n.gatsbyImageData},u?s.createElement(r.G8,{headings:t.tableOfContents}):null,s.createElement("div",{className:"page__content"},l,s.createElement(r.Mf,{prev:c,next:i})),s.createElement(r.QZ,null))))}function o(e){return s.createElement(i,e,s.createElement(c,e))}},8876:function(e,a,n){n.d(a,{MN:function(){return l}});var t=n(4424);const s=t.createContext({});function l(e){const a=t.useContext(s);return t.useMemo((()=>"function"==typeof e?e(a):{...a,...e}),[a,e])}}}]);