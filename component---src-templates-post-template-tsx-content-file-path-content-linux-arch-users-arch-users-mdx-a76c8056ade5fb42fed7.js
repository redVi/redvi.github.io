"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[1120],{420:function(e,n,l){l.r(n),l.d(n,{Head:function(){return u.Ss},default:function(){return o}});var t=l(8876),a=l(4424);function r(e){const n=Object.assign({p:"p",span:"span",ul:"ul",li:"li"},(0,t.MN)(),e.components);return a.createElement(a.Fragment,null,a.createElement(n.p,null,"Наиболее удобным инструментом для создания нового пользователя служит команда ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">adduser</code>'}}),"."),"\n",a.createElement(n.p,null,"Вам будут заданы вопросы касательно имени, домашней директории, пароля,\nпринадлежности к тем или иным пользовательским группам. После ввода основной\nинформации вы сможете добавить дополнительную как то: полное имя, рабочий и\nдомашний телефоны и прочее."),"\n",a.createElement(n.p,null,"Список доступных в archlinux групп можно посмотреть в файле ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/group</code>'}}),".\nЕсли вы уже создали пользователя и назначили ему список групп, его имя также\nбудет записано в этот файл напротив тех групп, которым он принадлежит."),"\n",a.createElement(n.p,null,"Примерный список групп, куда можно внести пользователя:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"lp - доступ к печати"),"\n",a.createElement(n.li,null,"wheel - административные привилегии"),"\n",a.createElement(n.li,null,"ftp - доступ к указанной службе"),"\n",a.createElement(n.li,null,"mail - почта"),"\n",a.createElement(n.li,null,"games - доступ к играм"),"\n",a.createElement(n.li,null,"network - управление сетью"),"\n",a.createElement(n.li,null,"video - доступ к видео (графика, фильмы)"),"\n",a.createElement(n.li,null,'audio - возможность "слышать"'),"\n",a.createElement(n.li,null,"optical - доступ к оптическим дискам"),"\n",a.createElement(n.li,null,"floppy - возможность использовать floppy-дисковод (если он ещё есть)"),"\n",a.createElement(n.li,null,"storage - доступ к различным накопителям"),"\n",a.createElement(n.li,null,"power - управление питанием"),"\n",a.createElement(n.li,null,"users - стандартные привилегии, группа по умолчанию"),"\n"),"\n",a.createElement(n.p,null,"Вы можете использовать ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">useradd</code>'}})," для добавления пользователя в систему.\nНапример формат записи:\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">useradd опции имя пользователя</code>'}})),"\n",a.createElement(n.p,null,"Некоторые опции useradd:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-c - комментарий"),"\n",a.createElement(n.li,null,"-d - задать домашний каталог"),"\n",a.createElement(n.li,null,"-D - создать с настройками по умолчанию"),"\n",a.createElement(n.li,null,"-e - отключить учётную запись в указанный день. задаётся в формате YYYY-MM-DD - год. месяц, день"),"\n",a.createElement(n.li,null,"-G - принадлежность к дополнительным группам"),"\n",a.createElement(n.li,null,"-m - создать пользовательскую директорию в /home"),"\n",a.createElement(n.li,null,"-p - задать пароль"),"\n",a.createElement(n.li,null,"-n - не создавать индивидуальную группу для пользователя"),"\n"),"\n",a.createElement(n.p,null,"Впрочем, пароль вы можете задать позже, но пока его не будет, учётная запись останется заблокированной.\nА как вносить изменения в учётную запись уже созданного пользователя?"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">useradd, usermod, userdel</code>'}})," — команды для добавления, модификации и удаления пользователей."),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">groupadd, groupmod, groupdel</code>'}})," — команды для добавления, модификации и удаления групп."),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">gpasswd</code>'}})," — команда для модификации файла ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/group</code>'}}),"."),"\n",a.createElement(n.p,null,"Что можно сделать с помощью usermod:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-d - изменить домашний каталог"),"\n",a.createElement(n.li,null,"-s - изменить оболочку"),"\n",a.createElement(n.li,null,"-p - изменить пароль"),"\n",a.createElement(n.li,null,"-g - изменить первичную группу"),"\n",a.createElement(n.li,null,"-G - дополнительную группу"),"\n"),"\n",a.createElement(n.p,null,"Что можно сделать с помощью userdel:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-f - удалит пользователя даже когда он находится в системе или его каталог используется"),"\n",a.createElement(n.li,null,"-r - удалить домашний каталог рекурсивно"),"\n"),"\n",a.createElement(n.p,null,"Например, мы хотим добавить пользователя ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">user1</code>'}})," в группу администраторов - ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">wheel</code>'}}),". Это будет выглядеть так:"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># usermod -G wheel user1</span></code></pre></div>'}}),"\n",a.createElement(n.p,null,"Теперь проверьте ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/group</code>'}}),". Появился ли наш пользователь в группе ",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">wheel</code>'}}),"? Конечно, да."),"\n",a.createElement(n.p,null,"Если нужно наоборот удалить поьзователя из группы (удаление пользователя user1 из группы lighttpd):"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># sudo gpasswd -d user1 lighttpd</span></code></pre></div>'}}),"\n",a.createElement(n.p,null,"А что с группами?"),"\n",a.createElement(n.p,null,"Добавить при помощи groupadd:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-g - GID > 499"),"\n",a.createElement(n.li,null,"-r - GID < 499"),"\n",a.createElement(n.li,null,"-f - если GID группы уже существует, он будет изменён"),"\n"),"\n",a.createElement(n.p,null,"Изменить при помощи groupmod:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-g - GID"),"\n",a.createElement(n.li,null,"-n - дать группе новое наименование"),"\n"),"\n",a.createElement(n.p,null,"И, наконец, очень удобная команда gpasswd:"),"\n",a.createElement(n.ul,null,"\n",a.createElement(n.li,null,"-a - добавить пользователя в группу"),"\n",a.createElement(n.li,null,"-d - удалить пользователя из группы"),"\n",a.createElement(n.li,null,"-r - удалить пароль группы"),"\n",a.createElement(n.li,null,"-A - назначить администратора группы"),"\n",a.createElement(n.li,null,"-M - добавить несколько пользователей в группу"),"\n"),"\n",a.createElement(n.p,null,"Заставим пользователя периодически менять его пароль:"),"\n",a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># change user1:</span></code></pre></div>'}}),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Minimum Password Age</code>'}})," - минимальное количество дней, в течении которых пользователю не разрешено менять пароль"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Maximum Password Age</code>'}})," - максимальное количество дней, в течении которых можно будет входить в систему под этим паролем"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Last Password Change</code>'}})," - когда произошло последнее изменение пароля"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Password Expiration Warning</code>'}})," - за какое количество дней до блокировки выводить сообщения"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Password Inactive</code>'}})," - число дней после истечения срока действия пароля перед его блокировкой"),"\n",a.createElement(n.p,null,a.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Account Expiration Date</code>'}})," - истечение срока действия учётной записи, при отрицательном значении - никогда"),"\n",a.createElement(n.p,null,"Вот такая вышла небольшая заметка для юных администраторов."))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.MN)(),e.components);return n?a.createElement(n,e,a.createElement(r,e)):r(e)},u=l(7792),s=l(7619);function m(e){var n,l;let{data:{mdx:t},children:r,pageContext:{prev:c,next:m}}=e;const{h1:o,title:d,description:g,image:E,table_of_contents:p}=t.frontmatter;return(0,a.useEffect)((()=>{(0,s.K)()}),[]),a.createElement(a.Fragment,null,a.createElement(u._W,{h1:o,title:d,description:g,image:null===(n=t.frontmatter.image)||void 0===n?void 0:n.publicURL},a.createElement(u.MV,{post:t.frontmatter,imageData:null==E||null===(l=E.childImageSharp)||void 0===l?void 0:l.gatsbyImageData},p?a.createElement(u.G8,{headings:t.tableOfContents}):null,a.createElement("div",{className:"page__content"},r,a.createElement(u.Mf,{prev:c,next:m})),a.createElement(u.QZ,null))))}function o(e){return a.createElement(m,e,a.createElement(c,e))}},8876:function(e,n,l){l.d(n,{MN:function(){return r}});var t=l(4424);const a=t.createContext({});function r(e){const n=t.useContext(a);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);