"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[868],{9344:function(e,n,t){t.r(n),t.d(n,{Head:function(){return s.Ss},default:function(){return d}});var a=t(8876),l=t(4424),r=t(8860);function c(e){const n=Object.assign({p:"p",h2:"h2",a:"a",span:"span",code:"code",strong:"strong",pre:"pre",ul:"ul",li:"li",em:"em"},(0,a.MN)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.p,null,"Достаточно давно была написана отличная статья, послужившая верой и правдой\nмногим линуксоидам, кто самостоятельно собирал  своё ядро. Называлась\nона «Ядерная физика для домохозяек, версия 2». Ранее, когда\nдеревья были выше, небо голубее, а настольные компьютеры не столь производительны,\nсборка ядра под своё железо могла внести весомый вклад в увеличение производительности\nжелезного друга. Теперь это уже не столь важно и в большинстве случаев даже не нужно,\nибо прирост будет незначительным. Да и среднестатистический линуксоид как-то\nобмельчал, «скуксился» что ли."),"\n",l.createElement(n.p,null,"Тем не менее, автору захотелось немного обновить информацию о сборке ядра,\nза которым уже давно закреплена циферка три."),"\n",l.createElement(n.h2,{id:"вступление-или-подготовка-к-сборке-ядра",style:{position:"relative"}},l.createElement(n.a,{href:"#%D0%B2%D1%81%D1%82%D1%83%D0%BF%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B8%D0%BB%D0%B8-%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BA-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B5-%D1%8F%D0%B4%D1%80%D0%B0","aria-label":"вступление или подготовка к сборке ядра permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Вступление или подготовка к сборке ядра"),"\n",l.createElement(n.p,null,"Для сборки можно использовать ядро с ",l.createElement(n.a,{href:"http://kernel.org/",target:"_blank",rel:"nofollow"},"kernel.org"),".\nЕсли вам удобнее собрать ядро, поставляемое с вашим дистрибутивом, вы можете\nсмело пропустить этот шаг."),"\n",l.createElement(n.p,null,"Пройдите по указанной выше ссылке и скачайте ядро ",l.createElement(n.code,null,"Latest Stable Kernel"),".\nДолжен скачаться файл примерно с таким наименованием: ",l.createElement(n.code,null,"linux-3.6.11.tar.bz2"),"."),"\n",l.createElement(n.p,null,"Помимо этого, иногда вам может понадобиться поставить заплатки для ядра. Если\nвы не знаете, что это, значит оно вам и не нужно. Хотя мы рассмотрим процесс\nналожения заплаток для полноты картины. Получить их можно всё на том же сайте."),"\n",l.createElement(n.p,null,"Рекомендация по собственно сборке ядра одна на все дистрибутивы, что естественно.\nА вот инструмент для сборки вполне возможно, что придётся доустановить.\nДля gentoo это пакет ",l.createElement(n.code,null,"gentoo-sources")," (если предполагается сборка дистрибутивного\nядра). Для дебиана понадобится установить\n",l.createElement(n.a,{href:"https://wiki.debian.org/BuildADebianKernelPackage",target:"_blank",rel:"nofollow"},"целую пачку пакетов"),",\nдля арча  понадобится ",l.createElement(n.a,{href:"https://wiki.archlinux.org/index.php/Kernels/Traditional_compilation",target:"_blank",rel:"nofollow"},"эта инструкция"),"."),"\n",l.createElement(n.p,null,"Перед сборкой неплохо сесть и подумать какое же ядро собрать. Ядро может быть:"),"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"- монолитным")),"\n",l.createElement(n.p,null,"такое ядро полностью грузится при старте системы и остаётся в оперативной памяти\nдо выключения машины. Его компоненты нельзя изменить, невозможно подгружать и\nвыгружать модули благодаря чему ядро становится нечувствительным к различным\nтроянским программам, направленным на подмену оригинальных модулей своими - это\nпросто невозможно. Но с другой стороны монолитность ядра привносит и некоторые минусы,\nтакие как невозможность установить стороннюю прошивку или проприетарный драйвер для\nвидеокарты (ведь его модуль нельзя будет подгрузить!). То есть для домашних машин\nлучше не использовать монолитные ядра, а вот для серверов - самое оно."),"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"- модульным")),"\n",l.createElement(n.p,null,"это ядро напротив позволит включать многие компоненты не жёстко, а модульно\n(соответственно своему названию), что уменьшит размер ядра и сделает возможным...\nда, загрузку и выгрузку нужных модулей. В готовых дистрибутивах для создания такого\nядра используется initramfs (раньше - initrd). Но при сборке под себя можно обойтись\nи без него, достаточно лишь жёстко встроить поддержку файловой системы и контроллёра\nHD корневого раздела для того, чтобы система смогла определить их и загрузиться."),"\n",l.createElement(r.y,{heading:"Это интересно"},l.createElement(n.p,null,"в чём разница между initrd и initramfs ",l.createElement("a",{href:"http://teleology.mobi/ru/news_ru/15032006-01_ru",rel:"nofollow,noopener,noreferrer"},"прочитать"),".")),"\n",l.createElement(n.p,null,"Обычно предлагается включить в ядро жёстко те компоненты, которые нужны вам постоянно,\nа те, что предполагается использовать время от времени, включить модулями."),"\n",l.createElement(n.p,null,"Итак, вы скачали ядро и заплатки. Переместите их в каталог ",l.createElement(n.code,null,"/usr/src/")," и\nсами перейдите в него. Теперь следует распаковать исходники ядра и архивы с заплатками, наложить\nзаплатки:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell"},"# tar xvf linux-3.6.11.tar.bz2\n# cp patch-3.6.11.bz2 linux-3.6.11/\n# bzip2 -d patch-3.6.11.bz2\n# patch -p1 -i patch-3.6.11.bz2\n")),"\n",l.createElement(n.p,null,"При наложении заплаток есть лишь один нюанс: сначала накладывается заплатка\nдля обновления версии ядра (",l.createElement(n.code,null,"patch-$VERSION.bz2")," как дано выше) и уже затем\nвсе остальные."),"\n",l.createElement(n.p,null,"Обратите внимание на вывод команды ",l.createElement(n.code,null,"patch"),". Если заплатка идеально подходит к\nядру, то в выводе должны быть только строчки ",l.createElement(n.code,null,"patching file ...")," .\nСтрока ",l.createElement(n.code,null,"Hunk #1 succeeded at...")," означает что заплатка наложена успешно,\nно место наложения сдвинуто на несколько строк. Если же вы увидите\nслово ",l.createElement(n.code,null,"Failed")," —  заплатка не подходит. Лучше удалить каталог ",l.createElement(n.code,null,"linux-3.6.11/"),"\nи начать все сначала уже без этой заплатки."),"\n",l.createElement(n.p,null,"Далее могут выполнены следующие команды:"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"make mrproper")," - очистит каталог от мусора предыдущей сборки"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"make menuconfig")," - запустит окно настроек ядра"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"[ * ]")," - опция включена жёстко"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"[M]")," - опция включена модульно"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"[   ]")," - опция отключена"),"\n"),"\n",l.createElement(n.p,null,"Вы можете воспользоваться поиском по параметрам ядра, для этого\nнажмите ",l.createElement(n.code,null,'"/"')," (слеш) и введите искомое. Также не забывайте о справке:\nостановитесь на параметре, подробное описание которого вам хотелось бы видеть,\nи выбирайте ",l.createElement(n.code,null,'"Help"')," внизу экрана."),"\n",l.createElement(n.h2,{id:"general-setup",style:{position:"relative"}},l.createElement(n.a,{href:"#general-setup","aria-label":"general setup permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"General setup"),"\n",l.createElement(n.p,null,"Содержит общие настройки"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 669px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/fdab85cfe92e0539ded4140e6b2bcc81/e93cc/general.webp 300w,\n/static/fdab85cfe92e0539ded4140e6b2bcc81/b0544/general.webp 600w,\n/static/fdab85cfe92e0539ded4140e6b2bcc81/87e7a/general.webp 669w"\n              sizes="(max-width: 669px) 100vw, 669px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/fdab85cfe92e0539ded4140e6b2bcc81/73b64/general.jpg 300w,\n/static/fdab85cfe92e0539ded4140e6b2bcc81/3ad8d/general.jpg 600w,\n/static/fdab85cfe92e0539ded4140e6b2bcc81/8626a/general.jpg 669w"\n            sizes="(max-width: 669px) 100vw, 669px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/fdab85cfe92e0539ded4140e6b2bcc81/8626a/general.jpg"\n            alt="gen"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Prompt for development and/or incomplete code/drivers\n")),"\n",l.createElement(n.p,null,"Некоторые вещи, которые поддерживает Linux (таких, как сетевые драйверы,\nфайловые системы, сетевые протоколы и т.д.) могут находиться в состоянии\nразработки, где функциональность, стабильность или уровень тестирование еще\nне достаточно высоки для общего использования. То есть данная опция включает\nдополнительные экспериментальные настройки. Рекомендуется включить, чтобы\nотображались все доступные опции."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"()  Local version - append to kernel release\n")),"\n",l.createElement(n.p,null,"Сюда можно внести наименование, которым дополнится название вашего ядра.\nБывает полезно, когда вы собираете несколько ядер одной и той же версии. Обычно не нужно."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Kernel compression mode (Gzip)  ---\x3e\n  (X) Gzip\n  ( ) Bzip2\n  ( ) LZMA\n  ( ) XZ\n  ( ) LZO\n")),"\n",l.createElement(n.p,null,"Доступные алгоритмы сжатия, отличающиеся по скорости, эффективности,\nкомпрессии и декомпрессии. Скорость сжатия имеет значение только при сборке ядра."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Support for paging of anonymous memory (swap)\n")),"\n",l.createElement(n.p,null,"Поддержка ядром своп-файла. Включаем."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] System V IPC\n    [*] POSIX Message Queues\n    [*] BSD Process Accounting\n    [ ] BSD Process Accounting version 3 file format\n")),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"System V IPC")," — механизм связи между процессами. Набор библиотечных\nфункций и вызовов ядра, позволяющий процессам обмениваться информацией. Некоторые\nпрограммы требуют этого механизма."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"POSIX Message Queues")," — очередь для сообщений формата POSIX с использованием\nприоритетов. Часть механизма связи между процессами. Нужно, если запускать программы написанные под этот формат, например с ОС Solaris."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"BSD Process Accounting")," — поддержка дополнительных сведений о процессах\n(время запуска, владелец, командная строка запуска, использование памяти).\nПолезно для контроля процессов."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Auditing support\n    [*] Enable system-call auditing support\n    [ ] Make audit loginuid immutable\n")),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Auditing support")," — включение механизма проверки ядра. Например\nиспользуется системой SELinux (система расширенной безопасности для Linux)."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Enable system-call auditing support")," — включение системных вызовов для\nмеханизма проверки ядра."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> Kernel .config support\n")),"\n",l.createElement(n.p,null,"Сохранять настройки ядра в нем самом. Это полезно, если у Вы удалите папку с\nисходниками ядра, а потом захотите немного изменить ядро."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Enable access to .config through /proc/config.gz\n")),"\n",l.createElement(n.p,null,"Если эта опция включена, вы сможете получать параметры текущего ядра из\n",l.createElement(n.code,null,"/proc/config.gz")),"\n",l.createElement(n.p,null,"Рекомендуется включить. Пригодится."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Control Group support  ---\x3e\n\n    [ ] Example debug cgroup subsystem\n    [*] Freezer cgroup subsystem\n    [ ] Device controller for cgroups\n    [*] Cpuset support\n    [*] Include legacy /proc/<pid>/cpuset file\n    [*] Simple CPU accounting cgroup subsystem\n    [*] Resource counters\n    [ ] Memory Resource Controller for Control Groups\n    [ ] HugeTLB Resource Controller for Control Groups\n    [ ] Enable perf_event per-cpu per-container group\n    [*] Group CPU scheduler  ---\x3e\n        [*] Group scheduling for SCHED_OTHER\n        [ ] Group scheduling for SCHED_RR/FIFO\n    [ ] Block IO controller\n")),"\n",l.createElement(n.p,null,"Поддержка группирования процессов. Используется такими подсистемами как CPUSETS,\nCFS, контроль памяти или устройства изоляции."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"-*- Namespaces support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Позволяет двум процессам в разных виртуальных средах иметь один и тот же ",l.createElement(n.code,null,"pid"),".\nЭта возможность делает реальными такие сценарии, как апгрейд сервера без необходимости его перезагрузки."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"-*- Kernel->user space relay support (formerly relayfs)\n")),"\n",l.createElement(n.p,null,"Включает поддержку интерфейса некоторых файловых систем (таких как debugfs). Предназначена для эффективного механизма передачи больших объёмов данных из пространства ядра в пользовательское пространство."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Initial RAM filesystem and RAM disk (initramfs/initrd) support\n")),"\n",l.createElement(n.p,null,"Поддержка initrd/initramfs."),"\n",l.createElement(n.p,null,"Если собирается ядро без оных, следует отключить опцию."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Optimize for size\n")),"\n",l.createElement(n.p,null,"Оптимизация кода ядра по размеру. Может быть полезно для создания загрузочных дискет. В обычных случаях не требуется."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Profiling support\n")),"\n",l.createElement(n.p,null,"Включение расширенной поддержки профилирования (например, OProfile). Обычно не нужно."),"\n",l.createElement(n.h2,{id:"enable-loadable-module-support",style:{position:"relative"}},l.createElement(n.a,{href:"#enable-loadable-module-support","aria-label":"enable loadable module support permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Enable loadable module support"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 665px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/27c08c5648ec98201a826caa73e01f6c/e93cc/module-support.webp 300w,\n/static/27c08c5648ec98201a826caa73e01f6c/b0544/module-support.webp 600w,\n/static/27c08c5648ec98201a826caa73e01f6c/14151/module-support.webp 665w"\n              sizes="(max-width: 665px) 100vw, 665px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/27c08c5648ec98201a826caa73e01f6c/73b64/module-support.jpg 300w,\n/static/27c08c5648ec98201a826caa73e01f6c/3ad8d/module-support.jpg 600w,\n/static/27c08c5648ec98201a826caa73e01f6c/0d8e0/module-support.jpg 665w"\n            sizes="(max-width: 665px) 100vw, 665px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/27c08c5648ec98201a826caa73e01f6c/0d8e0/module-support.jpg"\n            alt="loadable"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Forced module loading\n[*] Module unloading\n[*] Forced module unloading\n[ ] Module versioning support\n[ ] Source checksum for all modules\n")),"\n",l.createElement(n.p,null,"Создание модульного ядра. ",l.createElement(n.code,null,"Module unloading")," — возможность выгрузки модулей."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Forced module unloading")," — возможность принудительной выгрузки модуля, даже если оно еще нужно ядру"),"\n",l.createElement(n.h2,{id:"enable-the-block-layer",style:{position:"relative"}},l.createElement(n.a,{href:"#enable-the-block-layer","aria-label":"enable the block layer permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Enable the block layer"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 666px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 98.66666666666666%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/9588a02fa919442a2d319024dc7407cf/e93cc/block.webp 300w,\n/static/9588a02fa919442a2d319024dc7407cf/b0544/block.webp 600w,\n/static/9588a02fa919442a2d319024dc7407cf/d8406/block.webp 666w"\n              sizes="(max-width: 666px) 100vw, 666px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/9588a02fa919442a2d319024dc7407cf/eed55/block.png 300w,\n/static/9588a02fa919442a2d319024dc7407cf/7491f/block.png 600w,\n/static/9588a02fa919442a2d319024dc7407cf/029bd/block.png 666w"\n            sizes="(max-width: 666px) 100vw, 666px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/9588a02fa919442a2d319024dc7407cf/029bd/block.png"\n            alt="block"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Поддержка блочных устройств. Если эта опция отключена, некоторые файловые системы станут недоступны (например, ext3), SCSI и USB устройства не смогут распознаться."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Block layer SG support v4\n  Partition Types  ---\x3e\n    [*] Advanced partition selection\n    [ ] Macintosh partition map support\n    [*] PC BIOS (MSDOS partition tables) support\n    [ ] BSD disklabel (FreeBSD partition tables) support\n    [ ] SGI partition support\n    [ ] EFI GUID Partition support\n")),"\n",l.createElement(n.p,null,"Следует выбрать из списка типы разделов, поддержка которых вам необходима. PC BIOS для машин с обычным BIOS (на разделах MBR), EFI GUID — EFI BIOS (на разделах GPT). В общем, ясно из названий."),"\n",l.createElement(n.h2,{id:"processor-type-and-features",style:{position:"relative"}},l.createElement(n.a,{href:"#processor-type-and-features","aria-label":"processor type and features permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Processor type and features"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 665px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/671cd3c0a642906bb6a53bdbe8279b32/e93cc/processor.webp 300w,\n/static/671cd3c0a642906bb6a53bdbe8279b32/b0544/processor.webp 600w,\n/static/671cd3c0a642906bb6a53bdbe8279b32/14151/processor.webp 665w"\n              sizes="(max-width: 665px) 100vw, 665px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/671cd3c0a642906bb6a53bdbe8279b32/73b64/processor.jpg 300w,\n/static/671cd3c0a642906bb6a53bdbe8279b32/3ad8d/processor.jpg 600w,\n/static/671cd3c0a642906bb6a53bdbe8279b32/0d8e0/processor.jpg 665w"\n            sizes="(max-width: 665px) 100vw, 665px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/671cd3c0a642906bb6a53bdbe8279b32/0d8e0/processor.jpg"\n            alt="processors"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Symmetric multi-processing support\n")),"\n",l.createElement(n.p,null,"Поддержка симметричной мультипроцессорности. Включается в случае, если у вас\nмногопроцессорный компьютер или многоядерный процессор."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Preemption Model (Voluntary Kernel Preemption (Desktop)) ---\x3e\n  Voluntary Kernel Preemption (Desktop)\n")),"\n",l.createElement(n.p,null,"Повысит отзывчивость десктопных приложений. Как отметил в комментариях ",l.createElement(n.em,null,"UlvHare")," в плане\nзапуска таких приложений как Firefox Low-Latency Desktop Preemptible Mode хуже, чем Voluntary."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Enable MPS table\n")),"\n",l.createElement(n.p,null,"Для старых систем SMP, которые не имеют надлежащей поддержки ACPI."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Support for extended (non-PC) x86 platforms\n")),"\n",l.createElement(n.p,null,"Поддержка платформ, отличных от PC."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Paravirtualized guest support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Поддержка паравиртуализации (например, для Xen)."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Processor family (Core 2/newer Xeon)  ---\x3e\n\n  ( ) Opteron/Athlon64/Hammer/K8\n  ( ) Intel P4 / older Netburst based Xeon\n  (X) Core 2/newer Xeon\n  ( ) Intel Atom\n  ( ) Generic-x86-64\n")),"\n",l.createElement(n.p,null,"Следует выбрать тип своего процессора. Если не знаете или рассчитываете использовать созданную конфигурацию ядра на разных машинах, отмечайте Generic."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] SMT (Hyperthreading) scheduler support\n")),"\n",l.createElement(n.p,null,"Включение технологии Hyperthreading."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Multi-core scheduler support\n")),"\n",l.createElement(n.p,null,"Для процессоров Intel Core, AMD Athlon64/Phenom."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] EFI runtime service support\n[ ] EFI stub support\n")),"\n",l.createElement(n.p,null,"Для поддержки UEFI. В данном примере она отключена."),"\n",l.createElement(n.h2,{id:"power-management-and-acpi-options",style:{position:"relative"}},l.createElement(n.a,{href:"#power-management-and-acpi-options","aria-label":"power management and acpi options permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Power management and ACPI options"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/62d60f37e76b890b3db72a26bb25111a/e93cc/power.webp 300w,\n/static/62d60f37e76b890b3db72a26bb25111a/b0544/power.webp 600w,\n/static/62d60f37e76b890b3db72a26bb25111a/cca66/power.webp 667w"\n              sizes="(max-width: 667px) 100vw, 667px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/62d60f37e76b890b3db72a26bb25111a/73b64/power.jpg 300w,\n/static/62d60f37e76b890b3db72a26bb25111a/3ad8d/power.jpg 600w,\n/static/62d60f37e76b890b3db72a26bb25111a/f5f91/power.jpg 667w"\n            sizes="(max-width: 667px) 100vw, 667px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/62d60f37e76b890b3db72a26bb25111a/f5f91/power.jpg"\n            alt="power"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Suspend to RAM and standby\n")),"\n",l.createElement(n.p,null,"Поддержка Suspend to RAM - сохранение состояния операционной системы в оперативной памяти."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Hibernation (aka 'suspend to disk')\n()  Default resume partition\n")),"\n",l.createElement(n.p,null,"Поддержка Suspend to Disk - иначе говоря, режим гибернации. Потребуется включение swap-раздела. В ",l.createElement(n.code,null,"Default resume partition")," можно прописать путь к swap. Или оставить пустым с последующим внесением параметра resume в строку загрузчика. Лучше прописать к загрузчику."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] ACPI(Advanced Configuration and Power Interface)Support ---\x3e\n    <M> EC read/write access through /sys/kernel/debug/ec\n    [ ] Deprecated /proc/acpi/event support\n    <M> AC Adapter\n    <M> Battery\n    {M} Button\n    {M} Video\n    <M> Fan\n    [*] Dock\n    <M> Processor\n    <M> Thermal Zone\n")),"\n",l.createElement(n.p,null,"Поддержка интерфейса управления конфигурацией и питанием (ACPI)."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"CPU Frequency scaling  ---\x3e\n  [*] CPU Frequency scaling\n  < > CPU frequency translation statistics\n  Default CPUFreq governor (ondemand)  ---\x3e\n  -*- 'performance' governor\n  < > 'powersave' governor\n  < > 'userspace' governor\n  -*- 'ondemand' cpufreq policy governor\n  < > 'conservative' cpufreq governor\n")),"\n",l.createElement(n.p,null,"Управление настройками частоты процессора: ",l.createElement(n.code,null,"'performance'")," governor обеспечивает наибольшую производительность, ",l.createElement(n.code,null,"'powersave'")," governor будет стараться снижать частоту процессора, чем увеличит работу от батареи, ",l.createElement(n.code,null,"'ondemand'")," - нечто среднее. Рекомендуется выбрать ",l.createElement(n.code,null,"'ondemand'"),' в качестве "умолчательного" в  ',l.createElement(n.code,null,"Default CPUFreq governor"),"."),"\n",l.createElement(n.h2,{id:"bus-options-pci-etc",style:{position:"relative"}},l.createElement(n.a,{href:"#bus-options-pci-etc","aria-label":"bus options pci etc permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Bus options (PCI etc.)"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/ad78cf2b932b869dea05e72f11888d43/e93cc/bus.webp 300w,\n/static/ad78cf2b932b869dea05e72f11888d43/b0544/bus.webp 600w,\n/static/ad78cf2b932b869dea05e72f11888d43/cca66/bus.webp 667w"\n              sizes="(max-width: 667px) 100vw, 667px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/ad78cf2b932b869dea05e72f11888d43/73b64/bus.jpg 300w,\n/static/ad78cf2b932b869dea05e72f11888d43/3ad8d/bus.jpg 600w,\n/static/ad78cf2b932b869dea05e72f11888d43/f5f91/bus.jpg 667w"\n            sizes="(max-width: 667px) 100vw, 667px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/ad78cf2b932b869dea05e72f11888d43/f5f91/bus.jpg"\n            alt="bus"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] PCI support\n[*] Support mmconfig PCI config space access\n[*] PCI Express support\n< > PCI Express Hotplug driver\n[*] Root Port Advanced Error Reporting support\n")),"\n",l.createElement(n.p,null,"PCI support обеспечивает поддержку шины PCI."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> PCCard (PCMCIA/CardBus) support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Поддержка карт PCMCIA. Чаще всего встречаются на ноутбуках."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> Support for PCI Hotplug  ---\x3e\n")),"\n",l.createElement(n.p,null,'"Горячее" (на лету) подключение PCI-устройств. Позволяет добавлять и удалять PCI-устройства, даже когда машина включена и работает. В принципе, можно и отключить, поскольку чаще всего эта возможность не используется.'),"\n",l.createElement(n.h2,{id:"executable-file-formats--emulations",style:{position:"relative"}},l.createElement(n.a,{href:"#executable-file-formats--emulations","aria-label":"executable file formats  emulations permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Executable file formats / Emulations"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 666px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/5b4aab21c693bc30cf8154e2ec32a3e9/e93cc/emulations.webp 300w,\n/static/5b4aab21c693bc30cf8154e2ec32a3e9/b0544/emulations.webp 600w,\n/static/5b4aab21c693bc30cf8154e2ec32a3e9/d8406/emulations.webp 666w"\n              sizes="(max-width: 666px) 100vw, 666px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/5b4aab21c693bc30cf8154e2ec32a3e9/73b64/emulations.jpg 300w,\n/static/5b4aab21c693bc30cf8154e2ec32a3e9/3ad8d/emulations.jpg 600w,\n/static/5b4aab21c693bc30cf8154e2ec32a3e9/6b706/emulations.jpg 666w"\n            sizes="(max-width: 666px) 100vw, 666px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/5b4aab21c693bc30cf8154e2ec32a3e9/6b706/emulations.jpg"\n            alt="exec"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Kernel support for ELF binaries\n[*] Write ELF core dumps with partial segments\n<*> Kernel support for MISC binaries\n[*] IA32 Emulation\n")),"\n",l.createElement(n.p,null,"Поддержка формата исполняемых файлов ELF. Обязательна к включению."),"\n",l.createElement(n.h2,{id:"networking-support",style:{position:"relative"}},l.createElement(n.a,{href:"#networking-support","aria-label":"networking support permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Networking support"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 635px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 99.33333333333331%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/84857fc44858abf3c53c2ef077c9b424/e93cc/network.webp 300w,\n/static/84857fc44858abf3c53c2ef077c9b424/b0544/network.webp 600w,\n/static/84857fc44858abf3c53c2ef077c9b424/7ed6b/network.webp 635w"\n              sizes="(max-width: 635px) 100vw, 635px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/84857fc44858abf3c53c2ef077c9b424/eed55/network.png 300w,\n/static/84857fc44858abf3c53c2ef077c9b424/7491f/network.png 600w,\n/static/84857fc44858abf3c53c2ef077c9b424/336b0/network.png 635w"\n            sizes="(max-width: 635px) 100vw, 635px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/84857fc44858abf3c53c2ef077c9b424/336b0/network.png"\n            alt="net"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Networking options  ---\x3e\n")),"\n",l.createElement(n.p,null,"В подпунктах включается поддержка протокола TCP/IP, в частности возможность включения/отключения IPv6. Поскольку автор не является специалистом в данной области, детально раздел не рассматривается. Сетевые администраторы, безусловно, найдут для себя множество полезных опций. Для домашнего же использования рекомендуется оставить опции по-умолчанию."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"< >   IrDA (infrared) subsystem support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Скорее всего включать не понадобится. Обеспечивает поддержку инфракрасного модуля."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"< >   Bluetooth subsystem support  ---\x3e\n        Bluetooth device drivers  ---\x3e\n")),"\n",l.createElement(n.p,null,"Для тех, у кого встроен модуль беспроводной передачи данных bluetooth. Как правило, сейчас это ноутбуки. Хотя ранее bluetooth был достаточно популярен и соответствующие устройства покупались и использовались на настольных ПК."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Bluetooth device drivers")," позволит выбрать из списка поддержку определённого устройства."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<M>   RF switch subsystem support  ---\x3e\n")),"\n",l.createElement(n.p,null,'Для ноутбуков, где, как правило, радиопередатчик wifi-чипа включается нажатием клавиши  "Kill Switch". Если эта клавиша не нажата и передатчик не включен, wi-fi не заведётся. Кстати, если параллельно у вас установлена Windows, обязательно оставьте под ней включенной кнопку wi-fi. В противном случае в linux при попытке включить интерфейс wlan вам будут объяснять, что Kill Switch отключен и включать его будет бесполезно.'),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"-*-   Wireless  ---\x3e\n    <M> cfg80211 - wireless configuration API\n    [*] cfg80211 wireless extensions compatibility\n")),"\n",l.createElement(n.p,null,"Поддержка стандарта 802.11 для беспроводных сетей."),"\n",l.createElement(n.h2,{id:"device-drivers",style:{position:"relative"}},l.createElement(n.a,{href:"#device-drivers","aria-label":"device drivers permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Device Drivers"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 666px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 93.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/8d7824c58fdc0e19698e4742738c7b12/e93cc/device.webp 300w,\n/static/8d7824c58fdc0e19698e4742738c7b12/b0544/device.webp 600w,\n/static/8d7824c58fdc0e19698e4742738c7b12/d8406/device.webp 666w"\n              sizes="(max-width: 666px) 100vw, 666px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/8d7824c58fdc0e19698e4742738c7b12/73b64/device.jpg 300w,\n/static/8d7824c58fdc0e19698e4742738c7b12/3ad8d/device.jpg 600w,\n/static/8d7824c58fdc0e19698e4742738c7b12/6b706/device.jpg 666w"\n            sizes="(max-width: 666px) 100vw, 666px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/8d7824c58fdc0e19698e4742738c7b12/6b706/device.jpg"\n            alt="device"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Generic Driver Options  ---\x3e\n    (/sbin/hotplug) path to uevent helper\n    [*] Maintain a devtmpfs filesystem to mount at /dev\n    [*] Automount devtmpfs at /dev, after the kernel mounted the ro\n    [*] Select only drivers that don't need compile-time external fir\n    [*] Prevent firmware from being built\n     -*- Userspace firmware loading support\n    [*] Include in-kernel firmware blobs in kernel binary\n    () External firmware blobs to build into the kernel binary\n    [ ] Driver Core verbose debug messages\n    [*] Managed device resources verbose debug messages\n")),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Maintain a devtmpfs filesystem to mount at /dev")," — Монтировать файловую систему tmpfs."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Select only drivers that don't need compile-time external fir")," — выбирать лишь те драйверы, которые не требуют прошивки. В зависимости от вашего оборудования эту опцию, возможно, придётся отключить."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"Include in-kernel firmware blobs in kernel binary")," — включить прошивку в ядро."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"External firmware blobs to build into the kernel binary")," — требуется для указания пути к блобам."),"\n",l.createElement(n.p,null,"Например:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"radeon/BTC_rls.bin radeon/CAICOS_mc.bin radeon/CAICOS_me.bin radeon/CAICOS_pfp.bin\n")),"\n",l.createElement(n.p,null,"Но в таком случае требуется включить в конфигурационный файл ядра строку с указанием директории, в которой находятся эти блобы:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,'CONFIG_EXTRA_FIRMWARE_DIR="/lib/firmware"\n')),"\n",l.createElement(n.p,null,"Идём далее:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"< > Parallel port support  ---\x3e\n-*- Plug and Play support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Первое уже вряд ли нужно. Но если у вас есть устройства ( раньше это были все принтеры ), требующие подключения по параллельному порту - включите опцию."),"\n",l.createElement(n.p,null,"Plug and Play включаем."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Block devices  ---\x3e\n    <*> Loopback device support\n    <*> RAM block device support\n")),"\n",l.createElement(n.p,null,"Блочные устройства. ",l.createElement(n.code,null,"Loopback device support")," включить обязательно."),"\n",l.createElement(n.p,null,l.createElement(n.code,null,"RAM block device support"),' нужен при сборке ядра с initrd, в противном случае - отключить: "выбирайте Y, если хотите использовать часть оперативной памяти как блочное устройство. В этом устройстве вы сможете создавать файловую систему, и использовать ее как обыкновенное блочное устройство (такое как жесткий диск). Обычно его используют для загрузки и сохранения минимальной копии корневой файловой системы при загрузке с флоппи диска, CD-ROM при установке дистрибутива, или на бездисковых рабочих станциях."'),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Misc devices  ---\x3e\n")),"\n",l.createElement(n.p,null,"Просмотреть и принять решение включать или не включать то или иное устройство. У автора данный раздел вообще пуст."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"SCSI device support  ---\x3e\n  -*- SCSI device support\n  [*] legacy /proc/scsi/ support\n  *** SCSI support type (disk, tape, CD-ROM) ***\n  <*> SCSI disk support\n  <*> SCSI CDROM support\n  [*]   Enable vendor-specific extensions (for SCSI CDROM)\n  <*> SCSI generic support\n  [*] Verbose SCSI error reporting (kernel size +=12K)\n")),"\n",l.createElement(n.p,null,"Поддержка устройств SCSI. В современных машинах без включения этих опций могут быть не найдены такие устройства как жёсткий диск и CD-привод."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> Serial ATA and Parallel ATA drivers  ---\x3e\n    [*] Verbose ATA error reporting\n    [*] ATA ACPI Support\n    [*] SATA Port Multiplier support\n    *** Controllers with non-SFF native interface ***\n    <*> AHCI SATA support\n")),"\n",l.createElement(n.p,null,"Поддержка устройств SATA. AHCI (Advanced Host Controller Interface) - механизм, позволяющий устройствам SATA пользоваться расширенными функциями."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[ ] Multiple devices driver support (RAID and LVM)  ---\x3e\n")),"\n",l.createElement(n.p,null,"Опции, обеспечивающие использование логических томов и программных RAID-массивов."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Network device support  ---\x3e\n    [*]   Ethernet driver support  ---\x3e\n    <*>   PPP (point-to-point protocol) support\n    USB Network Adapters  ---\x3e\n    [*]   Wireless LAN  ---\x3e\n")),"\n",l.createElement(n.p,null,"В ",l.createElement(n.code,null,"Ethernet driver support")," следует выбрать поддержку устройства вашей сетевой карты Ethernet. PPP может понадобиться тем, кто подключается к интернету с использованием соответствующего протокола. USB Adapters - при наличии у вас поднобного адаптера для выхода в сеть. Wireless LAN - для использования беспроводных сетей стандарта IEEE 802.11. Здесь нужно выбрать соответствующий вашему оборудованию драйвер."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Input device support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Нужен для определения различных устройств ввода как то: мыши, тачпады, тачскрины, джойстики, клавиатура и иные устройства. Предлагается немного побродить по списку и выбрать нужные опции."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"{*} I2C support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Поддержка видео в Linux."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> Multimedia support  ---\x3e\n    [*] Cameras/video grabbers support\n    [*] Media USB Adapters  ---\x3e\n    <*> USB Video Class (UVC)\n    [*] UVC input events device support\n")),"\n",l.createElement(n.p,null,"Поддержка веб-камер и захвата видео.  Нужно включить, если имеется встроенная камера или предполагается подключать камеру внешнюю."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Graphics support  ---\x3e\n  <*> /dev/agpgart (AGP Support)  ---\x3e\n  <*>   AMD Opteron/Athlon64 on-CPU GART support\n  <*>   Intel 440LX/BX/GX, I8xx and E7x05 chipset support\n")),"\n",l.createElement(n.p,null,"Включение поддержки AGP. В примере для видеокарт Intel и Radeon."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Laptop Hybrid Graphics - GPU switching support\n")),"\n",l.createElement(n.p,null,"Включается, если на машине более одной видеокарты. Подробнее об этой проблеме\nможно узнать в ",l.createElement(n.a,{href:"/posts/gentoo2/"},"соответствующем посте"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<M> Direct Rendering Manager\n")),"\n",l.createElement(n.p,null,"Включить DRM - Direct Rendering Manager. Современная вещь, рекомендуется."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"{*} Support for frame buffer devices  ---\x3e\n    [*] Enable Video Mode Handling Helpers\n    [*] Enable Tile Blitting Support\n    [*] EFI-based Framebuffer Support\n")),"\n",l.createElement(n.p,null,"Управление поддержкой фреймбуфера. EFI-based Framebuffer Support нужен для систем с UEFI."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"Console display driver support  ---\x3e\n   {*} Framebuffer Console support\n")),"\n",l.createElement(n.p,null,"Поддержка кадрового буфера в консоли. Включаем."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Bootup logo  ---\x3e\n   [*] Standard 224-color Linux logo\n")),"\n",l.createElement(n.p,null,"Включаем пингвинов при загрузке системы ;)"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> Sound card support  ---\x3e\n    <*>   Advanced Linux Sound Architecture  ---\x3e\n")),"\n",l.createElement(n.p,null,"Включение поддержки звуковых устройств. Выбор своего железа из списка."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] USB support  ---\x3e\n")),"\n",l.createElement(n.p,null,"Аналогично, только для USB-устройств."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] X86 Platform Specific Device Drivers  ---\x3e\n")),"\n",l.createElement(n.p,null,"Имеет смысл посмотреть владельцам ноутбуков. Особенно тем, у кого не\nработает контроль яркости экрана или горячие клавиши. Для владельцев MXM видеокарт там же включить:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<*> WMI Support for MXM Laptop Graphics\n")),"\n",l.createElement(n.h2,{id:"firmware-drivers",style:{position:"relative"}},l.createElement(n.a,{href:"#firmware-drivers","aria-label":"firmware drivers permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Firmware Drivers"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/e5c8109d900f763182928c5105b4d8c8/e93cc/firmware.webp 300w,\n/static/e5c8109d900f763182928c5105b4d8c8/b0544/firmware.webp 600w,\n/static/e5c8109d900f763182928c5105b4d8c8/5a4dc/firmware.webp 662w"\n              sizes="(max-width: 662px) 100vw, 662px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/e5c8109d900f763182928c5105b4d8c8/73b64/firmware.jpg 300w,\n/static/e5c8109d900f763182928c5105b4d8c8/3ad8d/firmware.jpg 600w,\n/static/e5c8109d900f763182928c5105b4d8c8/eb544/firmware.jpg 662w"\n            sizes="(max-width: 662px) 100vw, 662px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/e5c8109d900f763182928c5105b4d8c8/eb544/firmware.jpg"\n            alt="firmware"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Для включения в ядро сторонних прошивок. Если вы не уверены, что вам нужны какие-либо опции, рекомендуется оставить вариант по-умолчанию."),"\n",l.createElement(n.h2,{id:"file-systems",style:{position:"relative"}},l.createElement(n.a,{href:"#file-systems","aria-label":"file systems permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"File systems"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 666px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/254cb34cd2ab6db82d1155726e1f924c/e93cc/file_systems.webp 300w,\n/static/254cb34cd2ab6db82d1155726e1f924c/b0544/file_systems.webp 600w,\n/static/254cb34cd2ab6db82d1155726e1f924c/d8406/file_systems.webp 666w"\n              sizes="(max-width: 666px) 100vw, 666px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/254cb34cd2ab6db82d1155726e1f924c/73b64/file_systems.jpg 300w,\n/static/254cb34cd2ab6db82d1155726e1f924c/3ad8d/file_systems.jpg 600w,\n/static/254cb34cd2ab6db82d1155726e1f924c/6b706/file_systems.jpg 666w"\n            sizes="(max-width: 666px) 100vw, 666px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/254cb34cd2ab6db82d1155726e1f924c/6b706/file_systems.jpg"\n            alt="filesys"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Осуществляет поддержку тех или иных файловых систем, поддержку квотирования, а также выбор нативных языков (вернее того, как будут отображаться символы). В целом, в комментариях не нуждается. Единственное замечание: если вы собираете ядро без initrd нужно включить используемые при загрузке файловые системы жёстко, а не модулями."),"\n",l.createElement(n.h2,{id:"kernel-hacking",style:{position:"relative"}},l.createElement(n.a,{href:"#kernel-hacking","aria-label":"kernel hacking permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Kernel hacking"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 664px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/e93cc/kernel_hacking.webp 300w,\n/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/b0544/kernel_hacking.webp 600w,\n/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/54ba6/kernel_hacking.webp 664w"\n              sizes="(max-width: 664px) 100vw, 664px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/73b64/kernel_hacking.jpg 300w,\n/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/3ad8d/kernel_hacking.jpg 600w,\n/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/bf212/kernel_hacking.jpg 664w"\n            sizes="(max-width: 664px) 100vw, 664px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/19dfdf6c3d47d6437dfbdc84f9ccf9ef/bf212/kernel_hacking.jpg"\n            alt="kern_hack"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"[*] Magic SysRq key\n")),"\n",l.createElement(n.p,null,"Если компьютер завис и не реагирует на команды переключения консоли. Вы можете нажать ",l.createElement(n.code,null,"Alt-PrintScreen-s")," для записи кеша дисков или ",l.createElement(n.code,null,"Alt-PrintScreen-i")," (Убить все процессы за исключением init). Механизм нажатия такой: - Нажать ",l.createElement(n.code,null,"Alt")," - Нажать ",l.createElement(n.code,null,"PrintScreen")," - Отпустить ",l.createElement(n.code,null,"Alt")," - Нажать нужную кнопку - Отпустить все."),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"-*- Debug Filesystem\n")),"\n",l.createElement(n.p,null,"Когда эта опция включена, можно монтировать debugfs в ",l.createElement(n.code,null,"/etc/fstab"),". Таким образом мы получим директорию ",l.createElement(n.code,null,"/sys/kernel/debug"),", что очень небесполезно в частности для обладателей двух видеокарт."),"\n",l.createElement(n.h2,{id:"security-options",style:{position:"relative"}},l.createElement(n.a,{href:"#security-options","aria-label":"security options permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Security options"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 665px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/918e29042127789fef455c9578f7f7e9/e93cc/security.webp 300w,\n/static/918e29042127789fef455c9578f7f7e9/b0544/security.webp 600w,\n/static/918e29042127789fef455c9578f7f7e9/14151/security.webp 665w"\n              sizes="(max-width: 665px) 100vw, 665px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/918e29042127789fef455c9578f7f7e9/73b64/security.jpg 300w,\n/static/918e29042127789fef455c9578f7f7e9/3ad8d/security.jpg 600w,\n/static/918e29042127789fef455c9578f7f7e9/0d8e0/security.jpg 665w"\n            sizes="(max-width: 665px) 100vw, 665px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/918e29042127789fef455c9578f7f7e9/0d8e0/security.jpg"\n            alt="secur"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Позволяет увеличить защищенность системы. Можно, например, запретить запуск программ с привилегиями root без специального ключа или с помощью системы SELinux ограничить возможности доступа к файлам самого root. Изменяйте эти опции только если вы знаете что делаете."),"\n",l.createElement(n.h2,{id:"cryptographic-api",style:{position:"relative"}},l.createElement(n.a,{href:"#cryptographic-api","aria-label":"cryptographic api permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Cryptographic API"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 664px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/eb64679bfc803bff9a2f868ec0437697/e93cc/crypto.webp 300w,\n/static/eb64679bfc803bff9a2f868ec0437697/b0544/crypto.webp 600w,\n/static/eb64679bfc803bff9a2f868ec0437697/54ba6/crypto.webp 664w"\n              sizes="(max-width: 664px) 100vw, 664px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/eb64679bfc803bff9a2f868ec0437697/73b64/crypto.jpg 300w,\n/static/eb64679bfc803bff9a2f868ec0437697/3ad8d/crypto.jpg 600w,\n/static/eb64679bfc803bff9a2f868ec0437697/bf212/crypto.jpg 664w"\n            sizes="(max-width: 664px) 100vw, 664px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/eb64679bfc803bff9a2f868ec0437697/bf212/crypto.jpg"\n            alt="cryp"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Опции шифрования. Пригодятся, если у вас имеются закодированные файловые системы. Так же как и с предыдущим пунктом: изменяйте эти опции только если вы знаете что делаете."),"\n",l.createElement(n.h2,{id:"virtualization",style:{position:"relative"}},l.createElement(n.a,{href:"#virtualization","aria-label":"virtualization permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Virtualization"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 665px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/086c50986eaed31d14cf43f240d05da9/e93cc/virtualization.webp 300w,\n/static/086c50986eaed31d14cf43f240d05da9/b0544/virtualization.webp 600w,\n/static/086c50986eaed31d14cf43f240d05da9/14151/virtualization.webp 665w"\n              sizes="(max-width: 665px) 100vw, 665px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/086c50986eaed31d14cf43f240d05da9/73b64/virtualization.jpg 300w,\n/static/086c50986eaed31d14cf43f240d05da9/3ad8d/virtualization.jpg 600w,\n/static/086c50986eaed31d14cf43f240d05da9/0d8e0/virtualization.jpg 665w"\n            sizes="(max-width: 665px) 100vw, 665px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/086c50986eaed31d14cf43f240d05da9/0d8e0/virtualization.jpg"\n            alt="virt"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"<M>  Kernel-based Virtual Machine (KVM) support\n<M>  KVM for Intel processors support\n< >  KVM for AMD processors support\n")),"\n",l.createElement(n.p,null,"Нужно включить, если планируется использовать виртуализацию (конкретно: VirtualBox или QEMU). В противном случае не отмечайте ничего."),"\n",l.createElement(n.h2,{id:"library-routines",style:{position:"relative"}},l.createElement(n.a,{href:"#library-routines","aria-label":"library routines permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Library routines"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 667px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 94.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/e93cc/library.webp 300w,\n/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/b0544/library.webp 600w,\n/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/cca66/library.webp 667w"\n              sizes="(max-width: 667px) 100vw, 667px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/73b64/library.jpg 300w,\n/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/3ad8d/library.jpg 600w,\n/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/f5f91/library.jpg 667w"\n            sizes="(max-width: 667px) 100vw, 667px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/9e2fb3d8b4a8f06518ba58d4ccbe2214/f5f91/library.jpg"\n            alt="lib"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Используется для предоставления модулям функций CRC32 CRC32c. Можете включить"),"\n",l.createElement(n.h2,{id:"послесловие",style:{position:"relative"}},l.createElement(n.a,{href:"#%D0%BF%D0%BE%D1%81%D0%BB%D0%B5%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D0%B5","aria-label":"послесловие permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Послесловие"),"\n",l.createElement(n.p,null,"Итак, настройка ядра закончена. Теперь коснёмся вопроса о сборке. Процесс сборки и установки ядра можно выполнить одной командой:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"# make bzImage modules modules_install install\n")),"\n",l.createElement(n.p,null,"Когда ядро будет собрано, у Вас должны появиться следующие файлы:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"/boot/vmlinuz-3.6.11\n/boot/System.map-3.6.11\n/boot/initrd-3.6.11.img\n")),"\n",l.createElement(n.p,null,"и каталог модулей"),"\n",l.createElement(n.pre,null,l.createElement(n.code,null,"/lib/modules/3.6.11\n")),"\n",l.createElement(n.p,null,"И последним шагом подправим строки загрузчика, чтобы можно было загрузиться с новым ядром (пример для grub-legacy):"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# /boot/grub/menu.lst\n#\ndefault 0\ntimeout 30\nsplashimage=(hd0,1)/boot/grub/splash.xpm.gz\ntitle Linux 3.6.11\nroot (hd0,1)\nkernel /boot/vmlinuz-3.6.11 root=/dev/ram0 real_root=/dev/sda3\ninitrd /boot/initrd-3.6.11\n")),"\n",l.createElement(n.p,null,"Для тех, кому любопытно собрать ядро без initrd, милости прошу:\n",l.createElement(n.a,{href:"http://alv.me/?p=58",target:"_blank",rel:"nofollow"},"лишнему в ядре не место"),". Хотя и следуя представленным выше указаниям также можно собрать такое ядро. Но статья, приведённая по ссылке, позволит лучше понять зачем это нужно и нужно ли оно вообще."),"\n",l.createElement(n.p,null,"Единственное, что там не указано: как в этом случае будут выглядеть\nнастройки загрузчика. В них больше не будет указания на initrd — последней\nстроки — и ram0:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# /boot/grub/menu.lst\n#\ntitle Linux 3.6.11\nroot (hd0,1)\nkernel /boot/vmlinuz-3.6.11 root=/dev/sda3\n")),"\n",l.createElement(n.p,null,"Если сборка не первая, вы увидите в ",l.createElement(n.code,null,"/boot")," старое ядро, оно будет выглядеть\nкак ",l.createElement(n.code,null,"vmlinuz-$KERNEL-VERSION.old"),". В случае неудачной сборки, вы всегда можете загрузиться со старым ядром."),"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"P.S:")," при указанном способе сборки в gentoo автоматически не появится initrd. Если он вам нужен, наиболее простой способ: после сборки ядра использовать для его создания ",l.createElement(n.code,null,"genkernel"),":"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell"},"# genkernel --install initramfs\n")),"\n",l.createElement(n.p,null,l.createElement(n.strong,null,"P.S2:")," не забудьте добавить своего пользователя в соответствующие группы. Если нет звука, прежде всего проверьте, добавлен ли пользователь в группу ",l.createElement(n.code,null,"audio"),", если не заводится камера — в группу ",l.createElement(n.code,null,"video"),"."),"\n",l.createElement(n.p,null,"Да, надо бы ещё отметить, что при необходимости можно обратиться к документации ядра.\nРасполагаются эти файлы в каталоге ",l.createElement(n.code,null,"/usr/src/linux/Documentation"),". Вот, вроде бы, и всё."))}var i=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.MN)(),e.components);return n?l.createElement(n,e,l.createElement(c,e)):c(e)},s=t(7792),o=t(7619);function p(e){var n,t;let{data:{mdx:a},children:r,pageContext:{prev:c,next:i}}=e;const{h1:p,title:d,description:m,image:u,table_of_contents:b}=a.frontmatter;return(0,l.useEffect)((()=>{(0,o.K)()}),[]),l.createElement(l.Fragment,null,l.createElement(s._W,{h1:p,title:d,description:m,image:null===(n=a.frontmatter.image)||void 0===n?void 0:n.publicURL},l.createElement(s.MV,{post:a.frontmatter,imageData:null==u||null===(t=u.childImageSharp)||void 0===t?void 0:t.gatsbyImageData},b?l.createElement(s.G8,{headings:a.tableOfContents}):null,l.createElement("div",{className:"page__content"},r,l.createElement(s.Mf,{prev:c,next:i})),l.createElement(s.QZ,null))))}function d(e){return l.createElement(p,e,l.createElement(i,e))}},8860:function(e,n,t){t.d(n,{y:function(){return a.y}});var a=t(3836)},8876:function(e,n,t){t.d(n,{MN:function(){return r}});var a=t(4424);const l=a.createContext({});function r(e){const n=a.useContext(l);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);