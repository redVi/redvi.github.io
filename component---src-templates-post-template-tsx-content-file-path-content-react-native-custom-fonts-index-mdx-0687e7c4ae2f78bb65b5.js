"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[5576],{8756:function(e,t,n){n.r(t),n.d(t,{Head:function(){return l.Ss},default:function(){return p}});var a=n(8876),s=n(4424);function i(e){const t=Object.assign({p:"p",code:"code",h2:"h2",a:"a",span:"span",pre:"pre"},(0,a.MN)(),e.components);return s.createElement(s.Fragment,null,s.createElement(t.p,null,"Иногда случается острая необходимость добавить в проект несистемные шрифты. В сети есть достаточно много\nинструкций о том как сделать это при помощи ",s.createElement(t.code,null,"react-native link"),". Мы же не ищем лёгких путей и посмотрим\nкак можно обойтись без сторонних команд и файлов конфигурации — сделаем всё вручную."),"\n",s.createElement(t.p,null,"Сразу подумаем о кроссплатформенности. Шрифты добжны быть в формате ",s.createElement(t.code,null,"otf")," или ",s.createElement(t.code,null,"ttf"),". Android\nвоспринимает только файлы с именем вида ",s.createElement(t.code,null,"fontname_bold.ttf"),". Никаких ",s.createElement(t.code,null,"Fontname-Bold")," и прочих\nотступлений от паттерна."),"\n",s.createElement(t.h2,{id:"шаблон",style:{position:"relative"}},s.createElement(t.a,{href:"#%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD","aria-label":"шаблон permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Шаблон"),"\n",s.createElement(t.p,null,"Если проект был создан командой ",s.createElement(t.code,null,"npx react-native init ProjectName"),", то на момент написания заметки\nв корне проекта будет лежать файл ",s.createElement(t.code,null,"App.js"),". Модифицируем его так, чтобы после сборки видеть наши шрифты."),"\n",s.createElement(t.pre,null,s.createElement(t.code,{className:"language-jsx"},"import React from 'react'\nimport { SafeAreaView, StyleSheet, ScrollView, View, Text, Platform } from 'react-native'\n\nconst App = () => (\n  <SafeAreaView>\n    <ScrollView contentInsetAdjustmentBehavior=\"automatic\">\n      <View>\n        <Text style={styles.text}>Merienda Bold</Text>\n      </View>\n    </ScrollView>\n  </SafeAreaView>\n)\n\nconst styles = StyleSheet.create({\n  text: {\n    textAlign: 'center',\n    marginVertical: 25,\n    fontSize: 20,\n    fontWeight: '600',\n    fontFamily: Platform.OS === 'android' ? 'circular_std_bold' : 'Circular Std',\n  },\n})\n\nexport default App\n")),"\n",s.createElement(t.h2,{id:"ios",style:{position:"relative"}},s.createElement(t.a,{href:"#ios","aria-label":"ios permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"iOS"),"\n",s.createElement(t.p,null,"Добавление шрифтов для iOS потребует достаточно много шагов, но все они очень простые. Если по пунктам,\nполучается так:"),"\n",s.createElement(t.p,null,"Открыть проект в Xcode. Если читатель впервые ",s.createElement("strike",null,"замужем")," работает с Xcode, уточню:\nоткрывать нужно не весь проект, а только директорию ",s.createElement(t.code,null,"ios"),"."),"\n",s.createElement(t.p,null,"Создать новую группу в корне проекта. У меня группа названа ",s.createElement(t.code,null,"Resources"),",\nв дальнейшем в ней будут находиться и другие файлы."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 413px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 160.66666666666666%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/f818a308af2ee74ed76658cd58ecb313/e93cc/xcode_create_new_group.webp 300w,\n/static/f818a308af2ee74ed76658cd58ecb313/f9837/xcode_create_new_group.webp 413w"\n              sizes="(max-width: 413px) 100vw, 413px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/f818a308af2ee74ed76658cd58ecb313/73b64/xcode_create_new_group.jpg 300w,\n/static/f818a308af2ee74ed76658cd58ecb313/f171f/xcode_create_new_group.jpg 413w"\n            sizes="(max-width: 413px) 100vw, 413px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/f818a308af2ee74ed76658cd58ecb313/f171f/xcode_create_new_group.jpg"\n            alt="Create New Group Xcode"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"Перетаскиванием добавить шрифты из директории своего проекта (например, из ",s.createElement(t.code,null,"src/assets/fonts"),") в новую группу.\nПосле этого появится окно, где нужно выставить настройки как показано на скриншоте."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1152px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 42.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/14fd7b6d9a88bb6478ab1baef1d141a9/e93cc/copy-fonts.webp 300w,\n/static/14fd7b6d9a88bb6478ab1baef1d141a9/b0544/copy-fonts.webp 600w,\n/static/14fd7b6d9a88bb6478ab1baef1d141a9/c2ad5/copy-fonts.webp 1152w"\n              sizes="(max-width: 1152px) 100vw, 1152px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/14fd7b6d9a88bb6478ab1baef1d141a9/73b64/copy-fonts.jpg 300w,\n/static/14fd7b6d9a88bb6478ab1baef1d141a9/3ad8d/copy-fonts.jpg 600w,\n/static/14fd7b6d9a88bb6478ab1baef1d141a9/914fe/copy-fonts.jpg 1152w"\n            sizes="(max-width: 1152px) 100vw, 1152px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/14fd7b6d9a88bb6478ab1baef1d141a9/914fe/copy-fonts.jpg"\n            alt="Copy Resources"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"Убедиться, что у шрифтов выставлен чекбокс «Target Membership». Если нет, отметить."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 57.333333333333336%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/2800635638b9630fb1b43bbe5ffff6fe/e93cc/target-membership-checkbox.webp 300w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/b0544/target-membership-checkbox.webp 600w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/68fc1/target-membership-checkbox.webp 1200w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/d81e6/target-membership-checkbox.webp 1358w"\n              sizes="(max-width: 1200px) 100vw, 1200px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/2800635638b9630fb1b43bbe5ffff6fe/73b64/target-membership-checkbox.jpg 300w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/3ad8d/target-membership-checkbox.jpg 600w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/6c738/target-membership-checkbox.jpg 1200w,\n/static/2800635638b9630fb1b43bbe5ffff6fe/116ba/target-membership-checkbox.jpg 1358w"\n            sizes="(max-width: 1200px) 100vw, 1200px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/2800635638b9630fb1b43bbe5ffff6fe/6c738/target-membership-checkbox.jpg"\n            alt="Target Membership Checkbox"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"В поле локации должен появиться относительный путь к шрифтам."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 520px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 64.33333333333333%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/65cfe8176e8b48a4ae7a09485d9b231d/e93cc/fonts_location.webp 300w,\n/static/65cfe8176e8b48a4ae7a09485d9b231d/0e8bf/fonts_location.webp 520w"\n              sizes="(max-width: 520px) 100vw, 520px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/65cfe8176e8b48a4ae7a09485d9b231d/73b64/fonts_location.jpg 300w,\n/static/65cfe8176e8b48a4ae7a09485d9b231d/91d27/fonts_location.jpg 520w"\n            sizes="(max-width: 520px) 100vw, 520px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/65cfe8176e8b48a4ae7a09485d9b231d/91d27/fonts_location.jpg"\n            alt="Relative Fonts Path"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"Проверить, что шрифты появились во вкладке «Build Phases»."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 49%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/3eec2b12153269250b3d407129897f01/e93cc/build-phases.webp 300w,\n/static/3eec2b12153269250b3d407129897f01/b0544/build-phases.webp 600w,\n/static/3eec2b12153269250b3d407129897f01/68fc1/build-phases.webp 1200w,\n/static/3eec2b12153269250b3d407129897f01/a2303/build-phases.webp 1800w,\n/static/3eec2b12153269250b3d407129897f01/5a30c/build-phases.webp 1852w"\n              sizes="(max-width: 1200px) 100vw, 1200px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/3eec2b12153269250b3d407129897f01/73b64/build-phases.jpg 300w,\n/static/3eec2b12153269250b3d407129897f01/3ad8d/build-phases.jpg 600w,\n/static/3eec2b12153269250b3d407129897f01/6c738/build-phases.jpg 1200w,\n/static/3eec2b12153269250b3d407129897f01/8b34c/build-phases.jpg 1800w,\n/static/3eec2b12153269250b3d407129897f01/5e6e8/build-phases.jpg 1852w"\n            sizes="(max-width: 1200px) 100vw, 1200px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/3eec2b12153269250b3d407129897f01/6c738/build-phases.jpg"\n            alt="Build Phases"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"Связать шрифты через ",s.createElement(t.code,null,"info.plist"),". Перечислять нужно каждое наименование, если файлов несколько.\nВ ",s.createElement(t.code,null,"Information Property List")," кликнуть на иконку плюса, из выпадающего списка выбрать\n",s.createElement(t.code,null,"Fonts provided by application"),". Также через плюс добавить новые значения, именами которых сделать названия файлов."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; flex:4;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/319a6ecb946093aba4cb22a20beaed9b/e93cc/fonts-provided.webp 300w,\n/static/319a6ecb946093aba4cb22a20beaed9b/b0544/fonts-provided.webp 600w,\n/static/319a6ecb946093aba4cb22a20beaed9b/68fc1/fonts-provided.webp 1200w,\n/static/319a6ecb946093aba4cb22a20beaed9b/f9197/fonts-provided.webp 1662w"\n              sizes="(max-width: 1200px) 100vw, 1200px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/319a6ecb946093aba4cb22a20beaed9b/73b64/fonts-provided.jpg 300w,\n/static/319a6ecb946093aba4cb22a20beaed9b/3ad8d/fonts-provided.jpg 600w,\n/static/319a6ecb946093aba4cb22a20beaed9b/6c738/fonts-provided.jpg 1200w,\n/static/319a6ecb946093aba4cb22a20beaed9b/ddd9f/fonts-provided.jpg 1662w"\n            sizes="(max-width: 1200px) 100vw, 1200px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/319a6ecb946093aba4cb22a20beaed9b/6c738/fonts-provided.jpg"\n            alt="Fonts provided by application"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(t.p,null,"Собрать проект и запустить."),"\n",s.createElement(t.h2,{id:"android",style:{position:"relative"}},s.createElement(t.a,{href:"#android","aria-label":"android permalink",className:"anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Android"),"\n",s.createElement(t.p,null,"Скопировать файлы шрифтов в директорию ",s.createElement(t.code,null,"имя_проекта/android/app/src/main/assets/fonts"),", предварительно создав и ",s.createElement(t.code,null,"assets"),",\nи ",s.createElement(t.code,null,"fonts"),"."),"\n",s.createElement(t.pre,null,s.createElement(t.code,null,"android\n├── app\n│   └── src\n│       └── main\n│           ├── assets\n│           │   └── fonts\n│           │       ├── circular_std_bold.ttf\n│           │       ├── circular_std_medium.ttf\n")),"\n",s.createElement(t.p,null,"Собрать проект и запустить. Обратить внимание на строку стилей выше:"),"\n",s.createElement(t.pre,null,s.createElement(t.code,{className:"language-jsx"},"fontFamily: Platform.OS === 'android' ? 'circular_std_bold' : 'Circular Std',\n")),"\n",s.createElement(t.p,null,"Если шрифт не отобразился, скорее всего, он имеет нетипичное название. Например, ожидается начертание ",s.createElement(t.code,null,"normal"),",\nа имя шрифта при этом ",s.createElement(t.code,null,"regular"),". iOS поймёт что это за шрифт, если указать соответствующее значение ",s.createElement(t.code,null,"fontWeight"),".\nПодсказать же Android'у явно какой шрифт использовать можно только указав полное имя файла."))}var c=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.MN)(),e.components);return t?s.createElement(t,e,s.createElement(i,e)):i(e)},l=n(7792),r=n(7619);function o(e){var t,n;let{data:{mdx:a},children:i,pageContext:{prev:c,next:o}}=e;const{h1:p,title:b,description:d,image:m,table_of_contents:g}=a.frontmatter;return(0,s.useEffect)((()=>{(0,r.K)()}),[]),s.createElement(s.Fragment,null,s.createElement(l._W,{h1:p,title:b,description:d,image:null===(t=a.frontmatter.image)||void 0===t?void 0:t.publicURL},s.createElement(l.MV,{post:a.frontmatter,imageData:null==m||null===(n=m.childImageSharp)||void 0===n?void 0:n.gatsbyImageData},g?s.createElement(l.G8,{headings:a.tableOfContents}):null,s.createElement("div",{className:"page__content"},i,s.createElement(l.Mf,{prev:c,next:o})),s.createElement(l.QZ,null))))}function p(e){return s.createElement(o,e,s.createElement(c,e))}},8876:function(e,t,n){n.d(t,{MN:function(){return i}});var a=n(4424);const s=a.createContext({});function i(e){const t=a.useContext(s);return a.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}}}]);