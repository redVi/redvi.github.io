"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[3456],{9064:function(e,n,t){t.r(n),t.d(n,{Head:function(){return s.Ss},default:function(){return o}});var a=t(8876),l=t(4424);function r(e){const n=Object.assign({p:"p",h2:"h2",a:"a",span:"span",code:"code",pre:"pre",strong:"strong",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,a.MN)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.p,null,"В этом посте не будет вводных слов и примечаний: те, кто знает что собой представляют\nIDE и Emacs, но ещё не довели свой файл конфигурации до ума, возможно, найдут для себя что-то\nинтересное. Те же, кто использует новомодные текстовые редакторы, скорее всего\nобойдут данную заметку стороной, хотя... ребят, постойте! Зачем сидеть на\nновом условно-бесплатном, если старые проверенные временем редакторы могут быть\nтак же хороши? Ну, вы поняли: предположительно вторая категория возможных\nчитателей это sublime'ры. Приступим же."),"\n",l.createElement(n.h2,{id:"основные-пакеты",style:{position:"relative"}},l.createElement(n.a,{href:"#%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D1%8B","aria-label":"основные пакеты permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Основные пакеты"),"\n",l.createElement(n.p,null,"Это о тех пакетах, которые пригодятся всегда, вне зависимости от используемого\nязыка программирования и личных пристрастий. Среди них имеются как уже\nвстроенные, так и те, что ещё предстоит поставить. Прошу обратить внимание:\nконфигурация строится на основе ",l.createElement(n.a,{href:"https://github.com/purcell/emacs.d",target:"_blank",rel:"nofollow"},l.createElement(n.code,null,".emacs.d")," от purcell")," и в ней для удобства\nопределены некоторые нестандартные функции."),"\n",l.createElement(n.p,null,"Напомню, что настройка осуществляется в вашем конфигурационном файле, таком как\n",l.createElement(n.code,null,".emacs")," или же (что удобно когда настроек и пакетов множество) в файле\n",l.createElement(n.code,null,".emacs.d/init.el"),", где подгружаются файлы, в каждом из которых описаны\nнастройки только для его собственного пакета."),"\n",l.createElement(n.p,null,"У автора структура каталога emacs выглядит следующим образом:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell"},"~/.emacs.d/\n├── init.el\n├── lisp\n│   ├── init-css.el\n│   ├── init-ruby-mode.el\n├── snippets\n│   ├── css-mode\n└── themes\n    └── railscasts-theme.el\n")),"\n",l.createElement(n.p,null,"В ",l.createElement(n.code,null,"init.el")," подгружаются файлы из директории ",l.createElement(n.code,null,"lisp"),". Каждый файл описывает какой\nпакет здесь необходимо загрузить и какие настройки для этого пакета\nиспользовать. Идея была украдена у человека с ником purcell, о чём уже\nупоминалось во ",l.createElement(n.a,{href:"/posts/emacs/"},"вводной статье"),"."),"\n",l.createElement(n.p,null,"В «умолчательной» комплектации emacs содержит пакет ",l.createElement(n.strong,null,"ido"),", который\nпозволит с лёгкостью перемещаться между открытыми буферами нажатием клавиш ",l.createElement(n.code,null,"C-x b"),".\nПотребуем его загрузки при старте редактора и сообщим о необходимости\nиспользовать данный функционал сразу."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"; init.el\n(require 'ido)\n(ido-mode t)\n(require 'init-yasnippet)\n(require-package 'autopair)\n(autopair-global-mode)\n")),"\n",l.createElement(n.p,null,"Также хорош на вкус знаменитый ",l.createElement(n.strong,null,"YASnippet"),", поставляющий коллекцию сниппетов для\nсамых разных языков программирования. Имеются горячие клавиши и возможность\nдобавления сниппетов собственных. Впрочем, если есть необходимость интерактивной\nвставки (с параметрами), лучше написать ",l.createElement(n.a,{href:"/posts/emacs-snippets/"},"свою функцию"),"."),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 908px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 42.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/0cebbb37e6bc99f75cdab6c501843a1b/e93cc/yasnippet.webp 300w,\n/static/0cebbb37e6bc99f75cdab6c501843a1b/b0544/yasnippet.webp 600w,\n/static/0cebbb37e6bc99f75cdab6c501843a1b/4987e/yasnippet.webp 908w"\n              sizes="(max-width: 908px) 100vw, 908px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/0cebbb37e6bc99f75cdab6c501843a1b/eed55/yasnippet.png 300w,\n/static/0cebbb37e6bc99f75cdab6c501843a1b/7491f/yasnippet.png 600w,\n/static/0cebbb37e6bc99f75cdab6c501843a1b/39ea5/yasnippet.png 908w"\n            sizes="(max-width: 908px) 100vw, 908px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/0cebbb37e6bc99f75cdab6c501843a1b/39ea5/yasnippet.png"\n            alt="YASnippet"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Настройки для YASnippet:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"; init-yasnippet.el\n\n(require-package 'yasnippet)\n(yas-global-mode 1)\n\n; где лежат сниппеты\n(setq yas-snippet-dirs\n      '(\"~/.emacs.d/snippets\" ))\n\n(provide 'init-yasnippet)\n")),"\n",l.createElement(n.p,null,"Самописные сниппеты должны располагаться в поддиректории, соответствующей имени\nвключаемого режима. Это может быть prog-mode, ruby-mode, css-mode и прочие."),"\n",l.createElement(n.p,null,"И ещё одна незаменимая вещь: ",l.createElement(n.strong,null,"autopair")," автоматически закрывает парные скобки и\nкавычки. Включение ",l.createElement(n.code,null,"global-mode")," активирует такое поведение всюду, даже в\nplain text файлах."),"\n",l.createElement(n.h2,{id:"web-mode",style:{position:"relative"}},l.createElement(n.a,{href:"#web-mode","aria-label":"web mode permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Web-mode"),"\n",l.createElement(n.p,null,"Для примера настроим умное автодополнение в JavaScript и Ruby, позаботимся о\nзакрытии HTML-тегов, подсветке всего и вся. Описание дано короткое: в случае\nвозникновения желания разобраться подробнее следует обратиться к описанию того\nили иного пакета, которое быстро ищется при помощи google. Большинство пакетов\nтакже лежит (и ищется) на github.com."),"\n",l.createElement(n.p,null,"Вариантов настройки может быть несколько: автором предлагаются лишь некоторые из\nних. Прежде всего, это включение таких пакетов как ",l.createElement(n.strong,null,"web-mode")," (автозакрытие\nпарных HTML-тегов, подсветка js, html, erb), ",l.createElement(n.strong,null,"css-mode")," (встроен изначально,\nдополнительно к нему можно настроить поддержку sass и less)."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},';;; Web-mode\n(require-package \'web-mode)\n\n; с какими файлами ассоциировать web-mode\n(add-to-list \'auto-mode-alist \'("\\\\.erb\\\\\'" . web-mode))\n(add-to-list \'auto-mode-alist \'("\\\\.djhtml\\\\\'" . web-mode))\n(add-to-list \'auto-mode-alist \'("\\\\.html\\\\\'" . web-mode))\n\n; настройка отступов\n(setq web-mode-markup-indent-offset 2)\n(setq web-mode-css-indent-offset 2)\n(setq web-mode-code-indent-offset 2)\n\n; сниппеты и автозакрытие парных скобок\n(setq web-mode-extra-snippets \'(("erb" . (("name" . ("beg" . "end"))))\n                                ))\n(setq web-mode-extra-auto-pairs \'(("erb" . (("open" "close")))\n                                  ))\n\n; подсвечивать текущий элемент\n(setq web-mode-enable-current-element-highlight t)\n')),"\n",l.createElement(n.p,null,"Данный пакет незаменим в случае, если вам приходится работать с разного\nрода шаблонизаторами да и просто чистым HTML. А ежели ещё применить чуток\nфантазии и написать несколько ya-сниппетов... в общем, обязательно попробуйте."),"\n",l.createElement(n.h2,{id:"javascript",style:{position:"relative"}},l.createElement(n.a,{href:"#javascript","aria-label":"javascript permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"JavaScript"),"\n",l.createElement(n.p,null,"А что насчёт JavaScript?"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},";;; JS\n\n(require-package 'json-mode)\n(require-package 'js2-mode)\n(require-package 'ac-js2)\n(require-package 'coffee-mode)\n\n(require-package 'tern)\n(require-package 'tern-auto-complete)\n\n(add-hook 'js-mode-hook (lambda () (tern-mode t)))\n(eval-after-load 'tern\n   '(progn\n      (require 'tern-auto-complete)\n      (tern-ac-setup)))\n")),"\n",l.createElement(n.p,null,"Как уже было упомянуто выше, для тонкой настройки рекомендуется обратиться к\nдокументации пакета. Здесь же хочется поставить акцент на последнем пакете:\n",l.createElement(n.strong,null,"tern"),". Tern обеспечивает автодополнение методов JavaScript, но для своей работы\nтребует предварительной установки ",l.createElement(n.code,null,"node.js")," с пакетным менеджером\n",l.createElement(n.code,null,"npm"),":"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-shell"},"# emerge -pav net-libs/nodejs\n# npm install -g tern\n")),"\n",l.createElement(n.p,null,"После проведения этой процедуры можно активировать ",l.createElement(n.code,null,"tern-mode")),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 927px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 44.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/6824e77006ac9a388144c3e2d19644cf/e93cc/tern.webp 300w,\n/static/6824e77006ac9a388144c3e2d19644cf/b0544/tern.webp 600w,\n/static/6824e77006ac9a388144c3e2d19644cf/44de1/tern.webp 927w"\n              sizes="(max-width: 927px) 100vw, 927px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/6824e77006ac9a388144c3e2d19644cf/eed55/tern.png 300w,\n/static/6824e77006ac9a388144c3e2d19644cf/7491f/tern.png 600w,\n/static/6824e77006ac9a388144c3e2d19644cf/469a2/tern.png 927w"\n            sizes="(max-width: 927px) 100vw, 927px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/6824e77006ac9a388144c3e2d19644cf/469a2/tern.png"\n            alt="Tern"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Весьма удобно, не так ли?"),"\n",l.createElement(n.h2,{id:"ruby",style:{position:"relative"}},l.createElement(n.a,{href:"#ruby","aria-label":"ruby permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Ruby"),"\n",l.createElement(n.p,null,"Здесь следует сесть и подумать что приходит на ум при слове\n«ruby». Пожалуй, это такие вещи как сам интерпретатор, подсветка\nсинтаксиса и автодополнение методов подобно тому, как мы реализовали её в\nJavaScript тоже пригодилась бы, ещё rvm с возможностью переключаться между\nиспользуемыми гемами, rails, тестирование кода с rspec... много всего. Что ж,\nдавайте по-порядку."),"\n",l.createElement(n.p,null,"Перво-наперво надо бы активировать сам ",l.createElement(n.strong,null,"ruby-mode")," и связать его с некоторыми\nчасто используемыми файлами, которые не имеют расширения ",l.createElement(n.code,null,".rb"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},'(require-package \'ruby-mode)\n(require-package \'ruby-hash-syntax)\n(add-auto-mode \'ruby-mode\n    "Rakefile\\\\\'" "\\\\.rake\\\\\'" "\\\\.rxml\\\\\'"\n    "\\\\.rjs\\\\\'" "\\\\.irbrc\\\\\'" "\\\\.pryrc\\\\\'" "\\\\.builder\\\\\'" "\\\\.ru\\\\\'"\n    "\\\\.gemspec\\\\\'" "Gemfile\\\\\'")\n')),"\n",l.createElement(n.p,null,"Для тех, кто использует ",l.createElement(n.a,{href:"/posts/ruby-rvm/"},"rvm"),", неплохо было бы позаботиться о\nвозможности интеграции оного в emacs, чем мы, собственно, и займёмся."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(require-package 'rvm)\n(rvm-use-default)\n; для связки rvm+robe\n(defadvice inf-ruby-console-auto (before activate-rvm-for-robe activate)\n  (rvm-activate-corresponding-ruby))\n")),"\n",l.createElement(n.p,null,"Emacs умеет запускать терминал, что избавляет от необходимости постоянно\nпереключаться между окнами. Но как запустить irb, не открывая юниксовый shell? Для этого существует ",l.createElement(n.strong,null,"inf-ruby"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(unless (package-installed-p 'inf-ruby)\n  (package-install 'inf-ruby))\n\n(autoload 'inf-ruby \"inf-ruby\" \"Run an inferior Ruby process\" t)\n(add-hook 'ruby-mode-hook  'inf-ruby-minor-mode)\n")),"\n",l.createElement(n.p,null,"Часто (если не сказать всегда) ruby ассоциируют с его\n«киллер-фичей»: фреймворком Ruby On Rails. И здесь emacs'еров ждёт много\nзамечательных вещей."),"\n",l.createElement(n.p,null,"Начнём с подключения пакета ",l.createElement(n.strong,null,"rinari"),", который поможет быстро перемещаться\nмежду каталогами проекта, запускать встроенный веб-сервер и собственную консоль\nрельсов."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},'(require-package \'rinari)\n(after-load \'rinari\n  (diminish \'rinari-minor-mode "Rin"))\n(global-rinari-mode)\n\n(defun update-rails-ctags ()\n  (interactive)\n  (let ((default-directory (or (rinari-root) default-directory)))\n    (shell-command (concat "ctags -a -e -f " rinari-tags-file-name " --tag-relative -R app lib vendor test"))))\n')),"\n",l.createElement(n.p,null,"Что получим на выходе:"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 641px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 67.33333333333333%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/7e2a45632acc7c466f87490a6e00a762/e93cc/rinari.webp 300w,\n/static/7e2a45632acc7c466f87490a6e00a762/b0544/rinari.webp 600w,\n/static/7e2a45632acc7c466f87490a6e00a762/6d422/rinari.webp 641w"\n              sizes="(max-width: 641px) 100vw, 641px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/7e2a45632acc7c466f87490a6e00a762/eed55/rinari.png 300w,\n/static/7e2a45632acc7c466f87490a6e00a762/7491f/rinari.png 600w,\n/static/7e2a45632acc7c466f87490a6e00a762/1f77c/rinari.png 641w"\n            sizes="(max-width: 641px) 100vw, 641px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/7e2a45632acc7c466f87490a6e00a762/1f77c/rinari.png"\n            alt="rinari"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Но этого мало! Мало, потому что желательно иметь возможность запускать\nтесты. Да, прямо в emacs. И ",l.createElement(n.strong,null,"rspec-mode")," будет здесь хорошим помощником. С ним\nможно запустить как полный набор тестов, так и протестировать единственный spec-файл."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(require-package 'rspec-mode)\n(eval-after-load 'rspec-mode\n '(rspec-install-snippets))\n")),"\n",l.createElement(n.p,null,"О том, как выбрать нужное, речь пойдёт чуть позже."),"\n",l.createElement(n.p,null,"Небесполезная штука: подсветка блоков. Иногда это может оказать весомую помощь\nпри работе с большим (очень большим) файлом. С задачей справляется\n",l.createElement(n.strong,null,"ruby-blocks"),", хотя он имеет недостаток: при загрузке стандартным методом\n(elpa) пакетик куражится. Поэтому предлагается взять соответствующий файл\n",l.createElement(n.a,{href:"https://github.com/adolfosousa/ruby-block.el",target:"_blank",rel:"nofollow"},"у его автора")," и поместить в ",l.createElement(n.code,null,"lisp/init-ruby-block.el"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"; init.el\n(require 'init-ruby-block)\n\n(ruby-block-mode t)\n(setq ruby-block-highlight-toggle t)\n")),"\n",l.createElement(n.p,null,"Наконец, вспомним об автодополнении для чего будем использовать ",l.createElement(n.strong,null,"robe"),".\nRobe не будет работать без активированного ",l.createElement(n.strong,null,"inf-ruby"),", иначе говоря без\nзапущенного процесса ruby также как ",l.createElement(n.strong,null,"tern")," без установленного ",l.createElement(n.code,null,"nodejs"),"."),"\n",l.createElement(n.p,null,"Поэтому есть два пути: последовательно включить соответствующие режимы или\nпопробовать автоматизировать это дело. С последним при использовании rvm (без\nустановленного в ",l.createElement(n.code,null,"/usr/bin")," ruby) у автора возникли временные сложности, коих не\nдолжно наблюдаться в случае, если руби установлен в директорию по-умолчанию."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(require-package 'robe)\n\n; для работы с rvm\n(defadvice inf-ruby-console-auto (before activate-rvm-for-robe activate)\n   (rvm-activate-corresponding-ruby))\n\n(after-load 'ruby-mode\n  (add-hook 'ruby-mode-hook 'robe-mode))\n(after-load 'robe\n  (add-hook 'robe-mode-hook 'ac-robe-setup))\n  (add-hook 'robe-mode-hook\n            (lambda ()\n              (add-to-list 'ac-sources 'ac-source-robe)\n              (set-auto-complete-as-completion-at-point-function)))\n")),"\n",l.createElement(n.p,null,"Далее предлагается лицезреть достаточно большой кусок кода, благодаря которому\n«автозакрываются» блоки в erb-файлах, а также происходит проверка на\nошибки."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(require-package 'mmm-mode)\n(defun sanityinc/ensure-mmm-erb-loaded ()\n  (require 'mmm-erb))\n\n(require 'derived)\n\n(defun sanityinc/set-up-mode-for-erb (mode)\n  (add-hook (derived-mode-hook-name mode) 'sanityinc/ensure-mmm-erb-loaded)\n  (mmm-add-mode-ext-class mode \"\\\\.erb\\\\'\" 'erb))\n\n(let ((html-erb-modes '(html-mode html-erb-mode nxml-mode)))\n  (dolist (mode html-erb-modes)\n    (sanityinc/set-up-mode-for-erb mode)\n    (mmm-add-mode-ext-class mode \"\\\\.r?html\\\\(\\\\.erb\\\\)?\\\\'\" 'html-js)\n    (mmm-add-mode-ext-class mode \"\\\\.r?html\\\\(\\\\.erb\\\\)?\\\\'\" 'html-css)))\n\n(mmm-add-mode-ext-class 'html-erb-mode \"\\\\.jst\\\\.ejs\\\\'\" 'ejs)\n\n(add-auto-mode 'html-erb-mode \"\\\\.rhtml\\\\'\" \"\\\\.html\\\\.erb\\\\'\")\n(add-to-list 'auto-mode-alist '(\"\\\\.jst\\\\.ejs\\\\'\"  . html-erb-mode))\n(mmm-add-mode-ext-class 'yaml-mode \"\\\\.yaml\\\\'\" 'erb)\n\n(dolist (mode (list 'js-mode 'js2-mode 'js3-mode))\n  (mmm-add-mode-ext-class mode \"\\\\.js\\\\.erb\\\\'\" 'erb))\n")),"\n",l.createElement(n.h2,{id:"навигация-по-проекту",style:{position:"relative"}},l.createElement(n.a,{href:"#%D0%BD%D0%B0%D0%B2%D0%B8%D0%B3%D0%B0%D1%86%D0%B8%D1%8F-%D0%BF%D0%BE-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D1%83","aria-label":"навигация по проекту permalink",className:"anchor before"},l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Навигация по проекту"),"\n",l.createElement(n.p,null,"В заключение хотелось бы порекомендовать ",l.createElement(n.strong,null,"projectile"),"."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-lisp"},"(require 'init-projectile)\n")),"\n",l.createElement(n.p,null,"Этот ",l.createElement(n.a,{href:"https://github.com/bbatsov/projectile",target:"_blank",rel:"nofollow"},"пакет")," упростит навигацию по файлам\nи директориям отдельного проекта. Имеется специальная версия для RoR:\n",l.createElement(n.strong,null,"projectile-rails"),". Думается, при наличии одного проекта можно обойтись без\nподобных излишеств. А вот если проектов множество, и в каждом одинаковая\nструктура, и между ними нужно переключаться! Без projectile одна только\nнавигация может быть аду подобна."),"\n",l.createElement(n.p,null,"Помимо вышеперечисленного рекомендуется также обзавестить поддержкой emmet,\nпоставить sr-speedbar и... написать пару-тройку сниппетов."),"\n",l.createElement(n.p,null,"И, как обещалось ранее, примеры доступных нам полезных команд."),"\n",l.createElement(n.table,null,l.createElement(n.thead,null,l.createElement(n.tr,null,l.createElement(n.th,null,"описание"),l.createElement(n.th,null,"команда"))),l.createElement(n.tbody,null,l.createElement(n.tr,null,l.createElement(n.td,null,"сравнить содержимое буфера и оригинального файла"),l.createElement(n.td,null,"diff-buffer-with-file")),l.createElement(n.tr,null,l.createElement(n.td,null,"проверить грамотность автора"),l.createElement(n.td,null,"flyspell-buffer")),l.createElement(n.tr,null,l.createElement(n.td,null,"закомментировать выделенную область"),l.createElement(n.td,null,"comment-region")),l.createElement(n.tr,null,l.createElement(n.td,null,"раскоментировать её же"),l.createElement(n.td,null,"uncomment-region")),l.createElement(n.tr,null,l.createElement(n.td,null,"включить режим web-mode"),l.createElement(n.td,null,"web-mode")),l.createElement(n.tr,null,l.createElement(n.td,null,"включить режим tern-mode"),l.createElement(n.td,null,"tern-mode")),l.createElement(n.tr,null,l.createElement(n.td,null,"запустить ruby shell"),l.createElement(n.td,null,"inf-ruby")),l.createElement(n.tr,null,l.createElement(n.td,null,"запустить robe"),l.createElement(n.td,null,"robe-start")),l.createElement(n.tr,null,l.createElement(n.td,null,"прогнать текущий тест"),l.createElement(n.td,null,"rspec-verify")),l.createElement(n.tr,null,l.createElement(n.td,null,"запустить весь набор тестов"),l.createElement(n.td,null,"rspec-verify-all")),l.createElement(n.tr,null,l.createElement(n.td,null,"запустить консоль rails"),l.createElement(n.td,null,"rinari-console")),l.createElement(n.tr,null,l.createElement(n.td,null,"найти файл в проекте при помощи rinari"),l.createElement(n.td,null,"rinari-find-file-in-project")),l.createElement(n.tr,null,l.createElement(n.td,null,"выбрать версию ruby и gemset"),l.createElement(n.td,null,"rvm-use")))),"\n",l.createElement(n.p,null,"Сегодня это всё. Главная мысль: vim и emacs не уступают\nмногим графическим платным/условно-работоспособным инструментам, а в\nнекоторых ситуациях превосходят их."))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.MN)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},s=t(7792),m=t(7619);function i(e){var n,t;let{data:{mdx:a},children:r,pageContext:{prev:c,next:i}}=e;const{h1:o,title:d,description:p,image:u,table_of_contents:b}=a.frontmatter;return(0,l.useEffect)((()=>{(0,m.K)()}),[]),l.createElement(l.Fragment,null,l.createElement(s._W,{h1:o,title:d,description:p,image:null===(n=a.frontmatter.image)||void 0===n?void 0:n.publicURL},l.createElement(s.MV,{post:a.frontmatter,imageData:null==u||null===(t=u.childImageSharp)||void 0===t?void 0:t.gatsbyImageData},b?l.createElement(s.G8,{headings:a.tableOfContents}):null,l.createElement("div",{className:"page__content"},r,l.createElement(s.Mf,{prev:c,next:i})),l.createElement(s.QZ,null))))}function o(e){return l.createElement(i,e,l.createElement(c,e))}},8876:function(e,n,t){t.d(n,{MN:function(){return r}});var a=t(4424);const l=a.createContext({});function r(e){const n=a.useContext(l);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);