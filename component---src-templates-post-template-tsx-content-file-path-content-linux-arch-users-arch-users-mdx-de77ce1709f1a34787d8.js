"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[1120],{420:function(e,l,n){n.r(l),n.d(l,{Head:function(){return u.Ss},default:function(){return o}});var t=n(8876),a=n(4424);function r(e){const l=Object.assign({p:"p",code:"code",ul:"ul",li:"li",pre:"pre"},(0,t.MN)(),e.components);return a.createElement(a.Fragment,null,a.createElement(l.p,null,"Наиболее удобным инструментом для создания нового пользователя служит команда ",a.createElement(l.code,null,"adduser"),"."),"\n",a.createElement(l.p,null,"Вам будут заданы вопросы касательно имени, домашней директории, пароля,\nпринадлежности к тем или иным пользовательским группам. После ввода основной\nинформации вы сможете добавить дополнительную как то: полное имя, рабочий и\nдомашний телефоны и прочее."),"\n",a.createElement(l.p,null,"Список доступных в archlinux групп можно посмотреть в файле ",a.createElement(l.code,null,"/etc/group"),".\nЕсли вы уже создали пользователя и назначили ему список групп, его имя также\nбудет записано в этот файл напротив тех групп, которым он принадлежит."),"\n",a.createElement(l.p,null,"Примерный список групп, куда можно внести пользователя:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"lp - доступ к печати"),"\n",a.createElement(l.li,null,"wheel - административные привилегии"),"\n",a.createElement(l.li,null,"ftp - доступ к указанной службе"),"\n",a.createElement(l.li,null,"mail - почта"),"\n",a.createElement(l.li,null,"games - доступ к играм"),"\n",a.createElement(l.li,null,"network - управление сетью"),"\n",a.createElement(l.li,null,"video - доступ к видео (графика, фильмы)"),"\n",a.createElement(l.li,null,'audio - возможность "слышать"'),"\n",a.createElement(l.li,null,"optical - доступ к оптическим дискам"),"\n",a.createElement(l.li,null,"floppy - возможность использовать floppy-дисковод (если он ещё есть)"),"\n",a.createElement(l.li,null,"storage - доступ к различным накопителям"),"\n",a.createElement(l.li,null,"power - управление питанием"),"\n",a.createElement(l.li,null,"users - стандартные привилегии, группа по умолчанию"),"\n"),"\n",a.createElement(l.p,null,"Вы можете использовать ",a.createElement(l.code,null,"useradd")," для добавления пользователя в систему.\nНапример формат записи:\n",a.createElement(l.code,null,"useradd опции имя пользователя")),"\n",a.createElement(l.p,null,"Некоторые опции useradd:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-c - комментарий"),"\n",a.createElement(l.li,null,"-d - задать домашний каталог"),"\n",a.createElement(l.li,null,"-D - создать с настройками по умолчанию"),"\n",a.createElement(l.li,null,"-e - отключить учётную запись в указанный день. задаётся в формате YYYY-MM-DD - год. месяц, день"),"\n",a.createElement(l.li,null,"-G - принадлежность к дополнительным группам"),"\n",a.createElement(l.li,null,"-m - создать пользовательскую директорию в /home"),"\n",a.createElement(l.li,null,"-p - задать пароль"),"\n",a.createElement(l.li,null,"-n - не создавать индивидуальную группу для пользователя"),"\n"),"\n",a.createElement(l.p,null,"Впрочем, пароль вы можете задать позже, но пока его не будет, учётная запись останется заблокированной.\nА как вносить изменения в учётную запись уже созданного пользователя?"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"useradd, usermod, userdel")," — команды для добавления, модификации и удаления пользователей."),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"groupadd, groupmod, groupdel")," — команды для добавления, модификации и удаления групп."),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"gpasswd")," — команда для модификации файла ",a.createElement(l.code,null,"/etc/group"),"."),"\n",a.createElement(l.p,null,"Что можно сделать с помощью usermod:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-d - изменить домашний каталог"),"\n",a.createElement(l.li,null,"-s - изменить оболочку"),"\n",a.createElement(l.li,null,"-p - изменить пароль"),"\n",a.createElement(l.li,null,"-g - изменить первичную группу"),"\n",a.createElement(l.li,null,"-G - дополнительную группу"),"\n"),"\n",a.createElement(l.p,null,"Что можно сделать с помощью userdel:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-f - удалит пользователя даже когда он находится в системе или его каталог используется"),"\n",a.createElement(l.li,null,"-r - удалить домашний каталог рекурсивно"),"\n"),"\n",a.createElement(l.p,null,"Например, мы хотим добавить пользователя ",a.createElement(l.code,null,"user1")," в группу администраторов - ",a.createElement(l.code,null,"wheel"),". Это будет выглядеть так:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# usermod -G wheel user1\n")),"\n",a.createElement(l.p,null,"Теперь проверьте ",a.createElement(l.code,null,"/etc/group"),". Появился ли наш пользователь в группе ",a.createElement(l.code,null,"wheel"),"? Конечно, да."),"\n",a.createElement(l.p,null,"Если нужно наоборот удалить поьзователя из группы (удаление пользователя user1 из группы lighttpd):"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# sudo gpasswd -d user1 lighttpd\n")),"\n",a.createElement(l.p,null,"А что с группами?"),"\n",a.createElement(l.p,null,"Добавить при помощи groupadd:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-g - GID > 499"),"\n",a.createElement(l.li,null,"-r - GID < 499"),"\n",a.createElement(l.li,null,"-f - если GID группы уже существует, он будет изменён"),"\n"),"\n",a.createElement(l.p,null,"Изменить при помощи groupmod:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-g - GID"),"\n",a.createElement(l.li,null,"-n - дать группе новое наименование"),"\n"),"\n",a.createElement(l.p,null,"И, наконец, очень удобная команда gpasswd:"),"\n",a.createElement(l.ul,null,"\n",a.createElement(l.li,null,"-a - добавить пользователя в группу"),"\n",a.createElement(l.li,null,"-d - удалить пользователя из группы"),"\n",a.createElement(l.li,null,"-r - удалить пароль группы"),"\n",a.createElement(l.li,null,"-A - назначить администратора группы"),"\n",a.createElement(l.li,null,"-M - добавить несколько пользователей в группу"),"\n"),"\n",a.createElement(l.p,null,"Заставим пользователя периодически менять его пароль:"),"\n",a.createElement(l.pre,null,a.createElement(l.code,{className:"language-shell"},"# change user1:\n")),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Minimum Password Age")," - минимальное количество дней, в течении которых пользователю не разрешено менять пароль"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Maximum Password Age")," - максимальное количество дней, в течении которых можно будет входить в систему под этим паролем"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Last Password Change")," - когда произошло последнее изменение пароля"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Password Expiration Warning")," - за какое количество дней до блокировки выводить сообщения"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Password Inactive")," - число дней после истечения срока действия пароля перед его блокировкой"),"\n",a.createElement(l.p,null,a.createElement(l.code,null,"Account Expiration Date")," - истечение срока действия учётной записи, при отрицательном значении - никогда"),"\n",a.createElement(l.p,null,"Вот такая вышла небольшая заметка для юных администраторов."))}var c=function(e){void 0===e&&(e={});const{wrapper:l}=Object.assign({},(0,t.MN)(),e.components);return l?a.createElement(l,e,a.createElement(r,e)):r(e)},u=n(7792),m=n(7619);function E(e){var l,n;let{data:{mdx:t},children:r,pageContext:{prev:c,next:E}}=e;const{h1:o,title:i,description:d,image:s,table_of_contents:p}=t.frontmatter;return(0,a.useEffect)((()=>{(0,m.K)()}),[]),a.createElement(a.Fragment,null,a.createElement(u._W,{h1:o,title:i,description:d,image:null===(l=t.frontmatter.image)||void 0===l?void 0:l.publicURL},a.createElement(u.MV,{post:t.frontmatter,imageData:null==s||null===(n=s.childImageSharp)||void 0===n?void 0:n.gatsbyImageData},p?a.createElement(u.G8,{headings:t.tableOfContents}):null,a.createElement("div",{className:"page__content"},r,a.createElement(u.Mf,{prev:c,next:E})),a.createElement(u.QZ,null))))}function o(e){return a.createElement(E,e,a.createElement(c,e))}},8876:function(e,l,n){n.d(l,{MN:function(){return r}});var t=n(4424);const a=t.createContext({});function r(e){const l=t.useContext(a);return t.useMemo((()=>"function"==typeof e?e(l):{...l,...e}),[l,e])}}}]);