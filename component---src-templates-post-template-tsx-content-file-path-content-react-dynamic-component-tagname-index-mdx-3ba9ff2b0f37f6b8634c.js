"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[1484],{628:function(e,n,t){t.r(n),t.d(n,{Head:function(){return c.Ss},default:function(){return u}});var a=t(8876),r=t(4424);function o(e){const n=Object.assign({p:"p",pre:"pre",code:"code",h2:"h2",a:"a",span:"span"},(0,a.MN)(),e.components);return r.createElement(r.Fragment,null,r.createElement(n.p,null,"В мире фронтенда принято переиспользовать один и тот же компонент множество раз. BEM-блоки, компонентный подход – всё об этом. Это как возвести здание из кирпичиков."),"\n",r.createElement(n.p,null,"Допустим, нам нужно использовать одну и ту же функциональность, но при этом иметь возможноть задавать компоненту разные html-теги. И тогда хочется сделать что-то подобное:"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"render() {\n  return <[this.props.tag] />\n}\n")),"\n",r.createElement(n.p,null,"Передавать через ",r.createElement(n.code,null,"props")," нужный тег. Без жёсткой привязки. Динамически."),"\n",r.createElement(n.h2,{id:"решение-для-react",style:{position:"relative"}},r.createElement(n.a,{href:"#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%BB%D1%8F-react","aria-label":"решение для react permalink",className:"anchor before"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Решение для React"),"\n",r.createElement(n.p,null,"В JSX данный выше код вызовет ошибку на этапе компиляции. Дело в том, что нам требуются имена элементов, начинающиеся с заглавной буквы. То есть подойдёт следующая запись:"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"render() {\n  const TagName = this.props.tag\n  return <TagName />\n}\n")),"\n",r.createElement(n.p,null,"Альтернативный способ потребует импорта компонентов:"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"import React, { Component } from 'react';\nimport FooComponent from './foo-component';\nimport BarComponent from './bar-component';\n\nexport default class CustomComponent extends Component {\n  components = {\n    foo: FooComponent,\n    bar: BarComponent\n  }\n\n  render() {\n    const TagName = this.components[this.props.tag || 'foo']\n    return <TagName />\n  }\n}\n")),"\n",r.createElement(n.p,null,"Подключаем извне как обычно:"),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"import React, { Component } from 'react';\nimport { CustomComponent } from './custom-component';\n\nexport default class App extends Component {\n  render() {\n    return <CustomComponent tag=\"foo\" />\n  }\n}\n")),"\n",r.createElement(n.h2,{id:"решение-для-vuejs",style:{position:"relative"}},r.createElement(n.a,{href:"#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%BB%D1%8F-vuejs","aria-label":"решение для vuejs permalink",className:"anchor before"},r.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Решение для Vue.js"),"\n",r.createElement(n.p,null,"С Vue.js в этом плане тоже всё отлично. И для этого также используется функция ",r.createElement(n.code,null,"render"),"."),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-js"},"import Vue from 'vue';\n\nVue.component('custom-component', {\n  name: 'custom-component',\n\n  render(createElement) {\n    return createElement(\n      this.tag,           // tag\n      this.$slots.default // array of children\n    );\n  },\n\n  props: {\n    tag: { type: String, required: true },\n  }\n});\n")),"\n",r.createElement(n.p,null,"Готово. Теперь можно переиспользовать и задавать свои html-теги."),"\n",r.createElement(n.pre,null,r.createElement(n.code,{className:"language-vue"},'<custom-component tag="section">\n  <p>Hello</p>\n</custom-component>\n')))}var l=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.MN)(),e.components);return n?r.createElement(n,e,r.createElement(o,e)):o(e)},c=t(7792),m=t(7619);function s(e){var n,t;let{data:{mdx:a},children:o,pageContext:{prev:l,next:s}}=e;const{h1:u,title:p,description:i,image:d,table_of_contents:g}=a.frontmatter;return(0,r.useEffect)((()=>{(0,m.K)()}),[]),r.createElement(r.Fragment,null,r.createElement(c._W,{h1:u,title:p,description:i,image:null===(n=a.frontmatter.image)||void 0===n?void 0:n.publicURL},r.createElement(c.MV,{post:a.frontmatter,imageData:null==d||null===(t=d.childImageSharp)||void 0===t?void 0:t.gatsbyImageData},g?r.createElement(c.G8,{headings:a.tableOfContents}):null,r.createElement("div",{className:"page__content"},o,r.createElement(c.Mf,{prev:l,next:s})),r.createElement(c.QZ,null))))}function u(e){return r.createElement(s,e,r.createElement(l,e))}},8876:function(e,n,t){t.d(n,{MN:function(){return o}});var a=t(4424);const r=a.createContext({});function o(e){const n=a.useContext(r);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);