"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[5920],{6176:function(e,n,t){t.r(n),t.d(n,{Head:function(){return i.Ss},default:function(){return p}});var a=t(8876),l=t(4424);function r(e){const n=Object.assign({p:"p",code:"code",pre:"pre",span:"span"},(0,a.MN)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.p,null,"В CSS3 есть множество новых свойств, которые могут значительно ускорить\nвёрстку тех или иных элементов страницы. Например, css-фильтры, об одном из\nкоторых сегодня предлагается поговорить."),"\n",l.createElement(n.p,null,"Каждый из нас хотя бы раз имел возможность наблюдать эффект размытия на\nстранице. Зачастую для его создания используется jQuery-библиотека\n",l.createElement(n.code,null,"bjurjs"),". Однако, не на всех сайтах целесообразно использовать jQuery, да и\nтехнологии не стоят на месте: теперь мы можем воспользоваться решением на чистом CSS. Попробуем?"),"\n",l.createElement(n.p,null,"Пример простейшей разметки:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-html"},'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8"/>\n    <title>Blur</title>\n    <link href="style.css" rel="stylesheet"/>\n  </head>\n\n  <body>\n    <main class="wrapper">\n      <div class="blur"></div>\n      <div class="inner-wrapper">\n        <h2>Welcome to our website!</h2>\n      </div>\n    </main>\n  </body>\n\n</html>\n')),"\n",l.createElement(n.p,null,"Итак, задан родительский div с классом ",l.createElement(n.code,null,"wrapper"),", служащий контейнером для двух\nвложенных div'ов: ",l.createElement(n.code,null,"inner-wrapper")," будет содержать текст приветствия, а ",l.createElement(n.code,null,"blur")," —\nизображение, к которому нужно применить эффект размытия."),"\n",l.createElement(n.p,null,"Обратимся к стилям."),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-css"},".wrapper {\n  position: relative;\n  width: 500px;\n  height: 500px;\n  margin: 0 auto;\n}\n\n.inner-wrapper,\n.blur {\n  position: absolute;\n  width: 500px;\n  height: 300px;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n")),"\n",l.createElement(n.p,null,"Как можно видеть, дочерние блоки абсолютно позиционированы и находятся на\nодном уровне. Дело в том, что эффект размытия будет применяться и к тексту\nприветствия, чего нам хотелось бы избежать. Поэтому лучше управлять положением\nблоков относительно друг друга при помощи ",l.createElement(n.code,null,"z-index"),". Сделаем это, а также\nзададим необходимый бэкгрануд для ",l.createElement(n.code,null,".blur"),":"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-css"},".inner-wrapper {\n  z-index: 100;\n  color: #fff;\n  text-align: center;\n  text-shadow: 0 0 5px rgba(0,0,0,.5);\n}\n\n.blur {\n  z-index: 99;\n  background-image: url(image.png);\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n")),"\n",l.createElement(n.p,null,"На данный момент получаем простейшую страничку с картинкой и текстом:"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 493px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/e41e1391f83d877bf8883023d3a77cef/e93cc/no-blur.webp 300w,\n/static/e41e1391f83d877bf8883023d3a77cef/2998b/no-blur.webp 493w"\n              sizes="(max-width: 493px) 100vw, 493px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/e41e1391f83d877bf8883023d3a77cef/eed55/no-blur.png 300w,\n/static/e41e1391f83d877bf8883023d3a77cef/dbfc5/no-blur.png 493w"\n            sizes="(max-width: 493px) 100vw, 493px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/e41e1391f83d877bf8883023d3a77cef/dbfc5/no-blur.png"\n            alt="&quot;Без эффекта размытия&quot;"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Настало время применить магию! Увы, firefox пока не поддерживает css-фильтры,\nпоэтому в дело пойдёт небольшой трюк: нужно «скормить» ему svg-файл\nсо следующим содержимым:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-xml"},'\x3c!-- blur.svg --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n  <filter id="blur">\n    <feGaussianBlur stdDeviation="5"/>\n  </filter>\n</svg>\n')),"\n",l.createElement(n.p,null,"и указать путь к этому файлу, а также обратиться к нужному фильтру. В нашем случае фильтр\nвсего один: тот, что определён под id ",l.createElement(n.code,null,"blur"),". Вот как должен быть преобразован\ncss-код для получения эффекта размытия:"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-css"},".inner-wrapper {\n  z-index: 100; /* текст не размыт */\n  color: #fff;\n  text-align: center;\n  text-shadow: 0 0 5px rgba(0,0,0,.5);\n}\n\n.blur {\n  z-index: 99; /* изображение размыто */\n  background-image: url(image.png);\n  background-size: cover;\n  background-repeat: no-repeat;\n  -webkit-filter: blur(5px);\n  -moz-filter: blur(5px);\n  filter: blur(5px);\n  filter: url('blur.svg#blur'); /* путь к svg */\n}\n")),"\n",l.createElement(n.p,null,"А вот и итоговый вариант с применением эффекта размытия:"),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 60%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/081497ccdc05925421a1355163e56027/e93cc/blur.webp 300w,\n/static/081497ccdc05925421a1355163e56027/eb82c/blur.webp 486w"\n              sizes="(max-width: 486px) 100vw, 486px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/081497ccdc05925421a1355163e56027/eed55/blur.png 300w,\n/static/081497ccdc05925421a1355163e56027/451dd/blur.png 486w"\n            sizes="(max-width: 486px) 100vw, 486px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/081497ccdc05925421a1355163e56027/451dd/blur.png"\n            alt="&quot;Эффект blur в действии&quot;"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",l.createElement(n.p,null,"Единственный недостаток: нечёткие границы размытия, которые выходят за пределы\nродительского элемента. Часто такой побочный эффект может быть\nнежелательным. Ну, что ж, можно поиграть с радиусом размытия или применить\n",l.createElement(n.code,null,"overflow: hidden"),"."))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.MN)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},i=t(7792),s=t(7619);function o(e){var n,t;let{data:{mdx:a},children:r,pageContext:{prev:c,next:o}}=e;const{h1:p,title:u,description:m,image:d,table_of_contents:g}=a.frontmatter;return(0,l.useEffect)((()=>{(0,s.K)()}),[]),l.createElement(l.Fragment,null,l.createElement(i._W,{h1:p,title:u,description:m,image:null===(n=a.frontmatter.image)||void 0===n?void 0:n.publicURL},l.createElement(i.MV,{post:a.frontmatter,imageData:null==d||null===(t=d.childImageSharp)||void 0===t?void 0:t.gatsbyImageData},g?l.createElement(i.G8,{headings:a.tableOfContents}):null,l.createElement("div",{className:"page__content"},r,l.createElement(i.Mf,{prev:c,next:o})),l.createElement(i.QZ,null))))}function p(e){return l.createElement(o,e,l.createElement(c,e))}},8876:function(e,n,t){t.d(n,{MN:function(){return r}});var a=t(4424);const l=a.createContext({});function r(e){const n=a.useContext(l);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);