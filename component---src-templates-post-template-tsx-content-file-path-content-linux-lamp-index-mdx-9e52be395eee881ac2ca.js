"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[8576],{6080:function(e,a,n){n.r(a),n.d(a,{Head:function(){return c.Ss},default:function(){return i}});var s=n(8876),t=n(4424);function l(e){const a=Object.assign({p:"p",h2:"h2",a:"a",span:"span",h3:"h3"},(0,s.MN)(),e.components);return t.createElement(t.Fragment,null,t.createElement(a.p,null,"Apache — это самый популярный веб-сервер. Его задача как и любого другого\nвеб-сервера — отдавать контент на запросы клиентов. Apache обладает\nбольшим функционалом за счет подключаемых модулей."),"\n",t.createElement(a.h2,{id:"установка",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0","aria-label":"установка permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Установка"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> apache php php-apache mysql</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Это наиболее популярный вариант установки. Таким образом мы получим небезызвестный\nLAMP — Linux + Apache + MySQL + PHP"),"\n",t.createElement(a.p,null,"Если вы не нуждаетесь в каком-либо из компонентов, не ставьте его."),"\n",t.createElement(a.p,null,"Не забудьте установить пароль для пользователя MySQL. Для этого\nнеобходимо запустить сервер командой ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">systemctl start httpd.service</code>'}}),",\nа затем выполнить следующее (на примере установки с выбором mariadb):"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> mysql_install_db <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr <span class="token parameter variable">--datadir</span><span class="token operator">=</span>/var/lib/mysql\n<span class="token comment"># systemctl start mysqld.service</span>\n<span class="token comment"># mysql_secure_installation</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Теперь если вы попробуете зайти без пароля, у вас ничего не выйдет:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysql -u root</span>\nERROR <span class="token number">1045</span> <span class="token punctuation">(</span><span class="token number">28000</span><span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">\'root\'</span>@<span class="token string">\'localhost\'</span> <span class="token punctuation">(</span>using password: NO<span class="token punctuation">)</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"При необходимости (забытый пароль или ещё какое-нибудь недоразумение), сбросьте\nнастройки:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysqld_safe --skip-grant-tables &amp;</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Команды на вход с паролем и выход:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysql -u root -p</span>\n<span class="token punctuation">\\</span>q</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Теперь проверим, есть ли в ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/shadow</code>'}})," пользователь ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">http</code>'}}),":"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cat /etc/shadow | grep http:</span>\nhttp:x:14871::::::</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Если такой строки вами найдено не было, добавляем пользователя вручную:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># useradd -d /srv/http -r -s /bin/false -U http</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Смотрим содержание нашего ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/hosts</code>'}}),":"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/hosts: static lookup table for host names</span>\n<span class="token comment">#</span>\n<span class="token comment">#&lt;ip-address> &lt;hostname.domain.org> &lt;hostname></span>\n<span class="token number">127.0</span>.0.1 localhost.localdomain localhost linux</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Примечание: здесь и далее ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">linux</code>'}})," - имя хоста, т.е. вашей машины"),"\n",t.createElement(a.p,null,"Имя хоста должно быть прописано в ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/hostname</code>'}}),":"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">cat</span> /etc/hostname\nlinux</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Итак, если вы ещё не запустили Apache, пришло время сделать это:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># systemctl start httpd.service</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Проверим его работоспособность, пройдя по ссылке в браузере: ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">http://localhost/</code>'}}),"\nЕсли всё нормально, вы увидите следующее изображение:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 509px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 41%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/db680ac04db45909d85f234f0e9e2c59/e93cc/apache2.webp 300w,\n/static/db680ac04db45909d85f234f0e9e2c59/8e3bf/apache2.webp 509w"\n              sizes="(max-width: 509px) 100vw, 509px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/db680ac04db45909d85f234f0e9e2c59/eed55/apache2.png 300w,\n/static/db680ac04db45909d85f234f0e9e2c59/77bb3/apache2.png 509w"\n            sizes="(max-width: 509px) 100vw, 509px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/db680ac04db45909d85f234f0e9e2c59/77bb3/apache2.png"\n            alt="localhost"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.h2,{id:"что-делать-с-php",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%87%D1%82%D0%BE-%D0%B4%D0%B5%D0%BB%D0%B0%D1%82%D1%8C-%D1%81-php","aria-label":"что делать с php permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Что делать с PHP?"),"\n",t.createElement(a.p,null,"Измените ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/httpd/conf/httpd.conf</code>'}}),":"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># закомментировать строку\n# LoadModule mpm_event_module modules/mod_mpm_event.so\n# и добавить\nLoadModule mpm_prefork_module modules/mod_mpm_prefork.so</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Для того чтобы обрабатывались ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">*.php</code>'}})," файлы:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># версия php зависит от установленной вами (в примере php7)\n# после строки LoadModule dir_module modules/mod_dir.so\n# добавить\nLoadModule php7_module modules/libphp7.so\n\n# в список Include где-нибудь после строк\n# Various default settings\nInclude conf/extra/httpd-default.conf\n# добавить\nInclude conf/extra/php7_module.conf</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Удостоверьтесь, что корневая директория веб-сервера (по-умолчанию ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/srv/http/</code>'}}),")\nнаходится в списке ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">open_basedir</code>'}})," файла ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/php/php.ini</code>'}})),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ini"><pre class="language-ini"><code class="language-ini"><span class="token key attr-name">open_basedir</span><span class="token punctuation">=</span><span class="token value attr-value">/srv/http/:/home/:/tmp/:/usr/share/pear/:/path/to/documentroot</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"После чего понадобится перезапустить веб-сервер:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># systemctl restart httpd.service</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Пришло время проверить отображение php-файлов. Можно создать каталог public_html,\nвнутрь которого положить файл ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">test.php</code>'}})," стандартного содержания:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>PHP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 625px; flex:3;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/3b65d499baf55949fc5223a92db3738a/e93cc/apache-public_html.webp 300w,\n/static/3b65d499baf55949fc5223a92db3738a/b0544/apache-public_html.webp 600w,\n/static/3b65d499baf55949fc5223a92db3738a/ee9b0/apache-public_html.webp 625w"\n              sizes="(max-width: 625px) 100vw, 625px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/3b65d499baf55949fc5223a92db3738a/eed55/apache-public_html.png 300w,\n/static/3b65d499baf55949fc5223a92db3738a/7491f/apache-public_html.png 600w,\n/static/3b65d499baf55949fc5223a92db3738a/5eb1c/apache-public_html.png 625w"\n            sizes="(max-width: 625px) 100vw, 625px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/3b65d499baf55949fc5223a92db3738a/5eb1c/apache-public_html.png"\n            alt="public html"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.p,null,"Если php работает, при помощи функции ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">phpinfo()</code>'}})," будет выведена служебная информация."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 939px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 51%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/0f5257ce5759079eef130e96c3e7c8c7/e93cc/phpinfo.webp 300w,\n/static/0f5257ce5759079eef130e96c3e7c8c7/b0544/phpinfo.webp 600w,\n/static/0f5257ce5759079eef130e96c3e7c8c7/24e39/phpinfo.webp 939w"\n              sizes="(max-width: 939px) 100vw, 939px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/0f5257ce5759079eef130e96c3e7c8c7/eed55/phpinfo.png 300w,\n/static/0f5257ce5759079eef130e96c3e7c8c7/7491f/phpinfo.png 600w,\n/static/0f5257ce5759079eef130e96c3e7c8c7/46271/phpinfo.png 939w"\n            sizes="(max-width: 939px) 100vw, 939px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/0f5257ce5759079eef130e96c3e7c8c7/46271/phpinfo.png"\n            alt="phpinfo"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.h2,{id:"mysql",style:{position:"relative"}},t.createElement(a.a,{href:"#mysql","aria-label":"mysql permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"MySQL"),"\n",t.createElement(a.p,null,"Для поддержки MySQL в  ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/php/php.ini</code>'}}),"  раскомментируйте следующие строку:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ini"><pre class="language-ini"><code class="language-ini"><span class="token comment">;extension=mysql.so</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Запустите mysql, если это не было сделано раньше. Убедитесь,\nчто группа и пользователь ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mysql</code>'}})," существуют."),"\n",t.createElement(a.p,null,"Права на корневую директорию mysql должны принадлежать соответствующему\nпользователю:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># ls -l /var/lib/mysql</span>\nитого <span class="token number">110700</span>\n-rw-rw---- <span class="token number">1</span> mysql mysql <span class="token number">16384</span> июн\n-rw-rw---- <span class="token number">1</span> mysql mysql <span class="token number">52</span> июн</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Если это не так, измените владельца:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># chown -R mysql:mysql /var/lib/mysql</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Кстати, файл конфигурации mysql расположен в ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/mysql/my.cnf</code>'}}),"."),"\n",t.createElement(a.h3,{id:"установка-базы-данных",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B1%D0%B0%D0%B7%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85","aria-label":"установка базы данных permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Установка базы данных"),"\n",t.createElement(a.p,null,"Если вы хотите запускать mysql от имени суперпользователя,\nможете не применять опцию ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">--user</code>'}})," и не изменять владельца"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysql_install_db --datadir=/var/lib/mysql --user=mysql</span>\n<span class="token comment"># chown -R mysql:mysql /var/lib/mysql</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Для запуска MySQL:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># systemctl start mysqld.service</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Тестируем mysql (как root):"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysql -u root -p</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Задать пароль для mysql :"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysqladmin -u root password \'пароль_root\'</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Для входа в mysql:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mysql -u root -h linux -p</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"где linux - не забывайте! - имя вашего хоста."),"\n",t.createElement(a.h2,{id:"установка-phpmyadmin-не-бязательно",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-phpmyadmin-%D0%BD%D0%B5-%D0%B1%D1%8F%D0%B7%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE","aria-label":"установка phpmyadmin не бязательно permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Установка phpMyAdmin (не бязательно)"),"\n",t.createElement(a.p,null,"Следует установить нужные пакеты:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> pacman <span class="token parameter variable">-S</span> php-mcrypt phpmyadmin</code></pre></div>'}}),"\n",t.createElement(a.p,null,"После чего убедиться, что в конфигурационном файле php раскомментированы\nдве строки:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">extension<span class="token operator">=</span>mysqli<span class="token operator">.</span>so\nextension<span class="token operator">=</span>mcrypt<span class="token operator">.</span>so\nextension<span class="token operator">=</span>bz2<span class="token operator">.</span>so\nextension<span class="token operator">=</span>zip<span class="token operator">.</span>so</code></pre></div>'}}),"\n",t.createElement(a.p,null,"И исправить несколько файлов как указано ниже."),"\n",t.createElement(a.p,null,"/etc/php/php.ini (добавить /etc/webapps)"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">open_basedir <span class="token operator">=</span> <span class="token operator">/</span>srv<span class="token operator">/</span>http<span class="token operator">/</span><span class="token punctuation">:</span><span class="token operator">/</span>home<span class="token operator">/</span><span class="token punctuation">:</span><span class="token operator">/</span>tmp<span class="token operator">/</span><span class="token punctuation">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>pear<span class="token operator">/</span><span class="token punctuation">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>webapps<span class="token operator">/</span><span class="token punctuation">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>webapps</code></pre></div>'}}),"\n",t.createElement(a.p,null,"/etc/httpd/conf/extra/phpmyadmin.conf"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Alias /phpmyadmin "/usr/share/webapps/phpMyAdmin"\n&lt;Directory "/usr/share/webapps/phpMyAdmin">\n    DirectoryIndex index.php\n    AllowOverride All\n    Options FollowSymlinks\n    Require all granted\n&lt;/Directory></code></pre></div>'}}),"\n",t.createElement(a.p,null,"/etc/httpd/conf/httpd.conf"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># phpMyAdmin configuration\nInclude conf/extra/phpmyadmin.conf</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Можно взглянуть на файл конфигурации phpmyadmin, но исправлять там\nничего не нужно, в примерах ниже мы проведём настройку другим способом."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// /etc/webapps/phpmyadmin/config.inc.php</span>\n<span class="token comment">// хост</span>\n<span class="token variable">$cfg</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'Servers\'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'host\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">\'localhost\'</span><span class="token punctuation">;</span>\n\n<span class="token comment">// по-умолчанию не предоставляется доступ без пароля</span>\n<span class="token variable">$cfg</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'Servers\'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'AllowNoPassword\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>\n\n<span class="token comment">// имя пользователя и пароль</span>\n<span class="token variable">$cfg</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'Servers\'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'controluser\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">\'pma\'</span><span class="token punctuation">;</span>\n<span class="token variable">$cfg</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'Servers\'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">\'controlpass\'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">\'pmapass\'</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"phpMyAdmin настроим из веб-интерфейса. Чтобы это стало возможным в соответствии\nс документацией создадим директорию, доступную на запись пользователю httpd:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cd /usr/share/webapps/phpMyAdmin</span>\n<span class="token comment"># mkdir config</span>\n<span class="token comment"># chgrp http config</span>\n<span class="token comment"># chmod g+w config</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"После чего можно перейти к настройкам по адреcу ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">http://localhost/phpmyadmin/setup</code>'}}),"."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 451px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 117.00000000000001%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/344284deb7c8d5e3a9ba475ee82da685/e93cc/phpmyadmin.webp 300w,\n/static/344284deb7c8d5e3a9ba475ee82da685/58ff5/phpmyadmin.webp 451w"\n              sizes="(max-width: 451px) 100vw, 451px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/344284deb7c8d5e3a9ba475ee82da685/eed55/phpmyadmin.png 300w,\n/static/344284deb7c8d5e3a9ba475ee82da685/f5247/phpmyadmin.png 451w"\n            sizes="(max-width: 451px) 100vw, 451px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/344284deb7c8d5e3a9ba475ee82da685/f5247/phpmyadmin.png"\n            alt="phpmyadmin"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.p,null,"Отредактируем файл",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/webapps/phpmyadmin/.htaccess</code>'}})),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># /etc/webapps/phpmyadmin/.htaccess\ndeny from all</code></pre></div>'}}),"\n",t.createElement(a.p,null,"Теперь, перезагрузив наш ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">httpd</code>'}}),", можно войти в ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">phpmyadmin</code>'}}),"\nпо адресу ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">http://localhost/phpmyadmin</code>'}}),". Для входа от рута используйте логин\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">root</code>'}})," и пароль, заданный при настройке mysql."))}var p=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,s.MN)(),e.components);return a?t.createElement(a,e,t.createElement(l,e)):l(e)},c=n(7792),o=n(7619);function r(e){var a,n;let{data:{mdx:s},children:l,pageContext:{prev:p,next:r}}=e;const{h1:i,title:g,description:d,image:m,table_of_contents:u}=s.frontmatter;return(0,t.useEffect)((()=>{(0,o.K)()}),[]),t.createElement(t.Fragment,null,t.createElement(c._W,{h1:i,title:g,description:d,image:null===(a=s.frontmatter.image)||void 0===a?void 0:a.publicURL},t.createElement(c.MV,{post:s.frontmatter,imageData:null==m||null===(n=m.childImageSharp)||void 0===n?void 0:n.gatsbyImageData},u?t.createElement(c.G8,{headings:s.tableOfContents}):null,t.createElement("div",{className:"page__content"},l,t.createElement(c.Mf,{prev:p,next:r})),t.createElement(c.QZ,null))))}function i(e){return t.createElement(r,e,t.createElement(p,e))}},8876:function(e,a,n){n.d(a,{MN:function(){return l}});var s=n(4424);const t=s.createContext({});function l(e){const a=s.useContext(t);return s.useMemo((()=>"function"==typeof e?e(a):{...a,...e}),[a,e])}}}]);