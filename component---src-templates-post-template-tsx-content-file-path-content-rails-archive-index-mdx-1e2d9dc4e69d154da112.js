"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[3344],{965:function(n,a,s){s.r(a),s.d(a,{Head:function(){return o.Ss},default:function(){return u}});var e=s(8876),t=s(4424),l=s(8860);function c(n){const a=Object.assign({p:"p",h2:"h2",a:"a",span:"span",em:"em"},(0,e.MN)(),n.components);return t.createElement(t.Fragment,null,t.createElement(a.p,null,"Пожалуй, нет ни одного владельца блога, перед которым не стояла бы\nзадача архивации и упорядочивания всех накопленных материалов. Кто-то\nразбивает архив по годам, кто-то по месяцам, но зачастую записей не\nтак много, чтобы создавать для каждого промежутка времени отдельную\nстраницу, и все материалы помещаются на единственной страничке, призванной быть неким путеводителем для посетителей ресурса."),"\n",t.createElement(a.p,null,"Подобный стиль больше всего подходит ведущим блогов, и именно он и будет рассмотрен нами сегодня."),"\n",t.createElement(a.h2,{id:"с-чего-начать",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%81-%D1%87%D0%B5%D0%B3%D0%BE-%D0%BD%D0%B0%D1%87%D0%B0%D1%82%D1%8C","aria-label":"с чего начать permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"С чего начать?"),"\n",t.createElement(a.p,null,"Смею порекомендовать обратить внимание на изображение, иллюстрирующее то, как Rails обрабатывает запросы, поступающие от браузера пользователя. Этот момент подробно расписан на ",t.createElement(a.a,{href:"http://ruby.railstutorial.org",target:"_blank",rel:"nofollow"},"railstutorial.org"),", но давайте немного коснёмся его здесь."),"\n",t.createElement(a.p,null,"Браузер посылает запрос, который принимает веб-сервер. Веб-сервер передает запрос контроллеру Rails. Именно контроллер отвечает за дальнейшие действия. В некоторых случаях (статические страницы), контроллер немедленно отобразит страницу, представляющую собой шаблон с расширением ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">html.erb</code>'}}),". Шаблон преобразуется в чистый HTML и отображается в браузере."),"\n",t.createElement(a.p,null,"Если же речь идёт о динамических сайтах, контроллер взаимодействует моделью, а модель в свою очередь отвечает за связь с базой данных. После обработки запрошенных данных, контроллер направляется к соответствующим шаблонам из ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">app/views/</code>'}})," и отображает страницу в виде HTML как и в первом случае."),"\n",t.createElement(a.p,null,"Адрес, где находится страница, определяется при помощи файла ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">config/routes.rb</code>'}}),"."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 343px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 135.33333333333331%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/b07bf82275e25a526792551981d429dc/e93cc/rails_archive1.webp 300w,\n/static/b07bf82275e25a526792551981d429dc/6eb2a/rails_archive1.webp 343w"\n              sizes="(max-width: 343px) 100vw, 343px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/b07bf82275e25a526792551981d429dc/eed55/rails_archive1.png 300w,\n/static/b07bf82275e25a526792551981d429dc/cb082/rails_archive1.png 343w"\n            sizes="(max-width: 343px) 100vw, 343px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/b07bf82275e25a526792551981d429dc/cb082/rails_archive1.png"\n            alt="rails: request and responce"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.p,null,"Наш архив не может быть статическим, ибо данные должны добавляться в него сразу же после публикации новой статьи. Значит обратимся к динамическому представлению страницы."),"\n",t.createElement(a.p,null,"Предполагается, что модель и контроллёр для статей (articles) уже существуют. Мы просто добавим дополнительный метод имеющемуся контроллёру и создадим новый шаблон представления."),"\n",t.createElement(a.h2,{id:"контроллер",style:{position:"relative"}},t.createElement(a.a,{href:"#%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80","aria-label":"контроллер permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Контроллер"),"\n",t.createElement(a.p,null,"Создадим новый метод ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">archive</code>'}}),", оперирующий переменной ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">archives_by_year</code>'}}),".\nЭта переменная будет включать в себя все существующие публикации, упорядоченные по дате создания с установленным лимитом на вывод количества постов на одной странице (вряд ли нам действительно понадобится последнее действие, но лучше подстраховаться)."),"\n",t.createElement(a.p,null,"Кроме описанных действий, мы воспользуемся группированием статей, обратившись к методу ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">beginning_of_year</code>'}}),", который отображает время, взяв за точку отсчёта начало года."),"\n",t.createElement(l.y,{heading:"Примечание"},t.createElement(a.p,null,"Для получения подробной информации обратитесь к документации по API RoR. Все «временны́е» методы можно отыскать в описании модуля ",t.createElement("code",null,"DateAndTime::Calculations")," (для RoR 4).")),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ruby"><pre class="language-ruby"><code class="language-ruby"><span class="token comment"># app/controllers/articles-controller.rb</span>\n\n<span class="token keyword">class</span> <span class="token class-name">ArticlesController</span> <span class="token operator">&lt;</span> ApplicationController\n  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">archive</span></span>\n    <span class="token variable">@articles_by_year</span> <span class="token operator">=</span> Article<span class="token punctuation">.</span>limit<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span>\n      <span class="token symbol">:all</span><span class="token punctuation">,</span>\n      <span class="token symbol">:order</span> <span class="token operator">=></span> <span class="token string-literal"><span class="token string">"created_at DESC"</span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">.</span>group_by <span class="token punctuation">{</span> <span class="token operator">|</span>article<span class="token operator">|</span> article<span class="token punctuation">.</span>created_at<span class="token punctuation">.</span>beginning_of_year <span class="token punctuation">}</span>\n  <span class="token keyword">end</span>\n<span class="token keyword">end</span></code></pre></div>'}}),"\n",t.createElement(a.h2,{id:"модель",style:{position:"relative"}},t.createElement(a.a,{href:"#%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C","aria-label":"модель permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Модель"),"\n",t.createElement(a.p,null,"Применительно к указанной в начале поста задаче сама модель не представляет для нас большого интереса, но сто́ит обратить внимание, что отсортировать публикации по дате можно прямо здесь и это будет работать для всех статей, где бы они не выводились."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ruby"><pre class="language-ruby"><code class="language-ruby"><span class="token comment"># app/models/article.rb</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Article</span> <span class="token operator">&lt;</span> ActiveRecord<span class="token double-colon punctuation">::</span>Base\n  <span class="token comment"># сортировка публикаций</span>\n  default_scope order<span class="token operator">:</span> <span class="token string-literal"><span class="token string">\'articles.created_at DESC\'</span></span>\n  <span class="token comment"># при необходимости здесь же указываем валидацию</span>\n  <span class="token comment"># для элементов статьи</span>\n  validates <span class="token symbol">:slug</span><span class="token punctuation">,</span> <span class="token symbol">presence</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token symbol">length</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token symbol">maximum</span><span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.h2,{id:"представление",style:{position:"relative"}},t.createElement(a.a,{href:"#%D0%BF%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5","aria-label":"представление permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Представление"),"\n",t.createElement(a.p,null,"Собственно, оно будет отвечать за то ",t.createElement(a.em,null,"как")," выводить архив. Здесь мы берём созданную нами переменную ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">articles_by_year</code>'}})," и проводим итерацию по всем содержащимся в ней элементам. Тут же форматируем вывод дат при помощи метода ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">strftime</code>'}})," и даже подсчитываем количество опубликованных постов при необходимости (посредством методов ",t.createElement(a.em,null,"count")," или ",t.createElement(a.em,null,"length"),")."),"\n",t.createElement(a.p,null,'Затем для каждой из статей указываем ссылку, при нажатии на которую можно перейти к полной версии, и время создания исключительно для удобства восприятия. Для времени создания также используем форматирование, чтобы отобразить только день и месяц ("%d %B").'),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="erb"><pre class="language-erb"><code class="language-erb"><span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%</span><span class="token ruby language-ruby"><span class="token comment"># app/views/articles/archive.html.erb </span></span><span class="token delimiter punctuation">%></span></span>\n\n<span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%</span><span class="token ruby language-ruby"> <span class="token variable">@articles_by_year</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>year<span class="token punctuation">,</span> articles<span class="token operator">|</span> </span><span class="token delimiter punctuation">%></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span><span class="token ruby language-ruby"> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">year<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">\'%Y\'</span></span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">articles<span class="token punctuation">.</span>count</span><span class="token delimiter punctuation">}</span></span><span class="token string">)"</span></span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">></span></span>\n    <span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%</span><span class="token ruby language-ruby"> <span class="token keyword">for</span> article <span class="token keyword">in</span> articles </span><span class="token delimiter punctuation">%></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">></span></span><span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span><span class="token ruby language-ruby"> link_to article<span class="token punctuation">.</span>title<span class="token punctuation">,</span> article </span><span class="token delimiter punctuation">%></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span><span class="token ruby language-ruby"> article<span class="token punctuation">.</span>created_at<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"%d %B"</span></span><span class="token punctuation">)</span> </span><span class="token delimiter punctuation">%></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">></span></span>\n    <span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%</span><span class="token ruby language-ruby"> <span class="token keyword">end</span> </span><span class="token delimiter punctuation">%></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">></span></span>\n<span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%</span><span class="token ruby language-ruby"> <span class="token keyword">end</span> </span><span class="token delimiter punctuation">%></span></span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Результат должен быть похожим на это:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/1cec0f6372a185420448676c535ca7fa/e93cc/rails_archive2.webp 300w,\n/static/1cec0f6372a185420448676c535ca7fa/b0544/rails_archive2.webp 600w,\n/static/1cec0f6372a185420448676c535ca7fa/8d2ea/rails_archive2.webp 800w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/1cec0f6372a185420448676c535ca7fa/73b64/rails_archive2.jpg 300w,\n/static/1cec0f6372a185420448676c535ca7fa/3ad8d/rails_archive2.jpg 600w,\n/static/1cec0f6372a185420448676c535ca7fa/c60e9/rails_archive2.jpg 800w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/1cec0f6372a185420448676c535ca7fa/c60e9/rails_archive2.jpg"\n            alt="archive"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",t.createElement(a.p,null,"Но, постойте, кажется, мы забыли кое-что."),"\n",t.createElement(a.h2,{id:"роутинг",style:{position:"relative"}},t.createElement(a.a,{href:"#%D1%80%D0%BE%D1%83%D1%82%D0%B8%D0%BD%D0%B3","aria-label":"роутинг permalink",className:"anchor before"},t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Роутинг"),"\n",t.createElement(a.p,null,"Ни одна страница не может существовать без адреса. Rails предлагает вам выбрать любой понравившийся, и поможет нам в этом деле маршрутизация. Заглянем в файл ",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">routes.rb</code>'}})," и определим то, какому адресу будет соответствовать каждый из методов контроллера."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="ruby"><pre class="language-ruby"><code class="language-ruby"><span class="token comment"># config/routes.rb</span>\n\nMyblog<span class="token double-colon punctuation">::</span>Application<span class="token punctuation">.</span>routes<span class="token punctuation">.</span>draw <span class="token keyword">do</span>\n  resources <span class="token symbol">:articles</span>\n  root <span class="token string-literal"><span class="token string">\'articles#index\'</span></span> <span class="token comment"># главная страница</span>\n  get <span class="token string-literal"><span class="token string">\'archive/\'</span></span> <span class="token operator">=></span> <span class="token string-literal"><span class="token string">\'articles#archive\'</span></span> <span class="token comment"># архив</span>\n  <span class="token comment"># предположим, у нас имеются статические страницы</span>\n  get <span class="token string-literal"><span class="token string">\'about/\'</span></span> <span class="token operator">=></span> <span class="token string-literal"><span class="token string">\'static_pages#about\'</span></span>\n  get <span class="token string-literal"><span class="token string">\'authors/\'</span></span> <span class="token operator">=></span> <span class="token string-literal"><span class="token string">\'static_pages#authors\'</span></span>\n<span class="token keyword">end</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"Выше представлен простейший вариант определения маршрутов. Чтобы изменения вступили в силу, следует дать команду:"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ rake routes\nPrefix Verb   URI Pattern         Controller<span class="token comment">#Action</span>\nroot GET      /                   articles<span class="token comment">#index</span>\nabout GET     /about<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>    static_pages<span class="token comment">#about</span>\nauthors GET   /authors<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>  static_pages<span class="token comment">#authors</span>\narchive GET   /archive<span class="token punctuation">(</span>.:format<span class="token punctuation">)</span>  articles<span class="token comment">#archive</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"С её помощью Rails переопределит старые маршруты и найдёт новые, если таковые имеются. Вот и всё, можно запускать сервер и полюбоваться на результат."))}var p=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,e.MN)(),n.components);return a?t.createElement(a,n,t.createElement(c,n)):c(n)},o=s(7792),r=s(7619);function i(n){var a,s;let{data:{mdx:e},children:l,pageContext:{prev:c,next:p}}=n;const{h1:i,title:u,description:g,image:m,table_of_contents:d}=e.frontmatter;return(0,t.useEffect)((()=>{(0,r.K)()}),[]),t.createElement(t.Fragment,null,t.createElement(o._W,{h1:i,title:u,description:g,image:null===(a=e.frontmatter.image)||void 0===a?void 0:a.publicURL},t.createElement(o.MV,{post:e.frontmatter,imageData:null==m||null===(s=m.childImageSharp)||void 0===s?void 0:s.gatsbyImageData},d?t.createElement(o.G8,{headings:e.tableOfContents}):null,t.createElement("div",{className:"page__content"},l,t.createElement(o.Mf,{prev:c,next:p})),t.createElement(o.QZ,null))))}function u(n){return t.createElement(i,n,t.createElement(p,n))}},8860:function(n,a,s){s.d(a,{y:function(){return e.y}});var e=s(3836)},8876:function(n,a,s){s.d(a,{MN:function(){return l}});var e=s(4424);const t=e.createContext({});function l(n){const a=e.useContext(t);return e.useMemo((()=>"function"==typeof n?n(a):{...a,...n}),[a,n])}}}]);