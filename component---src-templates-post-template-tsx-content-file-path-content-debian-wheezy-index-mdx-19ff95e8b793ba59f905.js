"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[2360],{364:function(e,n,a){a.r(n),a.d(n,{Head:function(){return i.Ss},default:function(){return r}});var t=a(8876),s=a(4424);function l(e){const n=Object.assign({p:"p",a:"a",h2:"h2",span:"span",ul:"ul",li:"li",em:"em"},(0,t.MN)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.p,null,"Debian — первый серьёзный дистрибутив автора, тёплая и нежная дружба с которым\nдлилась достаточно долго, до перехода на archlinux. Помнится, просидев на Ubuntu\nпару месяцев и смекнув, что с этим дистрибутивом ничему толком не научишься\n(ибо не способствует он получению новых знаний в освоении linux — слишком\nдружелюбен и услужлив, с ним даже не приходится знать, что такое консоль),\nзимой 2009 года на домашний компьютер было решено поставить Debian. Много\nводы утекло с тех пор, много дистрибутивов было испробовано и теперь, после\nвыхода Debian Wheezy, захотелось снова взглянуть на старого друга... да не тут-то было.\nВпечатления он оставил, прямо-таки скажем, неоднозначные."),"\n",s.createElement(n.p,null,"Действия по загрузке и установке дистрибутива можно найти на множестве ресурсов также, как и статьи о вопросе ",s.createElement(n.a,{href:"/posts/acpi/"},"настройке энергопотребления"),". Ничего кардинально нового замечено не было, поэтому начнём с экрана приветствия. По ходу установки из трёх возможных графических сред был выбран xfce, который и встретил своим нерусифицированным хмурым лицом. Вбив логин и пароль, оставалось только войти в систему и воскликнуть: «Какого лешего?». Отсутствие русификации, отвратительные шрифты, невозможность установить некоторые полюбившиеся уже приложения и предложение довольствоваться их устаревшими аналогами... много любопытного поджидает путешественников в мир Debian. Упёртость не позволила бросить дистрибутив. Оставить же его в виде «как есть» не позволила совесть."),"\n",s.createElement(n.h2,{id:"шаг-первый-замена-ядра",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%88%D0%B0%D0%B3-%D0%BF%D0%B5%D1%80%D0%B2%D1%8B%D0%B9-%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0","aria-label":"шаг первый замена ядра permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Шаг первый: замена ядра"),"\n",s.createElement(n.p,null,"Прежде всего следовало разобраться с ядром, в котором мало того, что не\nбыла использована возможность переключения между видеокартами, так она вообще\nещё не поддерживалась: версия ядра 3.2. Выйти из положения можно двумя способами:\nлибо установить свежее дистрибутивное ядро (с патчами от разработчиков самого debian),\nлибо собрать ванильное."),"\n",s.createElement(n.p,null,"Сначала приводистя пример установки ядра из backports (хотя нет, и там тухло)\nили лучше из  experimental — единственной ветки, где имеется софт без бороды.\nПодключаем один из последних двух репозиториев:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/apt/source.list</span>\n\ndeb http://debian.nsu.ru/debian/ wheezy main non-free contrib\ndeb-src http://debian.nsu.ru/debian/ wheezy main non-free contrib\ndeb http://security.debian.org/ wheezy/updates main contrib non-free\ndeb-src http://security.debian.org/ wheezy/updates main contrib non-free\ndeb http://ftp.debian.org/debian/ wheezy-backports main\ndeb http://ftp.debian.org/debian experimental main</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Даём debian'у сигнал о том, что список репозиториев обновился"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># aptitude update</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Ставим свежее ядро. В примере из ветки experimental:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># aptitude search linux-image</span>\n<span class="token comment"># apt-get -t experimental install linux-image-3.8</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Следующий метод предназначен для тех, кто как и автор поста, плюнув на ядра\nдистрибутива, захочет отправится в путь за ванильным ядром на kernel.org.\nКак это оговаривалось уже не раз в других заметках, нужно скачать последнюю\nстабильную версию ядра и распаковать её в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/usr/src</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">wget</span> <span class="token parameter variable">-c</span> http://kernel.org/pub/linux/kernel/v3.x/linux-3.8.11.tar.xz\n<span class="token comment"># mv linux-3.8.11.tar.xz /usr/src</span>\n<span class="token comment"># tar xvf linux-3.8.11.tar.xz</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"После чего собрать ядро с нужными параметрами и дать команду на сборку и установку самого ядра, а также всех его модулей:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># make menuconfig</span>\n<span class="token comment"># make bzImage modules modules_install install</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В результате в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}})," разделе должно появиться ядро с указанной версией и его загрузочный образ (initrd). Дебиан даже потрудился перконфигурировать настройки загрузчика grub2, найдя и включив новое ядро в список. Впрочем, вышеуказанные действия легко выполнить и вручную, сгенерировать образ и обновить настройки загрузчика можно двумя соответствующими командами:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mkinitramfs -o /boot/initrd-3.8.11</span>\n<span class="token comment"># grub-mkconfig -o /boot/grub/grub.cfg</span></code></pre></div>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; flex:7;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 15%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/2f75eebe7086430d811b8693154b9b11/e93cc/mkconfig.webp 300w,\n/static/2f75eebe7086430d811b8693154b9b11/b0544/mkconfig.webp 600w,\n/static/2f75eebe7086430d811b8693154b9b11/1d2dc/mkconfig.webp 612w"\n              sizes="(max-width: 612px) 100vw, 612px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/2f75eebe7086430d811b8693154b9b11/eed55/mkconfig.png 300w,\n/static/2f75eebe7086430d811b8693154b9b11/7491f/mkconfig.png 600w,\n/static/2f75eebe7086430d811b8693154b9b11/ec10e/mkconfig.png 612w"\n            sizes="(max-width: 612px) 100vw, 612px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/2f75eebe7086430d811b8693154b9b11/ec10e/mkconfig.png"\n            alt="grub-mkconfig"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Чтобы добиться искомого результата (отключить дискретное видео), нужно сделать ещё несколько телодвижений:"),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">1.</code>'}})," Убедиться, что установлен драйвер видеокарты, применительно к intel выглядит так:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">aptitude</span> search intel\ni A libdrm-intel i A xserver-xorg-video-intel</code></pre></div>'}}),"\n",s.createElement(n.p,null,"Если установленных пакетов не найдено, доустановить их."),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">2.</code>'}})," Установить ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">linux-firmware-nonfree</code>'}})),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">3.</code>'}})," Добавить debugfs в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/ets/fstab</code>'}})),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">none  /sys/kernel/debug debugfs defaults 0 0</code></pre></div>'}}),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">4.</code>'}})," Добавить скрипт в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/rc.local</code>'}}),", вот так:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># By default this script does nothing</span>\n<span class="token builtin class-name">echo</span> OFF <span class="token operator">></span> /sys/kernel/debug/vgaswitcheroo/switch\n<span class="token builtin class-name">exit</span> <span class="token number">0</span></code></pre></div>'}}),"\n",s.createElement(n.h2,{id:"шаг-второй-русификация-интерфейса-настройки-ввода",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%88%D0%B0%D0%B3-%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B9-%D1%80%D1%83%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0","aria-label":"шаг второй русификация интерфейса настройки ввода permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Шаг второй: русификация интерфейса, настройки ввода"),"\n",s.createElement(n.p,null,"Русификация всего и вся проходит быстро и безболезненно внесением одной лишь записи в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/default/locale</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span><span class="token string">"ru_RU.UTF-8"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Следуя какой-то своей особой логике, Debian предлагает выбор русского языка при установке, но это никоим образом не отражается на практике: что ж, русифицируем самостоятельно."),"\n",s.createElement(n.p,null,"Раскладки клавиатуры также не предлагают того, что хочется — не беда. Сделаем переключение через ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Alt + Shift</code>'}})," , да чтобы раскладку было видно по индикатору ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Caps Lock</code>'}}),"."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/f5d213f59052861b5d4dda97e82413f4/e93cc/layout.webp 300w,\n/static/f5d213f59052861b5d4dda97e82413f4/b0544/layout.webp 600w"\n              sizes="(max-width: 600px) 100vw, 600px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/f5d213f59052861b5d4dda97e82413f4/73b64/layout.jpg 300w,\n/static/f5d213f59052861b5d4dda97e82413f4/3ad8d/layout.jpg 600w"\n            sizes="(max-width: 600px) 100vw, 600px"\n            type="image/jpeg"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/f5d213f59052861b5d4dda97e82413f4/3ad8d/layout.jpg"\n            alt="layout"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Настройка раскладки клавиатуры, поведения тачпада... мелочи жизни:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/X11/xorg.conf.d/10-evdev.conf</span>\n<span class="token comment">#</span>\nSection <span class="token string">"InputClass"</span>\n    Identifier <span class="token string">"evdev keyboard catchall"</span>\n    MatchIsKeyboard <span class="token string">"on"</span>\n    MatchDevicePath <span class="token string">"/dev/input/event*"</span>\nDriver <span class="token string">"evdev"</span> EndSection\n\n<span class="token comment"># /etc/X11/xorg.conf.d/20-keyboard-layout.conf</span>\n<span class="token comment">#</span>\nSection <span class="token string">"InputClass"</span>\n    Identifier <span class="token string">"Keyboard Defaults"</span>\n    MatchIsKeyboard <span class="token string">"yes"</span>\n    Option <span class="token string">"XkbLayout"</span> <span class="token string">"us,ru"</span>\n    Option <span class="token string">"XkbOptions"</span> <span class="token string">"grp:alt_shift_toggle, grp_led:caps"</span>\nEndSection\n\n<span class="token comment"># /etc/X11/xorg.conf.d/50-synaptics.conf</span>\n<span class="token comment">#</span>\nSection <span class="token string">"InputClass"</span>\n    Identifier <span class="token string">"touchpad catchall"</span>\n    Driver <span class="token string">"synaptics"</span>\n    MatchIsTouchpad <span class="token string">"on"</span>\n    Option <span class="token string">"TapButton1"</span> <span class="token string">"1"</span>\n    Option <span class="token string">"TapButton2"</span> <span class="token string">"2"</span>\n    Option <span class="token string">"TapButton3"</span> <span class="token string">"3"</span>\n    Option <span class="token string">"VertEdgeScroll"</span> <span class="token string">"on"</span>\n    Option <span class="token string">"VertTwoFingerScroll"</span> <span class="token string">"on"</span>\n    Option <span class="token string">"HorizEdgeScroll"</span> <span class="token string">"on"</span>\n    Option <span class="token string">"HorizTwoFingerScroll"</span> <span class="token string">"on"</span>\n    Option <span class="token string">"CircularScrolling"</span> <span class="token string">"on"</span>\n    Option <span class="token string">"CircScrollTrigger"</span> <span class="token string">"2"</span>\n    Option <span class="token string">"EmulateTwoFingerMinZ"</span> <span class="token string">"40"</span>\n    Option <span class="token string">"EmulateTwoFingerMinW"</span> <span class="token string">"8"</span>\n    Option <span class="token string">"CoastingSpeed"</span> <span class="token string">"0"</span>\n    MatchDevicePath <span class="token string">"/dev/input/event*"</span>\nEndSection\n    Section <span class="token string">"InputClass"</span>\n    Identifier <span class="token string">"touchpad ignore duplicates"</span>\n    MatchIsTouchpad <span class="token string">"on"</span>\n    MatchOS <span class="token string">"Linux"</span>\n    MatchDevicePath <span class="token string">"/dev/input/mouse*"</span>\n    Option <span class="token string">"Ignore"</span> <span class="token string">"on"</span>\nEndSection\n    Section <span class="token string">"InputClass"</span>\n    Identifier <span class="token string">"Default clickpad buttons"</span>\n    MatchDriver <span class="token string">"synaptics"</span>\n    Option <span class="token string">"SoftButtonAreas"</span> <span class="token string">"50% 0 82% 0 0 0 0 0"</span>\nEndSection</code></pre></div>'}}),"\n",s.createElement(n.h2,{id:"шаг-третий-настройка-шрифтов",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%88%D0%B0%D0%B3-%D1%82%D1%80%D0%B5%D1%82%D0%B8%D0%B9-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%88%D1%80%D0%B8%D1%84%D1%82%D0%BE%D0%B2","aria-label":"шаг третий настройка шрифтов permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Шаг третий: настройка шрифтов"),"\n",s.createElement(n.p,null,"Ни в одной другой ОС не доведётся неискушённому пользователю видеть такое ужасающее отображение шрифта как в Debian. Вообще, надо сказать, что шрифты были и во многом остаются главной проблемой всех linux-дистрибутивов. В последнее время исправить это досадное недоразумение призван патч infinality, который действительно может невозможное."),"\n",s.createElement(n.p,null,"В debian имеется «куцая» утилита для настройки отображения шрифта. Возможности её довольно скудны. Для сравнения в gentoo при помощи eselect можно сделать намного-намного больше."),"\n",s.createElement(n.p,null,"gentoo"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 669px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/6c0f3956a80072586e8cbbcd4b853b48/e93cc/eselect_infinality.webp 300w,\n/static/6c0f3956a80072586e8cbbcd4b853b48/b0544/eselect_infinality.webp 600w,\n/static/6c0f3956a80072586e8cbbcd4b853b48/87e7a/eselect_infinality.webp 669w"\n              sizes="(max-width: 669px) 100vw, 669px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/6c0f3956a80072586e8cbbcd4b853b48/eed55/eselect_infinality.png 300w,\n/static/6c0f3956a80072586e8cbbcd4b853b48/7491f/eselect_infinality.png 600w,\n/static/6c0f3956a80072586e8cbbcd4b853b48/4a11f/eselect_infinality.png 669w"\n            sizes="(max-width: 669px) 100vw, 669px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/6c0f3956a80072586e8cbbcd4b853b48/4a11f/eselect_infinality.png"\n            alt="gentoo"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"debian"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> dpkg-reconfigure fontconfig-config</code></pre></div>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 635px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/e777260710024f0282ba52653706f0b6/e93cc/fontconfig.webp 300w,\n/static/e777260710024f0282ba52653706f0b6/b0544/fontconfig.webp 600w,\n/static/e777260710024f0282ba52653706f0b6/7ed6b/fontconfig.webp 635w"\n              sizes="(max-width: 635px) 100vw, 635px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/e777260710024f0282ba52653706f0b6/eed55/fontconfig.png 300w,\n/static/e777260710024f0282ba52653706f0b6/7491f/fontconfig.png 600w,\n/static/e777260710024f0282ba52653706f0b6/336b0/fontconfig.png 635w"\n            sizes="(max-width: 635px) 100vw, 635px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/e777260710024f0282ba52653706f0b6/336b0/fontconfig.png"\n            alt="autohinter"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 642px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/5d788eeed23f314e3854196279feee17/e93cc/fontconfig2.webp 300w,\n/static/5d788eeed23f314e3854196279feee17/b0544/fontconfig2.webp 600w,\n/static/5d788eeed23f314e3854196279feee17/7df3e/fontconfig2.webp 642w"\n              sizes="(max-width: 642px) 100vw, 642px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/5d788eeed23f314e3854196279feee17/eed55/fontconfig2.png 300w,\n/static/5d788eeed23f314e3854196279feee17/7491f/fontconfig2.png 600w,\n/static/5d788eeed23f314e3854196279feee17/584b4/fontconfig2.png 642w"\n            sizes="(max-width: 642px) 100vw, 642px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/5d788eeed23f314e3854196279feee17/584b4/fontconfig2.png"\n            alt="fontconfig"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 639px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/9a16a2e907df23865c866a98748f1389/e93cc/fontconfig3.webp 300w,\n/static/9a16a2e907df23865c866a98748f1389/b0544/fontconfig3.webp 600w,\n/static/9a16a2e907df23865c866a98748f1389/2135a/fontconfig3.webp 639w"\n              sizes="(max-width: 639px) 100vw, 639px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/9a16a2e907df23865c866a98748f1389/eed55/fontconfig3.png 300w,\n/static/9a16a2e907df23865c866a98748f1389/7491f/fontconfig3.png 600w,\n/static/9a16a2e907df23865c866a98748f1389/c8606/fontconfig3.png 639w"\n            sizes="(max-width: 639px) 100vw, 639px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/9a16a2e907df23865c866a98748f1389/c8606/fontconfig3.png"\n            alt="font-zoom"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Шрифт в Debian изначально не имеет сглаживания и выглядит разряженным. Настройки ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.fonts.conf</code>'}})," уверенности в светлом будущем не прибавляют: либо шрифт тонкий и зазубренный как в Windows, либо просто «мыло» даже с выставленным параметром ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">rgba - none</code>'}}),"."),"\n",s.createElement(n.p,null,"Ситуация немного улучшается для обычных шрифтов при использовании ",s.createElement(n.a,{href:"http://forums.debian.net/viewtopic.php?f=16&t=88545",target:"_blank",rel:"nofollow"},"infinality"),", но шрифт семейства monospace с небольшим кеглем представляет собой всё то же мыло в отличие от эффекта того же infinality в gentoo."),"\n",s.createElement(n.p,null,"Может быть, знающие линуксоиды наставят автора на путь истинный и укажут наиболее простое и красивое решение указанной проблемы. Всех, у кого есть здравые мысли на этот счёт, прошу выразить свою критику и негодование вместе с примерами настройки в комментариях. Но, сдаётся мне, без наложения патчей от Убунты здесь не обойтись."),"\n",s.createElement(n.h2,{id:"шаг-четвёртый-автозапуск",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%88%D0%B0%D0%B3-%D1%87%D0%B5%D1%82%D0%B2%D1%91%D1%80%D1%82%D1%8B%D0%B9-%D0%B0%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA","aria-label":"шаг четвёртый автозапуск permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Шаг четвёртый: автозапуск"),"\n",s.createElement(n.p,null,"Автор придерживается убеждения, что хороший дистрибутив не тот, который думает за пользователя, но тот, что даёт пользователю право выбора и право быть самодержцем в своей операционной системе. Такой дистибутив по определению должен быть прозрачен как слеза младенца и делать только то, что ему указано — ничего сверх этого. Наш друг Дебиан мало того, что славится своей устрашающей системой инициализации, так ещё и, с позволения сказать, шкодничает. При установке какого-либо демона он автоматически помещает его в автозапуск, чего хороший дистрибутив делать не станет. В итоге при инициализации системы происходит и запуск всех демонов, большинство из которых совершенно не нужны в повседневной работе. Таким образом, дабы система загружалась быстрее и поглощала меньше ресурсов, надобно всё лишнее поотключать."),"\n",s.createElement(n.p,null,"Для этого нужно просмотреть список автозагрузки и выдернуть из него лишний хлам. Первое можно сделать, просмотрев содержимое каталога ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/init.d</code>'}})," либо используя утилиту ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">chkconfig</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 646px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 48.666666666666664%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/94fcd42d1b30e8da9125349af244850c/e93cc/chkconfig-debian.webp 300w,\n/static/94fcd42d1b30e8da9125349af244850c/b0544/chkconfig-debian.webp 600w,\n/static/94fcd42d1b30e8da9125349af244850c/c85e8/chkconfig-debian.webp 646w"\n              sizes="(max-width: 646px) 100vw, 646px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/94fcd42d1b30e8da9125349af244850c/eed55/chkconfig-debian.png 300w,\n/static/94fcd42d1b30e8da9125349af244850c/7491f/chkconfig-debian.png 600w,\n/static/94fcd42d1b30e8da9125349af244850c/d217e/chkconfig-debian.png 646w"\n            sizes="(max-width: 646px) 100vw, 646px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/94fcd42d1b30e8da9125349af244850c/d217e/chkconfig-debian.png"\n            alt="chkconfig"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Удалить из автозапуска: ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text"># update-rc.d -f cups remove</code>'}})," или ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text"># insserv -r cups (≥ debian 6)</code>'}}),", где ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cups</code>'}})," — искомый демон."),"\n",s.createElement(n.p,null,"Команда добавления в автозапуск, которая вряд ли когда-либо понадобится ввиду излишней интеллектуальности Дебиана:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># update-rc.d cups defaults # или insserv cups defaults (≥ debian 6)</span></code></pre></div>'}}),"\n",s.createElement(n.h2,{id:"прочее",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BF%D1%80%D0%BE%D1%87%D0%B5%D0%B5","aria-label":"прочее permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Прочее"),"\n",s.createElement(n.p,null,"Также были отмечены некоторые странности как то: в процессе установки была выбрана возможность входа от суперпользователя. Тем не менее, Debian не предложил создать для него пароль и при входе в систему рут оказался беспарольным. Разумеется, это тоже не представляет большой проблемы и исправляется командой ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">passwd</code>'}}),"."),"\n",s.createElement(n.p,null,"К странностям новой версии можно отнести добродушное пожелание ОС напоминать о выходе новой версии... Ubuntu. Но, скажите, какого лешего?"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 579px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 72%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/785c808adffb42b5dcb25a65b875b162/e93cc/ubuntu_in_debian.webp 300w,\n/static/785c808adffb42b5dcb25a65b875b162/4ea78/ubuntu_in_debian.webp 579w"\n              sizes="(max-width: 579px) 100vw, 579px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/785c808adffb42b5dcb25a65b875b162/eed55/ubuntu_in_debian.png 300w,\n/static/785c808adffb42b5dcb25a65b875b162/ee271/ubuntu_in_debian.png 579w"\n            sizes="(max-width: 579px) 100vw, 579px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/785c808adffb42b5dcb25a65b875b162/ee271/ubuntu_in_debian.png"\n            alt="ubuntu in debian"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"С xfce сдружиться не получилось. В конечном варианте остался ",s.createElement(n.a,{href:"/posts/openbox/"},"openbox"),", благодяря которому рабочий стол приобрёл приятный и в то же время минималистичный вид."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/f862bc25e18141d312f1981adc61bfb3/e93cc/debi_openbox.webp 300w,\n/static/f862bc25e18141d312f1981adc61bfb3/b0544/debi_openbox.webp 600w,\n/static/f862bc25e18141d312f1981adc61bfb3/53334/debi_openbox.webp 1024w"\n              sizes="(max-width: 1024px) 100vw, 1024px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/f862bc25e18141d312f1981adc61bfb3/eed55/debi_openbox.png 300w,\n/static/f862bc25e18141d312f1981adc61bfb3/7491f/debi_openbox.png 600w,\n/static/f862bc25e18141d312f1981adc61bfb3/658fc/debi_openbox.png 1024w"\n            sizes="(max-width: 1024px) 100vw, 1024px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/f862bc25e18141d312f1981adc61bfb3/658fc/debi_openbox.png"\n            alt="debian openbox"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"«Умолчательные» приложения не вдохновляют на совершение трудовых подвигов. Из нужного автору в огромном стандартном репозитории Debian'a не нашлось места для ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">spacefm, compton, sublime text 2</code>'}}),". Так на кой чёрт мне репозиторий в 37.000 пакетов, если в нём нет нескольких горячо любимых программ?"),"\n",s.createElement(n.h2,{id:"подведение-итогов",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BF%D0%BE%D0%B4%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B8%D1%82%D0%BE%D0%B3%D0%BE%D0%B2","aria-label":"подведение итогов permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Подведение итогов"),"\n",s.createElement(n.p,null,"Собственно, зачем это всё затевалось? Во-первых, появилось желание одним глазком посмотреть на любимый когда-то дистрибутив. Во-вторых, возникла надобность поставить на внешний диск надёжную рабочую лошадку, не требующую ухода (таково моё мнение о Debain в целом). Надо также отметить, что данный пост, скорее всего, будет последним касающимся установки/настройки дистрибутива, если только автору не взбредёт в голову поставить Slackware Linux. Оставшиеся самобытные ОС — Gentoo, Archlinux — уже были рассмотрены ранее, иные же являются лишь их потомками, зачастую имеют простой графический установщик и мало чем отличаются в настройке."),"\n",s.createElement(n.p,null,"Претензии к Wheezy:"),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,"удручающе ",s.createElement(n.em,null,"старый софт")," (прежде всего версия ядра)"),"\n",s.createElement(n.li,null,"невозможно без слёз смотреть на ",s.createElement(n.em,null,"шрифт")),"\n",s.createElement(n.li,null,"на то, что пользователи «красноглазых» дистрибутивов настраивают с пол-оборота, в дебиане приходится потратить ",s.createElement(n.em,null,"изрядное количество времени")),"\n",s.createElement(n.li,null,"нет ",s.createElement(n.em,null,"привычных проверенных программ"),", которые широко используются в подавляющем большинстве дистрибутивов"),"\n",s.createElement(n.li,null,"система считает себя ",s.createElement(n.em,null,"умнее хозяина")," (одна из причин, почему так много дружелюбных к пользователю дистрибутивов основано на Дебиане)"),"\n"),"\n",s.createElement(n.p,null,"Итог: ностальгия быстро улетучилась, Дебиан остался на внешнем жёстком диске в качестве запасной рабочей лошадки и бэкап-хранилища для ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/home</code>'}})," каталога."))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.MN)(),e.components);return n?s.createElement(n,e,s.createElement(l,e)):l(e)},i=a(7792),o=a(7619);function p(e){var n,a;let{data:{mdx:t},children:l,pageContext:{prev:c,next:p}}=e;const{h1:r,title:g,description:d,image:m,table_of_contents:b}=t.frontmatter;return(0,s.useEffect)((()=>{(0,o.K)()}),[]),s.createElement(s.Fragment,null,s.createElement(i._W,{h1:r,title:g,description:d,image:null===(n=t.frontmatter.image)||void 0===n?void 0:n.publicURL},s.createElement(i.MV,{post:t.frontmatter,imageData:null==m||null===(a=m.childImageSharp)||void 0===a?void 0:a.gatsbyImageData},b?s.createElement(i.G8,{headings:t.tableOfContents}):null,s.createElement("div",{className:"page__content"},l,s.createElement(i.Mf,{prev:c,next:p})),s.createElement(i.QZ,null))))}function r(e){return s.createElement(p,e,s.createElement(c,e))}},8876:function(e,n,a){a.d(n,{MN:function(){return l}});var t=a(4424);const s=t.createContext({});function l(e){const n=t.useContext(s);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);