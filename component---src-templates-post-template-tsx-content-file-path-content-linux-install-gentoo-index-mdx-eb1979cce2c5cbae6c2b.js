"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[3276],{7444:function(e,n,a){a.r(n),a.d(n,{Head:function(){return o.Ss},default:function(){return p}});var t=a(8876),s=a(4424);function l(e){const n=Object.assign({p:"p",a:"a",h2:"h2",span:"span",ul:"ul",li:"li",h3:"h3",strong:"strong"},(0,t.MN)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.p,null,'Сегодня будем развенчивать миф о сложности установки Gentoo. Почему установка "по-русски"?\nПотому что настраивать станем русскую локаль, раскладку и временную зону. Статья получилась\nдовольно объёмной, для тех, кто не знает, как скоротать долгий вечер).'),"\n",s.createElement(n.p,null,"Предлагается вооружиться знаниями об архитектуре своего процессора, перейти на\nстраницу ",s.createElement(n.a,{href:"https://get.gentoo.org/",target:"_blank",rel:"nofollow"},"get gentoo"),", выбрать эту самую\nархитектуру и после стольких утомительных мышкодвижений скачать и записать на диск\n(или usb-flash) нужный образ:"),"\n",s.createElement(n.p,null,"stages → current iso → install-$ARCH-minimal-*.iso."),"\n",s.createElement(n.h2,{id:"загрузитесь-с-сd-диска",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%B8%D1%82%D0%B5%D1%81%D1%8C-%D1%81-%D1%81d-%D0%B4%D0%B8%D1%81%D0%BA%D0%B0","aria-label":"загрузитесь с сd диска permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Загрузитесь с СD-диска."),"\n",s.createElement(n.p,null,"Грузимся с параметрами по умолчанию."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 445px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 64.33333333333333%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/8336c4ae72b8b0248d7f2dc4f492d802/e93cc/gentoo_boot.webp 300w,\n/static/8336c4ae72b8b0248d7f2dc4f492d802/4772b/gentoo_boot.webp 445w"\n              sizes="(max-width: 445px) 100vw, 445px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/8336c4ae72b8b0248d7f2dc4f492d802/eed55/gentoo_boot.png 300w,\n/static/8336c4ae72b8b0248d7f2dc4f492d802/d3ae0/gentoo_boot.png 445w"\n            sizes="(max-width: 445px) 100vw, 445px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/8336c4ae72b8b0248d7f2dc4f492d802/d3ae0/gentoo_boot.png"\n            alt="gettoo boot"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.h2,{id:"настройка-интернет-соединения",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82-%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F","aria-label":"настройка интернет соединения permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Настройка интернет-соединения:"),"\n",s.createElement(n.p,null,"автор использует модемное соединение, данные передаются автоматически при помощи DHCP."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># /sbin/ifconfig</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"если кроме интерфейса lo больше ничего нет, значит делаем следующее:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># dhcpcd eth0 (где ваш сетевой интерфейс - eth0)</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"после чего повторяем команду ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/sbin/ifconfig</code>'}})),"\n",s.createElement(n.p,null,"теперь у нас появились данные интерфейса ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">eth0</code>'}}),"."),"\n",s.createElement(n.p,null,"Для настройки adsl-соединения:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># pppoe-setup</span>\n<span class="token comment"># net-setup eth0 (для обычных или беспроводных сетей)</span>\n<span class="token comment"># ping ya.ru - пингуем яндекс</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"чтобы прервать пинги:"),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ctrl+C</code>'}})),"\n",s.createElement(n.p,null,"Также для настройки обычного или беспроводного соединения можно использовать\nкоманду ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">net-setup eth0</code>'}}),", где ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">eth0</code>'}})," — имя сетевого интерфейса.\nИнтернет настроили, идём дальше"),"\n",s.createElement(n.h2,{id:"создание-разделов-диска",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2-%D0%B4%D0%B8%D1%81%D0%BA%D0%B0","aria-label":"создание разделов диска permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Создание разделов диска"),"\n",s.createElement(n.p,null,"Для этого воспользуемся ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">cfdisk</code>'}}),":"),"\n",s.createElement(n.p,null,"перед тем,как создавать разделы,сядьте и подумайте какие,какого размера и с какой файловой системой."),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/</code>'}})," - корневой каталог"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/home</code>'}})," - директории пользователей"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}})," - загрузочные файлы"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/usr</code>'}})," - пользовательские приложения."),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/var</code>'}})," - изменяемые приложения, лучше не жадничать хотя бы потому,что там будут компилироваться наши пакеты"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/opt</code>'}})," - большой размер нужен для игрового сервера"),"\n"),"\n",s.createElement(n.p,null,"Лучше записать то, что вы себе насочиняли. Для домашнего использования можно\nобойтись стандартными каталогами ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}}),", ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/</code>'}})," , ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">swap</code>'}}),"."),"\n",s.createElement(n.h3,{id:"непосредственно-создание-разделов",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B5%D0%BF%D0%BE%D1%81%D1%80%D0%B5%D0%B4%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2","aria-label":"непосредственно создание разделов permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Непосредственно создание разделов:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cfdisk /dev/sda</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"где ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">sda</code>'}})," - SCSI-диск; ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">hda</code>'}})," - IDE-диск. Выбирайте что нужно вам."),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">news</code>'}})," - создание нового раздела"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">type</code>'}})," - выбор типа файловой системы (83 - Linux, 82 - ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">swap</code>'}}),")"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">bootable</code>'}})," - отметить как загрузочный (укажите для раздела,в который хотите смонтировать ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}}),"!)"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">write</code>'}})," - записать изменения"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">delete</code>'}})," - удалить"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">quit</code>'}})," - выйти"),"\n"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 837px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 87.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/e7fe9a910b84416776d5c00a4218451e/e93cc/gentoo_cfdisk.webp 300w,\n/static/e7fe9a910b84416776d5c00a4218451e/b0544/gentoo_cfdisk.webp 600w,\n/static/e7fe9a910b84416776d5c00a4218451e/1e9da/gentoo_cfdisk.webp 837w"\n              sizes="(max-width: 837px) 100vw, 837px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/e7fe9a910b84416776d5c00a4218451e/eed55/gentoo_cfdisk.png 300w,\n/static/e7fe9a910b84416776d5c00a4218451e/7491f/gentoo_cfdisk.png 600w,\n/static/e7fe9a910b84416776d5c00a4218451e/084a5/gentoo_cfdisk.png 837w"\n            sizes="(max-width: 837px) 100vw, 837px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/e7fe9a910b84416776d5c00a4218451e/084a5/gentoo_cfdisk.png"\n            alt="cfdisk"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.h3,{id:"назначение-файловой-системы",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B","aria-label":"назначение файловой системы permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Назначение файловой системы:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mke2fs /dev/sda1 - создание `ext2` на разделе `/dev/sda1`</span>\n<span class="token comment"># mke2fs -j /dev/sda3 - создание `ext3` на разделе `/dev/sda3`</span>\n<span class="token comment"># mkswap /dev/sda2 - создание раздела подкачки на `/dev/sda2`</span>\n<span class="token comment"># swapon /dev/sda2 - и его активация</span>\n<span class="token comment"># mkfs.ext4 - создание `ext4`, если не желаете использовать `ext3`</span></code></pre></div>'}}),"\n",s.createElement(n.h3,{id:"назначение-точек-монтирования",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D1%82%D0%BE%D1%87%D0%B5%D0%BA-%D0%BC%D0%BE%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F","aria-label":"назначение точек монтирования permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Назначение точек монтирования:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mount /dev/sda3 /mnt/gentoo - монтируем корень</span>\n<span class="token comment"># mkdir /mnt/gentoo/boot - раздел под загрузчик</span>\n<span class="token comment"># mount /dev/sda1 /mnt/gentoo/boot - монтирование раздела загрузчика</span></code></pre></div>'}}),"\n",s.createElement(n.h2,{id:"архив-стадии-дерево-портежей",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%B0%D1%80%D1%85%D0%B8%D0%B2-%D1%81%D1%82%D0%B0%D0%B4%D0%B8%D0%B8-%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE-%D0%BF%D0%BE%D1%80%D1%82%D0%B5%D0%B6%D0%B5%D0%B9","aria-label":"архив стадии дерево портежей permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Архив стадии, дерево портежей"),"\n",s.createElement(n.p,null,"В качестве источника загрузки автором было использовано зеркало ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mirror.yandex.ru</code>'}}),"\nВнимательно следите за тем,чтобы загрузить подходящий скачанному вами образу архив. В примере использован amd64."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cd /mnt/gentoo</span>\n<span class="token comment"># links http://mirror.yandex.ru/gentoo-distfiles/releases/amd64/current-iso/</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Выберите файл ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">stage3*.tar.bz</code>'}})," и нажмите ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">enter</code>'}}),". Начнётся загрузка архива, это 161 Мб, так что пока можно попить кофейку."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 978px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/0be852145e11ed2c94275f9e1145c145/e93cc/gentoo2.webp 300w,\n/static/0be852145e11ed2c94275f9e1145c145/b0544/gentoo2.webp 600w,\n/static/0be852145e11ed2c94275f9e1145c145/47bc2/gentoo2.webp 978w"\n              sizes="(max-width: 978px) 100vw, 978px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/0be852145e11ed2c94275f9e1145c145/eed55/gentoo2.png 300w,\n/static/0be852145e11ed2c94275f9e1145c145/7491f/gentoo2.png 600w,\n/static/0be852145e11ed2c94275f9e1145c145/e3645/gentoo2.png 978w"\n            sizes="(max-width: 978px) 100vw, 978px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/0be852145e11ed2c94275f9e1145c145/e3645/gentoo2.png"\n            alt="gentoo install"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Загрузили? Распаковываем:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># tar xvjpf stage3-*.tar.bz</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Теперь сделаем снимок дерева портежей"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># links http://mirror.yandex.ru/gentoo-distfiles/snapshots/</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"выбираем внизу ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">portage-latest.tar.bz2</code>'}})),"\n",s.createElement(n.p,null,"Начнётся загрузка."),"\n",s.createElement(n.p,null,"распаковываем (из корневого каталога):"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># tar xvjf /mnt/gentoo/portage-latest.tar.bz2 -C /mnt/gentoo/usr</span></code></pre></div>'}}),"\n",s.createElement(n.h2,{id:"настройка-компиляции-ядра",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D0%B8-%D1%8F%D0%B4%D1%80%D0%B0","aria-label":"настройка компиляции ядра permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Настройка компиляции ядра"),"\n",s.createElement(n.p,null,"Настройки хранятся в файле ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">mnt/gentoo/etc/portage/make.conf</code>'}}),". Его и открываем любимым редактором (joe, nano, vi?)\nЗдесь используются переменные и значения. Пример:"),"\n",s.createElement(n.p,null,"переменная - ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">CHOST</code>'}}),", её значение - ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">x86_64-pc-linux-gnu</code>'}})," - указывает на архитектуру процессора\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">CFLAGS="-march=k8 -pipe -O2"</code>'}})," - где"),"\n",s.createElement(n.p,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">"-march=k8"</code>'}})," - название целевой архитектуры, ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">k8</code>'}})," прописывается для amd64, ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-О2</code>'}})," - классс оптимизации."),"\n",s.createElement(n.p,null,s.createElement(n.strong,null,"Допустимые значения:")),"\n",s.createElement(n.ul,null,"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-s</code>'}})," оптимизация по размеру"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-0</code>'}})," без оптимизации"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">-1 -2 -3</code>'}})," - по скорости"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">CXXFLAGS="${CFLAGS}"</code>'}})," - не изменяйте её"),"\n",s.createElement(n.li,null,s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">MAKEOPTS="-j2"</code>'}})," - определяет сколько параллельных процессов компиляции можно запускать при установке пакета. Обычно ставят значение равное количеству ядер процессора +1. Если ваш процессор поддерживает технологию Hyper-threading, разумное значение будет: количество доступных ядер, умноженное на 2 +1."),"\n"),"\n",s.createElement(n.p,null,"Более тонкой настройки можно пока не делать, займёмся этим позже."),"\n",s.createElement(n.h3,{id:"выбор-зеркал-dns-chroot",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%B2%D1%8B%D0%B1%D0%BE%D1%80-%D0%B7%D0%B5%D1%80%D0%BA%D0%B0%D0%BB-dns-chroot","aria-label":"выбор зеркал dns chroot permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Выбор зеркал, DNS, chroot"),"\n",s.createElement(n.p,null,"Действия в примере производятся из каталога ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/</code>'}})),"\n",s.createElement(n.p,null,"Выбор зеркала загрузки"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mirrorselect -i -o >> /mnt/gentoo/etc/portage/make.conf</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Выбор зеркала rsync:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mirrorselect -i -r -o >> /mnt/gentoo/etc/portage/make.conf</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Из предложенного списка выберите зеркала России."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 882px; flex:3;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/31b39112ed208342a07dd7d6f51bda59/e93cc/gentoo4_rsync.webp 300w,\n/static/31b39112ed208342a07dd7d6f51bda59/b0544/gentoo4_rsync.webp 600w,\n/static/31b39112ed208342a07dd7d6f51bda59/344e2/gentoo4_rsync.webp 882w"\n              sizes="(max-width: 882px) 100vw, 882px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/31b39112ed208342a07dd7d6f51bda59/eed55/gentoo4_rsync.png 300w,\n/static/31b39112ed208342a07dd7d6f51bda59/7491f/gentoo4_rsync.png 600w,\n/static/31b39112ed208342a07dd7d6f51bda59/2e4b5/gentoo4_rsync.png 882w"\n            sizes="(max-width: 882px) 100vw, 882px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/31b39112ed208342a07dd7d6f51bda59/2e4b5/gentoo4_rsync.png"\n            alt="gentoo rsync"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Нелишним будет скопировать информацию о DNS"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Монтируем ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/proc</code>'}}),", ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">sys</code>'}})," & ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/dev</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mount -t proc none /mnt/gentoo/proc</span>\n<span class="token comment"># mount -o bind /dev /mnt/gentoo/dev</span>\n<span class="token comment"># mount -t sysfs none /mnt/gentoo/sys</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Переходим в новую среду с помощью ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">chroot</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># chroot /mnt/gentoo /bin/bash</span>\n<span class="token comment"># env-update</span>\n<span class="token comment"># source /etc/profile</span>\n<span class="token comment"># export PS1="(chroot) $PS1"</span></code></pre></div>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 553px; flex:3;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 39.666666666666664%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/0a19cd2c4cf336d5cd2b2e9ff9442a23/e93cc/gentoo3_chroot1.webp 300w,\n/static/0a19cd2c4cf336d5cd2b2e9ff9442a23/a4f05/gentoo3_chroot1.webp 553w"\n              sizes="(max-width: 553px) 100vw, 553px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/0a19cd2c4cf336d5cd2b2e9ff9442a23/eed55/gentoo3_chroot1.png 300w,\n/static/0a19cd2c4cf336d5cd2b2e9ff9442a23/d4bfa/gentoo3_chroot1.png 553w"\n            sizes="(max-width: 553px) 100vw, 553px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/0a19cd2c4cf336d5cd2b2e9ff9442a23/d4bfa/gentoo3_chroot1.png"\n            alt="chroot"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.h2,{id:"прочие-премудрости",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BF%D1%80%D0%BE%D1%87%D0%B8%D0%B5-%D0%BF%D1%80%D0%B5%D0%BC%D1%83%D0%B4%D1%80%D0%BE%D1%81%D1%82%D0%B8","aria-label":"прочие премудрости permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Прочие премудрости"),"\n",s.createElement(n.p,null,"Обновите дерево портежей:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># mkdir /usr/portage</span>\n<span class="token comment"># emerge --sync</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"это может занять какое-то время, не пугайтесь"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># emerge portage - если выдаёт сообщение о новой версии портежей</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Выбор профиля:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># eselect profile list</span>\nAvailable profile symlink targets:\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>   default/linux/amd64/10.0 *\n<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>   default/linux/amd64/10.0/desktop\n<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>   default/linux/amd64/10.0/server\n<span class="token comment"># eselect profile set 3</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Думаю, приведённые действия не нуждаются в пояснении, всё ясно из названий профилей.\nНужно лишь выбрать необходимый вам, исходя из ваших задач."),"\n",s.createElement(n.h3,{id:"use-флаги",style:{position:"relative"}},s.createElement(n.a,{href:"#use-%D1%84%D0%BB%D0%B0%D0%B3%D0%B8","aria-label":"use флаги permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"USE-флаги"),"\n",s.createElement(n.p,null,"Служат для включения/отключения поддержки необязательных функций при компиляции программ.\nВам не нужен X-сервер? Допишите значение ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">"-X"</code>'}}),". Не нужна поддержка qt? Значит ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">"-qt"</code>'}}),".\nИ наоборот включите поддержку unicode: ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">"unicode"</code>'}}),".\nПосмотреть допустимые значения:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># less /usr/portage/profiles/use.desc</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Значения дописываются в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/portage/make.conf</code>'}})," в строку USE"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /etc/portage/make.conf</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Например:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 825px; flex:3;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 37.333333333333336%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/c4f13c00d385bd3049d2c6927305b3a2/e93cc/gentoo_use1.webp 300w,\n/static/c4f13c00d385bd3049d2c6927305b3a2/b0544/gentoo_use1.webp 600w,\n/static/c4f13c00d385bd3049d2c6927305b3a2/fb185/gentoo_use1.webp 825w"\n              sizes="(max-width: 825px) 100vw, 825px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/c4f13c00d385bd3049d2c6927305b3a2/eed55/gentoo_use1.png 300w,\n/static/c4f13c00d385bd3049d2c6927305b3a2/7491f/gentoo_use1.png 600w,\n/static/c4f13c00d385bd3049d2c6927305b3a2/7f529/gentoo_use1.png 825w"\n            sizes="(max-width: 825px) 100vw, 825px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/c4f13c00d385bd3049d2c6927305b3a2/7f529/gentoo_use1.png"\n            alt="use flags"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.h3,{id:"настройка-кодировки",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BA%D0%BE%D0%B4%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B8","aria-label":"настройка кодировки permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Настройка кодировки:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /etc/locale.gen</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"вы увидите список закомментированных строк с кодировками, вот сверху или же ниже его впишите:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">en_US.UTF-8 UTF-8\nru_RU.UTF-8 UTF-8</code></pre></div>'}}),"\n",s.createElement(n.p,null,"сохраните изменения и выйдите: ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ctrl+O</code>'}}),", ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">Ctrl+Q</code>'}})),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># locale-gen</span></code></pre></div>'}}),"\n",s.createElement(n.h3,{id:"настройка-времени",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8","aria-label":"настройка времени permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Настройка времени:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cp /usr/share/zoneinfo/Europe/Moscow /etc/localtime</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Теперь наше локальное время идёт по Кремлёвским курантам))\nМожете скопировать любое место вашей дислокации из ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/usr/share/zoneinfo</code>'}})),"\n",s.createElement(n.h2,{id:"ядро",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%8F%D0%B4%D1%80%D0%BE","aria-label":"ядро permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Ядро"),"\n",s.createElement(n.p,null,"Скачаем исходники ядра"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># USE="-doc symlink" emerge gentoo-sources</span></code></pre></div>'}}),"\n",s.createElement(n.h3,{id:"установка-ядра",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D1%8F%D0%B4%D1%80%D0%B0","aria-label":"установка ядра permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Установка ядра"),"\n",s.createElement(n.p,null,"Способ 1 - всё и сразу"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># emerge genkernel</span>\n<span class="token comment"># genkernel all</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В результате получим ядро с поддержкой разного ненужного хлама. Плюс этого способа - простота.\nПримечание: можно подправить ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/genkernel.conf</code>'}}),", включив в нём параметры:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">OLDCONFIG</span><span class="token operator">=</span><span class="token string">"yes"</span>\n<span class="token assign-left variable">MENUCONFIG</span><span class="token operator">=</span><span class="token string">"yes"</span>\n<span class="token assign-left variable">CLEAN</span><span class="token operator">=</span><span class="token string">"no"</span>\n<span class="token assign-left variable">MRPROPER</span><span class="token operator">=</span><span class="token string">"no"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В таком случае вы сможете собрать своё ядро, а genkernel сделает всё остальное.\nПосле сборки можете просто проверить название созданного ядра и initrd, а затем\nобратиться к дальнейшему пункту о сборке программ:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># ls /boot/kernel* /boot/initramfs*</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Способ 2 - ",s.createElement(n.a,{href:"/posts/kernel-v3/"},"только то, что нужно")),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># emerge pcutils (с её помощью вы сможете посмотреть аппаратную часть своего ПК)</span>\n<span class="token comment"># cd /usr/src/linux (переход в каталог с исходниками)</span>\n<span class="token comment"># make menuconfig (вызов меню с настройками)</span></code></pre></div>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 814px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 70.33333333333334%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/2763f9699c12a91d31100100a143ca5b/e93cc/gentoo_menuconfig.webp 300w,\n/static/2763f9699c12a91d31100100a143ca5b/b0544/gentoo_menuconfig.webp 600w,\n/static/2763f9699c12a91d31100100a143ca5b/e13d5/gentoo_menuconfig.webp 814w"\n              sizes="(max-width: 814px) 100vw, 814px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/2763f9699c12a91d31100100a143ca5b/eed55/gentoo_menuconfig.png 300w,\n/static/2763f9699c12a91d31100100a143ca5b/7491f/gentoo_menuconfig.png 600w,\n/static/2763f9699c12a91d31100100a143ca5b/c3665/gentoo_menuconfig.png 814w"\n            sizes="(max-width: 814px) 100vw, 814px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/2763f9699c12a91d31100100a143ca5b/c3665/gentoo_menuconfig.png"\n            alt="make menuconfig"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Здесь всё строго индивидуально. Используете usb-мышь или клавиатуру? Проверьте включена ли их поддержка. Хотите, чтобы система понимала NTFS? Проверьте включена ли её поддержка. Настроек хватит на всё: тип процессора, видео, звук, поддержка файловых систем, девайсов устройств, поддерживаемых кодировок. Просто пройдитесь по пунктам меню и поразбирайтесь,что вам нужно,а что нет. Если вы испытываете затруднения с этим, можете ознакомиться со следующей заметкой, а затем продолжить."),"\n",s.createElement(n.p,null,"Настроили? Теперь ядро нужно скомпилировать и установить:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># make &amp;&amp; make modules_install - для тех, кто занимался ручной сборкой</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"И скопировать ядро в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cp arch/x86_64/boot/bzImage /boot/</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Пример:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cp arch/x86_64/boot/bzImage /boot/2.6.37-gentoo-r4</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Если вы собрали ядро с initramfs, следует всё же установить genkernel и скомандовать:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># genkernel --install initramfs</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Сборка программ, конфигурирование модулей, настройка загрузчика"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># emerge udev (автоматическое распознавание устройств) syslog-ng (служба журналирования) vixie-cron (что такое cron, думаю, знают все) dhcpcd (автоматическое получение IP-адреса, если у вас это дело статично, можете не ставить)</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Теперь добавляем эти вещи в автозагрузку:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># rc-update add udev boot</span>\n<span class="token comment"># rc-update add syslog-ng default</span>\n<span class="token comment"># rc-update add vixie-cron default</span>\n<span class="token comment"># rc-update add dhcpcd default</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,s.createElement(n.strong,null,"Примечание:")),"\n",s.createElement(n.p,null,"Если вы владелец беспроводного соединения, лучше заранее озаботиться о простом\nспособе подключения к сети после первой перезагрузки. Например, установить wicd\nс флагом ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">ncurses</code>'}}),": это позволит провести настройку с помощью вызова\nwicd-curses. Также не забывайте заглянуть в содержимое ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/resolv.conf</code>'}}),",\nкоторое может быть перезаписано dhcpcd."),"\n",s.createElement(n.p,null,"Проверяем наши устройства:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /ets/fstab</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Должно получиться примерно так:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># NOTE: If your BOOT partition is ReiserFS, add the notail option to opts.</span>\n/dev/sda1    /boot           ext2            noatime <span class="token number">1</span> <span class="token number">2</span>\n/dev/sda2    /               ext4            noatime         <span class="token number">0</span> <span class="token number">1</span>\n/dev/sda5    none            swap            defaults        <span class="token number">0</span> <span class="token number">0</span>\n/dev/sda6    /home           ext4            noatime         <span class="token number">0</span> <span class="token number">0</span>\ntmpfs        /var/tmp        tmpfs           <span class="token assign-left variable">size</span><span class="token operator">=</span>4G,noatime <span class="token number">0</span> <span class="token number">0</span>\ntmpfs        /var/log        tmpfs           <span class="token assign-left variable">size</span><span class="token operator">=</span>10M        <span class="token number">0</span> <span class="token number">0</span>\ndebugfs      /sys/kernel/debug  debugfs      defaults        <span class="token number">0</span> <span class="token number">0</span>\n<span class="token comment">#/dev/cdrom  /mnt/cdrom      auto            noauto,ro       0 0</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Обратите внимание: нужно убрать параметр noauto напротив ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}})," (в данном\nпримере ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/boot</code>'}})," расположен на ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/sda1</code>'}}),"). Вообще, boot и swap-разделы создавать\nнеобязательно. Монтирование ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">tmpfs</code>'}})," и ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">debugfs</code>'}})," по вкусу и потребностям."),"\n",s.createElement(n.p,null,"Имя хоста:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /etc/conf.d/hostname</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Укажите здесь имя своего ПК"),"\n",s.createElement(n.p,null,"Сеть:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /etc/conf.d/net</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"дописываем:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/conf.d/net</span>\n<span class="token comment">#</span>\n<span class="token assign-left variable">config_eth0</span><span class="token operator">=</span><span class="token string">"dhcp"</span> <span class="token comment"># для получения динамического IP-адреса</span>\n<span class="token comment"># если адрес статичен,то впишите вместо dhcp свою информацию. Например:</span>\n<span class="token assign-left variable">config_eth0</span><span class="token operator">=</span><span class="token string">"192.168.0.2 netmask 255.255.255.0"</span> <span class="token comment"># IP-адрес и адрес сети</span>\n<span class="token assign-left variable">routes_eth0</span><span class="token operator">=</span><span class="token string">"default via 192.168.0.1"</span> <span class="token comment"># роутер</span>\n<span class="token assign-left variable">dns_servers_eth0</span><span class="token operator">=</span><span class="token string">"192.168.0.1 8.8.8.8"</span> <span class="token comment"># DNS-адреса</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Теперь следует указать gentoo на существующий интерфейс. Для этого создайте символьную ссылку на ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">net.eth0</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># cd /etc/init.d</span>\n<span class="token comment"># ln -s net.lo net.eth0</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Добавление сетевого интерфейса в автозагрузку:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># rc-update add net.eth0 default</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Создание пароля для суперпользователя:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># passwd</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"впишите пароль для учётной записи root"),"\n",s.createElement(n.p,null,"Примечание: можете также ознакомиться с настройками файла ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/rc.conf</code>'}})," (редактор по умолчанию, графическая среда и прочее)"),"\n",s.createElement(n.p,null,"Настройка раскладки клавиатуры:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/conf.d/keymaps</span>\n<span class="token assign-left variable">KEYMAP</span><span class="token operator">=</span><span class="token string">"ru"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Настройка часов:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token comment"># /etc/conf.d/clock</span>\n<span class="token assign-left variable">CLOCK</span><span class="token operator">=</span><span class="token string">"local"</span>\n<span class="token assign-left variable">TIMEZONE</span><span class="token operator">=</span><span class="token string">"Europe/Moscow"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Установка загрузчика grub2:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># nano -w /etc/portage/make.conf</span>\n<span class="token assign-left variable">GRUB_PLATFORMS</span><span class="token operator">=</span><span class="token string">"pc"</span>\n\n<span class="token comment"># emerge -av grub sysboot/os-prober</span>\n<span class="token comment"># grub2-install /dev/sda</span>\n<span class="token comment"># grub2-mkconfig -o /boot/grub/grub.cfg</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"По состоянию на 2015 год в gentoo предлагается установка grub2 по-умолчанию,\nхотя вы всегда можете выбрать любой другой загрузчик: grub-legacy, lilo."),"\n",s.createElement(n.h2,{id:"финиш",style:{position:"relative"}},s.createElement(n.a,{href:"#%D1%84%D0%B8%D0%BD%D0%B8%D1%88","aria-label":"финиш permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Финиш"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># exit</span>\n<span class="token comment"># cd</span>\n<span class="token comment"># umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo/dev /mnt/gentoo (в общем последовательно отмонтируйте всё, что смонтировали в `/mnt`)</span>\n<span class="token comment"># reboot</span></code></pre></div>'}}),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; flex:1;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 79.66666666666667%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/28d379878fd5a514fdf62a231d954166/e93cc/gentoo_grub4.webp 300w,\n/static/28d379878fd5a514fdf62a231d954166/dc7b0/gentoo_grub4.webp 591w"\n              sizes="(max-width: 591px) 100vw, 591px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/28d379878fd5a514fdf62a231d954166/eed55/gentoo_grub4.png 300w,\n/static/28d379878fd5a514fdf62a231d954166/054b3/gentoo_grub4.png 591w"\n            sizes="(max-width: 591px) 100vw, 591px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/28d379878fd5a514fdf62a231d954166/054b3/gentoo_grub4.png"\n            alt="grub"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",s.createElement(n.p,null,"Перезагрузка, загрузка ПК с винчестера и вас встречают приглашением входа в систему.\nПоздравляю, вы победили!"),"\n",s.createElement(n.h2,{id:"локализация-системы",style:{position:"relative"}},s.createElement(n.a,{href:"#%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B","aria-label":"локализация системы permalink",className:"anchor before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Локализация системы"),"\n",s.createElement(n.p,null,"Перезагрузившись, мы обнаружим прескверную вещь: кириллица отображается квадратиками. Что ж, в ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">locale.gen</code>'}})," нужные настройки внесены, продолжим квест по русификации системы."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># emerge terminus-font intlfonts freefonts cronyx-fonts corefonts kbd</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В файле ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/env.d/02locale</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span><span class="token string">""</span>\n<span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span><span class="token string">"ru_RU.UTF-8"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/conf.d/keymaps</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">keymap</span><span class="token operator">=</span><span class="token string">"ruwin_alt_sh-UTF-8"</span>\n<span class="token assign-left variable">windowkeys</span><span class="token operator">=</span><span class="token string">"NO"</span>\n<span class="token assign-left variable">extended_keymaps</span><span class="token operator">=</span><span class="token string">""</span>\n<span class="token assign-left variable">dumpkeys_charset</span><span class="token operator">=</span><span class="token string">""</span>\n<span class="token assign-left variable">fix_euro</span><span class="token operator">=</span><span class="token string">"NO"</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"В ",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">/etc/conf.d/font</code>'}}),":"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">font</span><span class="token operator">=</span><span class="token string">"cyr-sun16"</span>\n<span class="token assign-left variable">translation</span><span class="token operator">=</span><span class="token string">""</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"После чего прописать font в автозагрузку:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># rc-update add font boot</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"Можно также установить различные шрифты и поэкспериментировать с ними. После пересборки/установки шрифтов желательно выполнить:"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token comment"># fc-cache -fv</span></code></pre></div>'}}))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,t.MN)(),e.components);return n?s.createElement(n,e,s.createElement(l,e)):l(e)},o=a(7792),r=a(7619);function g(e){var n,a;let{data:{mdx:t},children:l,pageContext:{prev:c,next:g}}=e;const{h1:p,title:d,description:i,image:m,table_of_contents:h}=t.frontmatter;return(0,s.useEffect)((()=>{(0,r.K)()}),[]),s.createElement(s.Fragment,null,s.createElement(o._W,{h1:p,title:d,description:i,image:null===(n=t.frontmatter.image)||void 0===n?void 0:n.publicURL},s.createElement(o.MV,{post:t.frontmatter,imageData:null==m||null===(a=m.childImageSharp)||void 0===a?void 0:a.gatsbyImageData},h?s.createElement(o.G8,{headings:t.tableOfContents}):null,s.createElement("div",{className:"page__content"},l,s.createElement(o.Mf,{prev:c,next:g})),s.createElement(o.QZ,null))))}function p(e){return s.createElement(g,e,s.createElement(c,e))}},8876:function(e,n,a){a.d(n,{MN:function(){return l}});var t=a(4424);const s=t.createContext({});function l(e){const n=t.useContext(s);return t.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}}}]);