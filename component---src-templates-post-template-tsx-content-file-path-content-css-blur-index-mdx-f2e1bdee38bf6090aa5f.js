"use strict";(self.webpackChunkgatsby_blog=self.webpackChunkgatsby_blog||[]).push([[5920],{6176:function(n,a,s){s.r(a),s.d(a,{Head:function(){return o.Ss},default:function(){return i}});var t=s(8876),p=s(4424);function e(n){const a=Object.assign({p:"p",span:"span"},(0,t.MN)(),n.components);return p.createElement(p.Fragment,null,p.createElement(a.p,null,"В CSS3 есть множество новых свойств, которые могут значительно ускорить\nвёрстку тех или иных элементов страницы. Например, css-фильтры, об одном из\nкоторых сегодня предлагается поговорить."),"\n",p.createElement(a.p,null,"Каждый из нас хотя бы раз имел возможность наблюдать эффект размытия на\nстранице. Зачастую для его создания используется jQuery-библиотека\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">bjurjs</code>'}}),". Однако, не на всех сайтах целесообразно использовать jQuery, да и\nтехнологии не стоят на месте: теперь мы можем воспользоваться решением на чистом CSS. Попробуем?"),"\n",p.createElement(a.p,null,"Пример простейшей разметки:"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Blur<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>style.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blur<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inner-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Welcome to our website!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",p.createElement(a.p,null,"Итак, задан родительский div с классом ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">wrapper</code>'}}),", служащий контейнером для двух\nвложенных div'ов: ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">inner-wrapper</code>'}})," будет содержать текст приветствия, а ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">blur</code>'}})," —\nизображение, к которому нужно применить эффект размытия."),"\n",p.createElement(a.p,null,"Обратимся к стилям."),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.wrapper</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>\n  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.inner-wrapper,\n.blur</span> <span class="token punctuation">{</span>\n  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>\n  <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>\n  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>\n  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(a.p,null,"Как можно видеть, дочерние блоки абсолютно позиционированы и находятся на\nодном уровне. Дело в том, что эффект размытия будет применяться и к тексту\nприветствия, чего нам хотелось бы избежать. Поэтому лучше управлять положением\nблоков относительно друг друга при помощи ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">z-index</code>'}}),". Сделаем это, а также\nзададим необходимый бэкгрануд для ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">.blur</code>'}}),":"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.inner-wrapper</span> <span class="token punctuation">{</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>\n  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 0 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.blur</span> <span class="token punctuation">{</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span>\n  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>image.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>\n  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>\n  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(a.p,null,"На данный момент получаем простейшую страничку с картинкой и текстом:"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 493px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/e41e1391f83d877bf8883023d3a77cef/e93cc/no-blur.webp 300w,\n/static/e41e1391f83d877bf8883023d3a77cef/2998b/no-blur.webp 493w"\n              sizes="(max-width: 493px) 100vw, 493px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/e41e1391f83d877bf8883023d3a77cef/eed55/no-blur.png 300w,\n/static/e41e1391f83d877bf8883023d3a77cef/dbfc5/no-blur.png 493w"\n            sizes="(max-width: 493px) 100vw, 493px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/e41e1391f83d877bf8883023d3a77cef/dbfc5/no-blur.png"\n            alt="&quot;Без эффекта размытия&quot;"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",p.createElement(a.p,null,"Настало время применить магию! Увы, firefox пока не поддерживает css-фильтры,\nпоэтому в дело пойдёт небольшой трюк: нужно «скормить» ему svg-файл\nсо следующим содержимым:"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token comment">&lt;!-- blur.svg --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.1<span class="token punctuation">"</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blur<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feGaussianBlur</span> <span class="token attr-name">stdDeviation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",p.createElement(a.p,null,"и указать путь к этому файлу, а также обратиться к нужному фильтру. В нашем случае фильтр\nвсего один: тот, что определён под id ",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">blur</code>'}}),". Вот как должен быть преобразован\ncss-код для получения эффекта размытия:"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="css"><pre class="language-css"><code class="language-css"><span class="token selector">.inner-wrapper</span> <span class="token punctuation">{</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 100<span class="token punctuation">;</span> <span class="token comment">/* текст не размыт */</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>\n  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 0 5px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>.5<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.blur</span> <span class="token punctuation">{</span>\n  <span class="token property">z-index</span><span class="token punctuation">:</span> 99<span class="token punctuation">;</span> <span class="token comment">/* изображение размыто */</span>\n  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>image.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>\n  <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>\n  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>\n  <span class="token property">-webkit-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>5px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token property">-moz-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>5px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>5px<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">\'blur.svg#blur\'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span> <span class="token comment">/* путь к svg */</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",p.createElement(a.p,null,"А вот и итоговый вариант с применением эффекта размытия:"),"\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; flex:2;"\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 60%; position: relative; bottom: 0; left: 0; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/081497ccdc05925421a1355163e56027/e93cc/blur.webp 300w,\n/static/081497ccdc05925421a1355163e56027/eb82c/blur.webp 486w"\n              sizes="(max-width: 486px) 100vw, 486px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/081497ccdc05925421a1355163e56027/eed55/blur.png 300w,\n/static/081497ccdc05925421a1355163e56027/451dd/blur.png 486w"\n            sizes="(max-width: 486px) 100vw, 486px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/081497ccdc05925421a1355163e56027/451dd/blur.png"\n            alt="&quot;Эффект blur в действии&quot;"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n    </span>'}}),"\n",p.createElement(a.p,null,"Единственный недостаток: нечёткие границы размытия, которые выходят за пределы\nродительского элемента. Часто такой побочный эффект может быть\nнежелательным. Ну, что ж, можно поиграть с радиусом размытия или применить\n",p.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">overflow: hidden</code>'}}),"."))}var c=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,t.MN)(),n.components);return a?p.createElement(a,n,p.createElement(e,n)):e(n)},o=s(7792),l=s(7619);function u(n){var a,s;let{data:{mdx:t},children:e,pageContext:{prev:c,next:u}}=n;const{h1:i,title:r,description:k,image:g,table_of_contents:d}=t.frontmatter;return(0,p.useEffect)((()=>{(0,l.K)()}),[]),p.createElement(p.Fragment,null,p.createElement(o._W,{h1:i,title:r,description:k,image:null===(a=t.frontmatter.image)||void 0===a?void 0:a.publicURL},p.createElement(o.MV,{post:t.frontmatter,imageData:null==g||null===(s=g.childImageSharp)||void 0===s?void 0:s.gatsbyImageData},d?p.createElement(o.G8,{headings:t.tableOfContents}):null,p.createElement("div",{className:"page__content"},e,p.createElement(o.Mf,{prev:c,next:u})),p.createElement(o.QZ,null))))}function i(n){return p.createElement(u,n,p.createElement(c,n))}},8876:function(n,a,s){s.d(a,{MN:function(){return e}});var t=s(4424);const p=t.createContext({});function e(n){const a=t.useContext(p);return t.useMemo((()=>"function"==typeof n?n(a):{...a,...n}),[a,n])}}}]);